[{"id":"efd52b29672f59155556863c7eae1ead","title":"hexo升级教程","content":"背景：事情起因，将博客的主题升级版本之后，hexo clean &amp;&amp; hexo g -s 后，发现会强制将所有文章的文件的修改日期，在文章中显示，很明显，这是不对的。解决方案是：修改 hexo 工作目录下 _config.yml 中修改为 updated_option: &quot;date&quot; ，但是这个变量是只有 hexo v5.0 才支持，而我当前是 v4.2。\n教程未升级之前，当前配置:\n-   hexo: 4.2.1\n-   node: 16.17.0\n使用 淘宝源的 cnpm：使用 cnpm 替换 npm（使用淘宝源）：\n升级 Hexo:# 使用淘宝源的 cnpm 替换 npm\nnpm install -g cnpm --registry&#x3D;https:&#x2F;&#x2F;registry.npm.taobao.org\n\ncnpm install -g cnpm                 # 升级 npm\ncnpm cache clean -f                 # 清除 npm 缓存\n\n&#x3D;&#x3D;&#x3D;更新 hexo: 进入 blog 目录，执行如下命令&#x3D;&#x3D;&#x3D; \n# 更新 package.json 中的 hexo 及个插件版本\ncnpm install -g npm-check           # 检查之前安装的插件，都有哪些是可以升级的 \ncnpm install -g npm-upgrade         # 升级系统中的插件\nnpm-check\nnpm-upgrade\n\n# 更新 hexo 及所有插件\ncnpm update\n\n# 确认 hexo 已经更新\nhexo -v\n123456789101112131415161718\n\n升级之后的版本hexo: 6.3.0\nhexo-cli: 4.3.0\nos: darwin 22.3.0 13.2\n\nnode: 16.17.0\nv8: 9.4.146.26-node.22\nuv: 1.43.0\nzlib: 1.2.11\nbrotli: 1.0.9\nares: 1.18.1\nmodules: 93\nnghttp2: 1.47.0\nnapi: 8\nllhttp: 6.0.7\nopenssl: 1.1.1q+quic\ncldr: 41.0\nicu: 71.1\ntz: 2022a\nunicode: 14.0\nngtcp2: 0.1.0-DEV\nnghttp3: 0.1.0-DEV\n\n之后再次正常推送，文章的更新日期恢复之前的样子，成功达到预期。\n","slug":"hexo升级教程","date":"2023-01-19T03:14:20.000Z","categories_index":"魔改","tags_index":"hexo,教程,升级","author_index":"丐帮GB"},{"id":"47de789a91cc08b98262c36377b160bd","title":"一个开源的CSDN博客搬家工具","content":"前言出于一些原因我已经放弃了CSDN，打算打造自己的Blog\n我需要提取所有CSDN的文章md格式保存，所以诞生了另一个工具csdn-move\n\n\n\n\n\n\n\n\n\n就如名称一样，就是一个脚本能提取个人博客保存为md 并打包下载。\n演示\n使用方法前往https://blog-console-api.csdn.net/F12 -&gt; console 复制下面那句话，回车var s&#x3D;document.createElement(&#39;script&#39;);document.body.appendChild(s);s.src&#x3D;&#39;&#x2F;&#x2F;cdn.jsdelivr.net&#x2F;gh&#x2F;ame-yu&#x2F;csdn-move@latest&#x2F;dist&#x2F;index.js&#39;;\n\n这并不是一个复杂的项目。如果有人希望从其他博客打包md，也可以留言讨论。\n","slug":"一个开源的CSDN博客搬家工具","date":"2023-01-18T04:58:20.000Z","categories_index":"网络资源","tags_index":"CSDN,博客搬家,工具","author_index":"丐帮GB"},{"id":"47959a151137c719d0653f0628acc3a6","title":"图片转为base64格式","content":"图片为什么要转base64格式图片的 base64 编码就是可以将一副图片数据编码成一串字符串，使用该字符串代替图像地址\n提升性能网页上的每一个图片，都是需要消耗一个 http 请求下载而来的, 图片的下载始终都要向服务器发出请求，要是图片的下载不用向服务器发出请求，base64可以随着 HTML 的下载同时下载到本地.减少https请求。\n加密让用户一眼看不出图片内容 , 只能看到编码。\n方便引用在多个文件同时使用某些图片时, 可以把图片转为base64格式的文件, 把样式放在全局中, 比如common.css, 以后在用的时候就可以直接加类名, 二不需要多层找文件路径, 会提升效率\nbase64概念Base64是网络上最常见的用于传输8Bit字节码的编码方式之一，Base64就是一种基于64个可打印字符来表示二进制数据的方法。维基百科：base64_百度百科\n原理：\n将字符转二进制字节\n3个字节为一组转为4个字节\n根据转换表将4个字节转换为相对应的字符\n输出结果\n\nbyte[] b1 &#x3D; &quot;天明&quot;.getBytes(&quot;UTF-8&quot;);\nfor(int i&#x3D;0; i&lt;b1.length; i++) &#123;\n\tSystem.out.print(b1[i]+&quot;,&quot;); &#x2F;&#x2F; -27,-92,-87,-26,-104,-114\n&#125;\nbyte[] b2 &#x3D; new byte[]&#123;-27,-92,-87&#125;;\nString name &#x3D; new String(b2, &quot;UTF-8&quot;);\nSystem.out.println(name); &#x2F;&#x2F; 天\n\n&#x2F;&#x2F; 如： &quot;https:&#x2F;&#x2F;game.gtimg.cn&#x2F;images&#x2F;lol&#x2F;act&#x2F;img&#x2F;passive&#x2F;Annie_Passive.png&quot;;\n&#x2F;&#x2F; 第一步：将字符转为byte\nString imgUrl &#x3D; &quot;http&quot;;\nbyte[] b3 &#x3D; imgUrl.getBytes();\nfor(int i&#x3D;0; i&lt;b3.length; i++) &#123;\n\tSystem.out.print(b3[i]+&quot;,&quot;); &#x2F;&#x2F; 104,116,116,112\n&#125;\n&#x2F;&#x2F; 第二步：将十进制字节码转为二进制\n&#x2F;&#x2F; 104 01101000\n&#x2F;&#x2F; 116 01110100\n&#x2F;&#x2F; 116 01110100\n&#x2F;&#x2F; 112 01110000\n\n&#x2F;&#x2F; 第三步：3个字节为一组，变为4个字节（上面的112没有分在这一组中）\n&#x2F;&#x2F; 00011010 00000111 00010001 00110100\n&#x2F;&#x2F; 转为10进制分别为：26 7 17 52\n\n&#x2F;&#x2F; 第四步：根据转换表(base64转换表，维基百科有)得出结果为：aHA0\n\n问题：负数（二进制）在计算机中如何表示？一般用补码方式表示，举例说明：-52，假设存储的数据是8位二进制数，即8位二进制补码先将52转换成二进制数：00110100B取反：11001011B加1：11001100B则-52D的8位二进制补码为11001100B\njava实现图片转base64import java.io.ByteArrayOutputStream;\nimport java.io.FileInputStream;\nimport java.io.FileOutputStream;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.io.OutputStream;\nimport java.io.UnsupportedEncodingException;\nimport java.net.HttpURLConnection;\nimport java.net.URL;\nimport java.util.Base64;\nimport java.util.Base64.Decoder;\nimport java.util.Base64.Encoder;\n \n \npublic class ImgToBase64 &#123;\n\tpublic static void main(String[] args) throws UnsupportedEncodingException &#123;\n\t\tSystem.out.println(getImgFileToBase642(&quot;f:&#x2F;&#x2F;user&#x2F;12.jpg&quot;));\n\t\tSystem.out.println(getImgUrlToBase64(&quot;https:&#x2F;&#x2F;game.gtimg.cn&#x2F;images&#x2F;lol&#x2F;act&#x2F;img&#x2F;rune&#x2F;Electrocute.png&quot;));\n\t\tSystem.out.println(getImgBase64ToImgFile(getImgUrlToBase64(&quot;https:&#x2F;&#x2F;game.gtimg.cn&#x2F;images&#x2F;lol&#x2F;act&#x2F;img&#x2F;rune&#x2F;Electrocute.png&quot;),&quot;f:&#x2F;&#x2F;user&#x2F;base2.jpg&quot;));\n\t&#125;\n\t\n\t&#x2F;**\n\t * 本地图片转base64\n\t *&#x2F;\n\tpublic static String getImgFileToBase642(String imgFile) &#123;\n        &#x2F;&#x2F;将图片文件转化为字节数组字符串，并对其进行Base64编码处理\n        byte[] buffer &#x3D; null;\n        &#x2F;&#x2F;读取图片字节数组\n        try(InputStream inputStream &#x3D; new FileInputStream(imgFile);)&#123;\n            int count &#x3D; 0;\n            while (count &#x3D;&#x3D; 0) &#123;\n                count &#x3D; inputStream.available();\n            &#125;\n            buffer &#x3D; new byte[count];\n            inputStream.read(buffer);\n        &#125; catch (IOException e) &#123;\n            e.printStackTrace();\n        &#125;\n        &#x2F;&#x2F; 对字节数组Base64编码\n        Encoder encode &#x3D; Base64.getEncoder();\n        return encode.encodeToString(buffer);\n    &#125;\n\t\n\t&#x2F;**\n\t * 网络图片转base64\n\t *&#x2F;\n\tpublic static String getImgUrlToBase64(String imgUrl) &#123;\n        byte[] buffer &#x3D; null;\n        InputStream inputStream &#x3D; null;\n        try ( \n        \tByteArrayOutputStream outputStream &#x3D; new ByteArrayOutputStream();)&#123;\n            &#x2F;&#x2F; 创建URL\n            URL url &#x3D; new URL(imgUrl);\n            &#x2F;&#x2F; 创建链接\n            HttpURLConnection conn &#x3D; (HttpURLConnection) url.openConnection();\n            conn.setRequestMethod(&quot;GET&quot;);\n            conn.setConnectTimeout(5000);\n            inputStream &#x3D; conn.getInputStream();\n        \t&#x2F;&#x2F; 将内容读取内存中\n            buffer &#x3D; new byte[1024];\n            int len &#x3D; -1;\n            while ((len &#x3D; inputStream.read(buffer)) !&#x3D; -1) &#123;\n                outputStream.write(buffer, 0, len);\n            &#125;\n            buffer &#x3D; outputStream.toByteArray();\n        &#125; catch (IOException e) &#123;\n            e.printStackTrace();\n        &#125; finally &#123;\n        \tif (inputStream !&#x3D; null) &#123;\n                try &#123;\n                    &#x2F;&#x2F; 关闭inputStream流\n                    inputStream.close();\n                &#125; catch (IOException e) &#123;\n                    e.printStackTrace();\n                &#125;\n            &#125;\n        &#125;\n        &#x2F;&#x2F; 对字节数组Base64编码\n        Encoder encode &#x3D; Base64.getEncoder();\n        return encode.encodeToString(buffer);\n    &#125;\n\t\n\t&#x2F;**\n\t * 本地或网络图片转base64\n\t *&#x2F;\n\tpublic static String getImgStrToBase64(String imgStr) &#123;\n        InputStream inputStream &#x3D; null;\n        byte[] buffer &#x3D; null;\n        try (ByteArrayOutputStream outputStream &#x3D; new ByteArrayOutputStream();)&#123;\n            &#x2F;&#x2F;判断网络链接图片文件&#x2F;本地目录图片文件\n            if (imgStr.startsWith(&quot;http:&#x2F;&#x2F;&quot;) || imgStr.startsWith(&quot;https:&#x2F;&#x2F;&quot;)) &#123;\n                &#x2F;&#x2F; 创建URL\n                URL url &#x3D; new URL(imgStr);\n                &#x2F;&#x2F; 创建链接\n                HttpURLConnection conn &#x3D; (HttpURLConnection) url.openConnection();\n                conn.setRequestMethod(&quot;GET&quot;);\n                conn.setConnectTimeout(5000);\n                inputStream &#x3D; conn.getInputStream();\n                &#x2F;&#x2F; 将内容读取内存中\n                buffer &#x3D; new byte[1024];\n                int len &#x3D; -1;\n                while ((len &#x3D; inputStream.read(buffer)) !&#x3D; -1) &#123;\n                    outputStream.write(buffer, 0, len);\n                &#125;\n                buffer &#x3D; outputStream.toByteArray();\n            &#125; else &#123;\n                inputStream &#x3D; new FileInputStream(imgStr);\n                int count &#x3D; 0;\n                while (count &#x3D;&#x3D; 0) &#123;\n                    count &#x3D; inputStream.available();\n                &#125;\n                buffer &#x3D; new byte[count];\n                inputStream.read(buffer);\n            &#125;\n        &#125; catch (Exception e) &#123;\n            e.printStackTrace();\n        &#125; finally &#123;\n            if (inputStream !&#x3D; null) &#123;\n                try &#123;\n                    &#x2F;&#x2F; 关闭inputStream流\n                    inputStream.close();\n                &#125; catch (IOException e) &#123;\n                    e.printStackTrace();\n                &#125;\n            &#125;\n        &#125;\n        \n        &#x2F;&#x2F; 对字节数组Base64编码\n        Encoder encode &#x3D; Base64.getEncoder();\n        return encode.encodeToString(buffer);\n    &#125;\n\t\n\t&#x2F;**\n\t * base64转图片存储在本地\n\t * @param imgBase64 图片base64\n\t * @param imgPath 图片本地存储地址\n\t *&#x2F;\n\tpublic static boolean getImgBase64ToImgFile(String imgBase64, String imgPath) &#123;\n        boolean flag &#x3D; true;\n        Decoder decode &#x3D; Base64.getDecoder();\n        try (OutputStream outputStream &#x3D; new FileOutputStream(imgPath);)&#123;\n            &#x2F;&#x2F; 解密处理数据\n            byte[] bytes &#x3D; decode.decode(imgBase64);\n            for (int i &#x3D; 0; i &lt; bytes.length; ++i) &#123;\n                if (bytes[i] &lt; 0) &#123;\n                    bytes[i] +&#x3D; 256;\n                &#125;\n            &#125;\n            outputStream.write(bytes);\n        &#125; catch (Exception e) &#123;\n            e.printStackTrace();\n            flag &#x3D; false;\n        &#125;\n        return flag;\n    &#125;\n&#125;\n\n后端图片转base64格式返回给前端，前端如何展示图片以base64形式在页面上展示出来\n在这里要说到Data URI scheme，它可以直接将一些小的数据直接嵌入到网页中，不需要再引入。支持格式如下\n\n\n\n\n\n\n\n\n\ndata:, 文本数据data:text&#x2F;plain, 文本数据data:text&#x2F;html, HTML代码data:text&#x2F;html;base64, base64编码的HTML代码data:text&#x2F;css, CSS代码data:text&#x2F;css;base64, base64编码的CSS代码data:text&#x2F;javascript, Javascript代码data:text&#x2F;javascript;base64, base64编码的Javascript代码data:image&#x2F;gif;base64, base64编码的gif图片数据data:image&#x2F;png;base64, base64编码的png图片数据data:image&#x2F;jpeg;base64, base64编码的jpeg图片数据data:image&#x2F;x-icon;base64, base64编码的icon图片数据\n 所以此时只要是将base64格式的图片赋值给图片的src 属性即可。\n&lt;img src&#x3D; &quot;data:image&#x2F;png;base64,图片的base64&quot; &#x2F;&gt;\n\n如果想展示为jpg格式，前面变为data:image/jpeg;base64, 即可。       \n在线转换网站","slug":"图片转为base64格式","date":"2023-01-18T01:07:24.000Z","categories_index":"html","tags_index":"html,图片,速度优化,base64","author_index":"丐帮GB"},{"id":"888cdda8fea9e438c9cde5ea9ca87330","title":"即刻短文瀑布流静态部署方案","content":"碎碎念在开始前，请先确保你已看此Hexo魔改系列前置教程，或者你是老司机\nHexo Butterfly博客魔改的一点点基础,GTC,&#x2F;posts&#x2F;583ff077&#x2F;\n\n我干了什么❓原本即刻短文不支持waline评论，我修复了这个问题，在此感谢轻笑大佬\n更新状态✅ 图片灯箱✅ 多图片多行显示✅ 外部链接✅ 瀑布流✅ 首页滚动✅ 快速评论✅ 本地修改 yml 发布✅ aplayer 单曲音乐❎ pjax适配\n前提注意该教程仅为博主目前使用的方法, 如需移植还需自行修改 css 变量, 以下为博主自用 css 变量, 可自行修改为自己喜欢的颜色。\n\n\n\n\n\n\n\n\n\n因为教程改自安知鱼大佬，色彩也用他的\n&#x2F;* 颜色 *&#x2F;\n:root &#123;\n  --anzhiyu-theme-op: #4259ef23;\n  --anzhiyu-gray-op: #9999992b;\n  --anzhiyu-theme-top: var(--anzhiyu-theme);\n  --anzhiyu-white: #fff;\n  --anzhiyu-white-op: rgba(255, 255, 255, 0.2);\n  --anzhiyu-black: #000;\n  --anzhiyu-black-op: rgba(0, 0, 0, 0.2);\n  --anzhiyu-none: rgba(0, 0, 0, 0);\n  --anzhiyu-gray: #999999;\n  --anzhiyu-yellow: #ffc93e;\n  --anzhiyu-border-radius: 8px;\n  --anzhiyu-main: var(--anzhiyu-theme);\n  --anzhiyu-main-op: var(--anzhiyu-theme-op);\n  --anzhiyu-shadow-theme: 0 8px 12px -3px var(--anzhiyu-theme-op);\n  --anzhiyu-shadow-main: 0 8px 12px -3px var(--anzhiyu-main-op);\n  --anzhiyu-shadow-blue: 0 8px 12px -3px rgba(40, 109, 234, 0.2);\n  --anzhiyu-shadow-white: 0 8px 12px -3px rgba(255, 255, 255, 0.2);\n  --anzhiyu-shadow-black: 0 0 12px 4px rgba(0, 0, 0, 0.05);\n  --anzhiyu-shadow-yellow: 0px 38px 77px -26px rgba(255, 201, 62, 0.12);\n  --anzhiyu-shadow-red: 0 8px 12px -3px #ee7d7936;\n  --anzhiyu-shadow-green: 0 8px 12px -3px #87ee7936;\n  --anzhiyu-shadow-border: 0 8px 16px -4px #2c2d300c;\n  --anzhiyu-shadow-blackdeep: 0 2px 16px -3px rgba(0, 0, 0, 0.15);\n  --anzhiyu-logo-color: linear-gradient(215deg, #4584ff 30%, #ff7676 70%);\n  --style-border: 1px solid var(--anzhiyu-card-border);\n  --anzhiyu-blue-main: #3b70fc;\n  --style-border-hover: 1px solid var(--anzhiyu-main);\n  --style-border-dashed: 1px dashed var(--anzhiyu-theme-op);\n  --style-border-avatar: 4px solid var(--anzhiyu-background);\n  --style-border-always: 1px solid var(--anzhiyu-card-border);\n  --style-border-none: 1px solid transparent;\n  --anzhiyu-white-acrylic1: #fefeff !important;\n  --anzhiyu-white-acrylic2: #fcfdff !important;\n  --anzhiyu-black-acrylic2: #08080a !important;\n  --anzhiyu-black-acrylic1: #0b0b0e !important;\n  --anzhiyu-main-none: #b8b8b800 !important;\n&#125;\n\n[data-theme&#x3D;&quot;light&quot;] &#123;\n  --anzhiyu-theme: #3b70fc;\n  --anzhiyu-theme-deep: #1856fb;\n  --anzhiyu-theme-op: #4259ef23;\n  --anzhiyu-blue: #3b70fc;\n  --anzhiyu-red: #d8213c;\n  --anzhiyu-pink: #ff7c7c;\n  --anzhiyu-green: #57bd6a;\n  --anzhiyu-fontcolor: #363636;\n  --anzhiyu-background: #f7f9fe;\n  --anzhiyu-reverse: #000;\n  --anzhiyu-maskbg: rgba(255, 255, 255, 0.6);\n  --anzhiyu-maskbgdeep: rgba(255, 255, 255, 0.85);\n  --anzhiyu-hovertext: var(--anzhiyu-theme);\n  --anzhiyu-ahoverbg: #f7f7fa;\n  --anzhiyu-lighttext: var(--anzhiyu-main);\n  --anzhiyu-secondtext: rgba(60, 60, 67, 0.6);\n  --anzhiyu-scrollbar: rgba(60, 60, 67, 0.4);\n  --anzhiyu-card-btn-bg: #edf0f7;\n  --anzhiyu-post-blockquote-bg: #fafcff;\n  --anzhiyu-post-tabs-bg: #f2f5f8;\n  --anzhiyu-secondbg: #f1f3f8;\n  --anzhiyu-shadow-nav: 0 5px 12px -5px rgba(102, 68, 68, 0.05);\n  --anzhiyu-card-bg: #fff;\n  --anzhiyu-shadow-lightblack: 0 5px 12px -5px rgba(102, 68, 68, 0);\n  --anzhiyu-shadow-light2black: 0 5px 12px -5px rgba(102, 68, 68, 0);\n  --anzhiyu-card-border: #e3e8f7;\n&#125;\n\n[data-theme&#x3D;&quot;dark&quot;] &#123;\n  --global-bg: #191919;\n  --anzhiyu-theme: #0084ff;\n  --anzhiyu-theme-deep: #0076e5;\n  --anzhiyu-theme-op: #0084ff23;\n  --anzhiyu-blue: #0084ff;\n  --anzhiyu-red: #ff3842;\n  --anzhiyu-pink: #ff7c7c;\n  --anzhiyu-green: #57bd6a;\n  --anzhiyu-fontcolor: #f7f7fa;\n  --anzhiyu-background: #18171d;\n  --anzhiyu-reverse: #fff;\n  --anzhiyu-maskbg: rgba(0, 0, 0, 0.6);\n  --anzhiyu-maskbgdeep: rgba(0, 0, 0, 0.85);\n  --anzhiyu-hovertext: #0a84ff;\n  --anzhiyu-ahoverbg: #fff;\n  --anzhiyu-lighttext: #f2b94b;\n  --anzhiyu-secondtext: #a1a2b8;\n  --anzhiyu-scrollbar: rgba(200, 200, 223, 0.4);\n  --anzhiyu-card-btn-bg: #30343f;\n  --anzhiyu-post-blockquote-bg: #000;\n  --anzhiyu-post-tabs-bg: #121212;\n  --anzhiyu-secondbg: #30343f;\n  --anzhiyu-shadow-nav: 0 5px 20px 0px rgba(28, 28, 28, 0.4);\n  --anzhiyu-card-bg: #1d1b26;\n  --anzhiyu-shadow-lightblack: 0 5px 12px -5px rgba(102, 68, 68, 0);\n  --anzhiyu-shadow-light2black: 0 5px 12px -5px rgba(102, 68, 68, 0);\n  --anzhiyu-card-border: #42444a;\n&#125;\n\n预览\n创建数据创建 source/_data/essay.yml\n# 范例\n#    - content: 信息\n#      date: 2022&#x2F;10&#x2F;25 时间\n#      link: 链接\n#      image:\n#        - 插入图片链接\n#      aplayer:\n#        server: tencent\n#        id: 001FGQba3i10mw\n#      from: 作者信息\n- class_name: 即刻短文\n  essay_list:\n    - content: 终于把说说搞定了, 耶✌️,heo的不大方便，采用安知鱼大佬的方法！\n      date: 2023&#x2F;1&#x2F;8\n      link: &#x2F;essay&#x2F;\n      image:\n        - https:&#x2F;&#x2F;xxxxx.png\n        - https:&#x2F;&#x2F;xxxxx.webp\n\n数据参数释义\n\n\n参数\n备选值&#x2F;类型\n释义\n\n\n\nclass_name\nString\n【可选】标识符，无实际意义，选填\n\n\nessay_list\nArray\n【必选】即刻短文数据列表\n\n\nessay_list.content\nString\n【必选】短文 文字内容\n\n\nessay_list.date\nTime\n【必选】短文发布时间 格式建议为 2022&#x2F;10&#x2F;26 08:00:00\n\n\nessay_list.image\nArray\n【可选】短文图片内容, 可填写多张图片\n\n\nessay_list.from\nString\n【可选】短文 来自何处, 当然也可以填任何你想填写的标识\n\n\nessay_list.link\nString\n【可选】外部链接\n\n\nessay_list.aplayer\nArray\n【可选】aplayer 播放器的单曲音乐, 需 aplayer 支持\n\n\nessay_list.aplayer.server\nString\n【essay_list.aplayer 后必选】aplayer 服务商\n\n\nessay_list.aplayer.id\nString\n【essay_list.aplayer 后必选】单曲 id\n\n\n创建 md 页面文件创建source/essay/index.md 来生成页面 page\n---\ntitle: 即刻短文\ndate: 2020-07-22 22:06:17\ncomments: true\naside: false\ntop_img: false\ntype: essay\n---\n\n创建 dom 文件创建themes/butterfly/layout/includes/page/essay.pug, 页面内容, 注意该页面中可能存在部分fontawesome 图标需要自行替换。\n#essay_page\n  .author-content.author-content-item.essayPage.single\n    .card-content\n      .author-content-item-tips 即刻短文\n      span.author-content-item-title 咸鱼的日常生活。\n      .content-bottom\n        .tips 使用 HEO即刻短文静态部署版 构建\n      .banner-button-group\n        a.banner-button(onclick&#x3D;&#39;pjax.loadUrl(&quot;&#x2F;about&#x2F;&quot;)&#39;, data-pjax-state)\n          i.fas.fa-circle-arrow-up-right(style&#x3D;&#39;font-size: 1.5rem&#39;)\n          span.banner-button-text 关于我\n  #bber\n    section.timeline.page-1\n      ul#waterfall.list\n        each i in site.data.essay\n          each item, index in i.essay_list\n            if index &lt; 30\n              li.bber-item\n                .bber-content\n                  p.datacont&#x3D; item.content\n                    if item.image\n                      .bber-container-img\n                        each iten, indey in item.image\n                          a.bber-content-img(href&#x3D;item.image[indey], target&#x3D;&quot;_blank&quot;, data-fancybox&#x3D;&quot;gallery&quot;, data-caption&#x3D;&quot;&quot;)\n                            img(src&#x3D;item.image[indey])\n                        .bber-content-noimg\n                        .bber-content-noimg\n                        .bber-content-noimg\n                    if item.aplayer\n                      .bber-music\n                        .aplayer.no-destroy(data-id&#x3D;item.aplayer.id data-server&#x3D;item.aplayer.server data-type&#x3D;&quot;song&quot;  data-order&#x3D;&quot;list&quot; data-preload&#x3D;&quot;none&quot; data-autoplay&#x3D;&quot;false&quot; data-mutex&#x3D;&quot;true&quot; data-theme&#x3D;&#39;var(--anzhiyu-main)&#39;)\n                hr\n                .bber-bottom\n                  .bber-info\n                    .bber-info-time\n                      - var datedata &#x3D; new Date(item.date).toISOString()\n                      i.far.fa-clock\n                      time.datatime(datetime&#x3D; item.date)&#x3D; datedata\n                    if item.link\n                      a.bber-content-link(target&#x3D;&quot;_blank&quot;, title&#x3D;&quot;跳转到短文指引的链接&quot;, href&#x3D;item.link, rel&#x3D;&quot;external nofollow&quot;)\n                        i.fas.fa-link\n                        | 链接\n                    if item.from\n                      .bber-info-from\n                        i.far.fa-popsicle\n                        span&#x3D;item.from\n                  .bber-reply(onclick&#x3D;&quot;anzhiyu.commentText(&quot; + &#96;&#39;$&#123;item.content&#125;&#39;&#96; + &quot;)&quot;)\n                    i.fa-solid.fa-message\n  #bber-tips(style&#x3D;&#39;color: var(--anzhiyu-secondtext);&#39;)\n    | - 只展示最近30条短文 -\n\n修改 Page 文件修改themes/butterfly/layout/page.pug 来使页面内容匹配\n在 case page.type 子项里面添加, 注意缩进\n    case page.type\n+     when &#39;essay&#39;\n+       include includes&#x2F;page&#x2F;essay.pug\n      when &#39;tags&#39;\n        include includes&#x2F;page&#x2F;tags.pug\n      when &#39;link&#39;\n        include includes&#x2F;page&#x2F;flink.pug\n      when &#39;categories&#39;\n        include includes&#x2F;page&#x2F;categories.pug\n\n加入 cssinject:\n  head:\n+    - &lt;link rel&#x3D;&quot;stylesheet&quot; href&#x3D;&quot;&#x2F;css&#x2F;essay_page&#x2F;essay_page.css&quot;&gt;\n#page:has(#essay_page) &#123;\n  border: 0;\n  box-shadow: none !important;\n  padding: 0 !important;\n  background: transparent !important;\n&#125;\n#page:has(#essay_page) .page-title &#123;\n  display: none;\n&#125;\n#web_bg ~ .page:has(#essay_page) &#123;\n  background: var(--anzhiyu-background);\n&#125;\n#bber .bber-container-img &#123;\n  display: flex;\n  align-items: center;\n  justify-content: space-around;\n  width: 100%;\n  flex-wrap: wrap;\n  margin-bottom: 0.3rem;\n&#125;\n#bber .bber-container-img .bber-content-noimg &#123;\n  width: calc(100% &#x2F; 4 - 5px);\n&#125;\n\n#bber .bber-content-img img &#123;\n  object-fit: cover;\n  max-height: 100%;\n  border-radius: 12px;\n&#125;\n\n#bber .bber-content-img &#123;\n  height: 100px;\n  border-radius: 12px;\n  overflow: hidden;\n  display: flex;\n  position: relative;\n  width: calc(100% &#x2F; 4 - 5px);\n  margin-bottom: 10px;\n&#125;\n\n#bber .bber-content .datacont &#123;\n  order: 0;\n  font-size: 0.8rem;\n  font-weight: 700;\n  color: var(--anzhiyu-fontcolor);\n  width: 100%;\n  line-height: 1.38;\n  border-radius: 12px;\n  margin-bottom: 0.5rem;\n  display: flex;\n  flex-direction: column;\n  text-align: justify;\n&#125;\n#bber p &#123;\n  margin: 0px;\n&#125;\n#bber div.bber-content &#123;\n  display: flex;\n  flex-flow: wrap;\n  border-radius: 12px;\n  width: 100%;\n  height: 100%;\n&#125;\n#bber .timeline ul li.bber-item &#123;\n  position: relative;\n  width: 32%;\n  border: var(--style-border-always);\n  border-radius: 12px;\n  padding: 1rem 1rem 0.5rem;\n  transition: all 0.3s ease 0s;\n  display: flex;\n  flex-flow: column nowrap;\n  justify-content: space-between;\n  align-items: flex-start;\n  background: var(--anzhiyu-card-bg);\n  box-shadow: var(--anzhiyu-shadow-border);\n  margin-right: 2%;\n&#125;\n#bber .timeline #waterfall.show &#123;\n  opacity: 1;\n&#125;\n#bber .timeline #waterfall &#123;\n  opacity: 0;\n  transition: all 0.3s ease 0s;\n&#125;\n#bber ul.list &#123;\n  display: flex;\n  flex-flow: row wrap;\n  justify-content: space-between;\n&#125;\n#bber &#123;\n  margin-top: 1rem;\n  width: 100%;\n&#125;\n#bber &gt; section &gt; ul &gt; li.bber-item &#123;\n  margin-bottom: 1rem;\n&#125;\n\n#bber-tips &#123;\n  font-size: 14px;\n  display: flex;\n  justify-content: center;\n  margin-top: 1rem;\n&#125;\n\n#bber .timeline ul li.bber-item hr &#123;\n  display: flex;\n  position: relative;\n  margin: 8px 0px;\n  border: 1px dashed var(--anzhiyu-theme-op);\n  width: 100%;\n&#125;\n\n#bber .bber-info &#123;\n  display: flex;\n  align-items: center;\n&#125;\n\n#bber &gt; section &gt; ul &gt; li &gt; div .bber-info-time,\n#bber &gt; section &gt; ul &gt; li &gt; div .bber-info-from &#123;\n  color: var(--anzhiyu-fontcolor);\n  font-size: 0.7rem;\n  background-color: var(--anzhiyu-gray-op);\n  padding: 0px 8px;\n  border-radius: 20px;\n  cursor: default;\n  display: flex;\n  align-items: center;\n&#125;\n\n#bber .bber-info .far.fa-clock &#123;\n  margin-right: 4px;\n&#125;\n#bber &gt; section &gt; ul &gt; li &gt; div .bber-info-from span,\n#bber &gt; section &gt; ul &gt; li &gt; div .bber-info-from &#123;\n  margin-left: 4px;\n&#125;\n\n#bber .bber-bottom &#123;\n  display: flex;\n  justify-content: space-between;\n  width: 100%;\n  margin-top: 10px;\n&#125;\n\n#bber .bber-bottom .bber-reply &#123;\n  cursor: url(&#x2F;img&#x2F;x2.cur), auto !important;\n&#125;\n\n#bber .timeline ul li.bber-item:hover &#123;\n  border: var(--style-border-hover);\n&#125;\n\n#bber .bber-content-link &#123;\n  display: flex;\n  margin-left: 0.5rem;\n  font-size: 0.7rem;\n  align-items: center;\n  background-color: rgba(245, 108, 108, 0.13);\n  color: rgb(245, 108, 108);\n  padding: 0px 8px;\n  border-radius: 20px;\n&#125;\n#bber .bber-content-link i &#123;\n  margin-right: 3px;\n&#125;\n#bber .bber-content-link:hover &#123;\n  background-color: var(--anzhiyu-main);\n  color: var(--anzhiyu-white);\n&#125;\n#bber .bber-music &#123;\n  width: 100%;\n  height: 90px;\n  margin: 0.5rem 0;\n  border-radius: 8px;\n  overflow: hidden;\n  border: var(--style-border-always);\n  background: var(--anzhiyu-secondbg);\n&#125;\n#bber .aplayer &#123;\n  margin: 0;\n&#125;\n\n#bber .aplayer.aplayer-withlrc .aplayer-pic &#123;\n  height: 82px;\n  width: 82px;\n  margin: 4px;\n  border-radius: 4px;\n&#125;\n.bber-music .aplayer.aplayer-withlrc .aplayer-info &#123;\n  padding: 5px 7px 0;\n&#125;\n#bber .aplayer .aplayer-info .aplayer-music &#123;\n  height: 23px;\n&#125;\n#bber .aplayer .aplayer-info .aplayer-music .aplayer-title &#123;\n  font-size: 0.8rem;\n  font-weight: 700;\n  margin: 0;\n  color: var(--anzhiyu-fontcolor);\n&#125;\n\n#bber .aplayer .aplayer-info .aplayer-controller &#123;\n  align-items: center;\n&#125;\n#bber .aplayer .aplayer-info .aplayer-controller .aplayer-bar-wrap &#123;\n  padding: 0;\n&#125;\n#bber .aplayer .aplayer-info .aplayer-controller .aplayer-time &#123;\n  position: initial;\n&#125;\n#bber .aplayer .aplayer-info .aplayer-controller .aplayer-bar-wrap .aplayer-bar &#123;\n  background: var(--anzhiyu-gray);\n  height: 8px;\n  border-radius: 12px;\n  transition: 0.3s;\n  overflow: hidden;\n&#125;\n#bber .aplayer .aplayer-info .aplayer-controller .aplayer-bar-wrap .aplayer-bar .aplayer-loaded &#123;\n  height: 100%;\n  border-radius: 12px;\n&#125;\n#bber .aplayer .aplayer-info .aplayer-controller .aplayer-bar-wrap .aplayer-bar .aplayer-played &#123;\n  height: 100%;\n  border-radius: 12px;\n&#125;\n#bber .aplayer .aplayer-info .aplayer-controller .aplayer-bar-wrap .aplayer-bar .aplayer-played .aplayer-thumb &#123;\n  display: none;\n&#125;\n#bber .aplayer .aplayer-info .aplayer-controller .aplayer-time &#123;\n  position: initial;\n&#125;\n\n&#x2F;* 顶部样式 *&#x2F;\n.author-content.author-content-item.essayPage &#123;\n  height: 19rem;\n  background: url(https:&#x2F;&#x2F;img02.anzhiy.cn&#x2F;adminuploads&#x2F;1&#x2F;2022&#x2F;08&#x2F;21&#x2F;630249e2df20f.jpg) left 28% &#x2F; cover no-repeat;\n  color: var(--anzhiyu-white);\n  overflow: hidden;\n  margin-top: 0px;\n&#125;\n#page:has(#essay_page) .author-content-item .card-content .banner-button-group .banner-button:hover &#123;\n  color: var(--anzhiyu-white);\n  border-radius: 20px !important;\n&#125;\n\n&#x2F;* 响应式 *&#x2F;\n@media screen and (max-width: 1300px) &#123;\n  #bber .timeline ul li.bber-item &#123;\n    width: 49%;\n    margin-right: 1%;\n  &#125;\n&#125;\n@media screen and (max-width: 768px) &#123;\n  #bber .timeline ul li.bber-item &#123;\n    width: 100%;\n    margin-right: 0px;\n  &#125;\n&#125;\n[data-theme&#x3D;&quot;dark&quot;] #bber .bber-music .aplayer,\n[data-theme&#x3D;&quot;dark&quot;] #bber .aplayer .aplayer-lrc:before,\n[data-theme&#x3D;&quot;dark&quot;] #bber .aplayer .aplayer-lrc:after &#123;\n  background: var(--anzhiyu-card-bg);\n  color: var(--anzhiyu-fontcolor);\n&#125;\n#bber .aplayer .aplayer-lrc p &#123;\n  color: var(--anzhiyu-fontcolor);\n&#125;\n\njs 处理引入jsinject:\n  bottom:\n+   - &lt;script async data-pjax src&#x3D;&quot;&#x2F;js&#x2F;custom.js&quot;&gt;&lt;&#x2F;script&gt;\n    # 即刻依赖waterfall\n+   - &lt;script async data-pjax src&#x3D;&quot;&#x2F;js&#x2F;waterfall&#x2F;waterfall.js&quot;&gt;&lt;&#x2F;script&gt;\n\npjax适配\n\n\n\n\n\n\n\n\n加入了data-pjax, 并且开启了站点的pjax, 然后再引入waterfall.js用于处理瀑布流。\n# Pjax\n# It may contain bugs and unstable, give feedback when you find the bugs.\n# https:&#x2F;&#x2F;github.com&#x2F;MoOx&#x2F;pjax\npjax:\n  enable: true\n  exclude:\n\n创建js文件新建 source/js/waterfall/waterfall.js 内容如下\nfunction waterfall(a) &#123;\n  function b(a, b) &#123;\n    var c &#x3D; window.getComputedStyle(b);\n    return parseFloat(c[&quot;margin&quot; + a]) || 0;\n  &#125;\n  function c(a) &#123;\n    return a + &quot;px&quot;;\n  &#125;\n  function d(a) &#123;\n    return parseFloat(a.style.top);\n  &#125;\n  function e(a) &#123;\n    return parseFloat(a.style.left);\n  &#125;\n  function f(a) &#123;\n    return a.clientWidth;\n  &#125;\n  function g(a) &#123;\n    return a.clientHeight;\n  &#125;\n  function h(a) &#123;\n    return d(a) + g(a) + b(&quot;Bottom&quot;, a);\n  &#125;\n  function i(a) &#123;\n    return e(a) + f(a) + b(&quot;Right&quot;, a);\n  &#125;\n  function j(a) &#123;\n    a &#x3D; a.sort(function (a, b) &#123;\n      return h(a) &#x3D;&#x3D;&#x3D; h(b) ? e(b) - e(a) : h(b) - h(a);\n    &#125;);\n  &#125;\n  function k(b) &#123;\n    f(a) !&#x3D; t &amp;&amp; (b.target.removeEventListener(b.type, arguments.callee), waterfall(a));\n  &#125;\n  &quot;string&quot; &#x3D;&#x3D; typeof a &amp;&amp; (a &#x3D; document.querySelector(a));\n  var l &#x3D; [].map.call(a.children, function (a) &#123;\n    return (a.style.position &#x3D; &quot;absolute&quot;), a;\n  &#125;);\n  a.style.position &#x3D; &quot;relative&quot;;\n  var m &#x3D; [];\n  l.length &amp;&amp; ((l[0].style.top &#x3D; &quot;0px&quot;), (l[0].style.left &#x3D; c(b(&quot;Left&quot;, l[0]))), m.push(l[0]));\n  for (var n &#x3D; 1; n &lt; l.length; n++) &#123;\n    var o &#x3D; l[n - 1],\n      p &#x3D; l[n],\n      q &#x3D; i(o) + f(p) &lt;&#x3D; f(a);\n    if (!q) break;\n    (p.style.top &#x3D; o.style.top), (p.style.left &#x3D; c(i(o) + b(&quot;Left&quot;, p))), m.push(p);\n  &#125;\n  for (; n &lt; l.length; n++) &#123;\n    j(m);\n    var p &#x3D; l[n],\n      r &#x3D; m.pop();\n    (p.style.top &#x3D; c(h(r) + b(&quot;Top&quot;, p))), (p.style.left &#x3D; c(e(r))), m.push(p);\n  &#125;\n  j(m);\n  var s &#x3D; m[0];\n  a.style.height &#x3D; c(h(s) + b(&quot;Bottom&quot;, s));\n  var t &#x3D; f(a);\n  window.addEventListener ? window.addEventListener(&quot;resize&quot;, k) : (document.body.onresize &#x3D; k);\n&#125;\n\n&#96;&#96;&#96;js\nvar percentFlag &#x3D; false; &#x2F;&#x2F; 节流阀\nfunction essayScroll() &#123;\n  let a &#x3D; document.documentElement.scrollTop || window.pageYOffset; &#x2F;&#x2F; 卷去高度\n  const waterfallResult &#x3D; a % document.documentElement.clientHeight; &#x2F;&#x2F; 卷去一个视口\n  result &lt;&#x3D; 99 || (result &#x3D; 99);\n\n  if (\n    !percentFlag &amp;&amp;\n    waterfallResult + 100 &gt;&#x3D; document.documentElement.clientHeight &amp;&amp;\n    document.querySelector(&quot;#waterfall&quot;)\n  ) &#123;\n    &#x2F;&#x2F; console.info(waterfallResult, document.documentElement.clientHeight);\n    setTimeout(() &#x3D;&gt; &#123;\n      waterfall(&quot;#waterfall&quot;);\n    &#125;, 500);\n  &#125; else &#123;\n    setTimeout(() &#x3D;&gt; &#123;\n      document.querySelector(&quot;#waterfall&quot;) &amp;&amp; waterfall(&quot;#waterfall&quot;);\n    &#125;, 500);\n  &#125;\n\n  const r &#x3D; window.scrollY + document.documentElement.clientHeight;\n\n  let p &#x3D; document.getElementById(&quot;post-comment&quot;) || document.getElementById(&quot;footer&quot;);\n\n  (p.offsetTop + p.offsetHeight &#x2F; 2 &lt; r || 90 &lt; result) &amp;&amp; (percentFlag &#x3D; true);\n&#125;\nfunction replaceAll(e, n, t) &#123;\n  return e.split(n).join(t);\n&#125;\nvar anzhiyu &#x3D; &#123;\n  diffDate: function (d, more &#x3D; false) &#123;\n    const dateNow &#x3D; new Date();\n    const datePost &#x3D; new Date(d);\n    const dateDiff &#x3D; dateNow.getTime() - datePost.getTime();\n    const minute &#x3D; 1000 * 60;\n    const hour &#x3D; minute * 60;\n    const day &#x3D; hour * 24;\n    const month &#x3D; day * 30;\n\n    let result;\n    if (more) &#123;\n      const monthCount &#x3D; dateDiff &#x2F; month;\n      const dayCount &#x3D; dateDiff &#x2F; day;\n      const hourCount &#x3D; dateDiff &#x2F; hour;\n      const minuteCount &#x3D; dateDiff &#x2F; minute;\n\n      if (monthCount &gt;&#x3D; 1) &#123;\n        result &#x3D; datePost.toLocaleDateString().replace(&#x2F;\\&#x2F;&#x2F;g, &quot;-&quot;);\n      &#125; else if (dayCount &gt;&#x3D; 1) &#123;\n        result &#x3D; parseInt(dayCount) + &quot; &quot; + GLOBAL_CONFIG.date_suffix.day;\n      &#125; else if (hourCount &gt;&#x3D; 1) &#123;\n        result &#x3D; parseInt(hourCount) + &quot; &quot; + GLOBAL_CONFIG.date_suffix.hour;\n      &#125; else if (minuteCount &gt;&#x3D; 1) &#123;\n        result &#x3D; parseInt(minuteCount) + &quot; &quot; + GLOBAL_CONFIG.date_suffix.min;\n      &#125; else &#123;\n        result &#x3D; GLOBAL_CONFIG.date_suffix.just;\n      &#125;\n    &#125; else &#123;\n      result &#x3D; parseInt(dateDiff &#x2F; day);\n    &#125;\n    return result;\n  &#125;,\n  changeTimeInEssay: function () &#123;\n    document.querySelector(&quot;#bber&quot;) &amp;&amp;\n      document.querySelectorAll(&quot;#bber time&quot;).forEach(function (e) &#123;\n        var t &#x3D; e,\n          datetime &#x3D; t.getAttribute(&quot;datetime&quot;);\n        (t.innerText &#x3D; anzhiyu.diffDate(datetime, true)), (t.style.display &#x3D; &quot;inline&quot;);\n      &#125;);\n  &#125;,\n  reflashEssayWaterFall: function () &#123;\n    document.querySelector(&quot;#waterfall&quot;) &amp;&amp;\n      setTimeout(function () &#123;\n        waterfall(&quot;#waterfall&quot;);\n        document.getElementById(&quot;waterfall&quot;).classList.add(&quot;show&quot;);\n      &#125;, 500);\n  &#125;,\n  commentText: function (e) &#123;\n    if (e &#x3D;&#x3D; &quot;undefined&quot; || e &#x3D;&#x3D; &quot;null&quot;) e &#x3D; &quot;好棒！&quot;;\n    var n &#x3D; document.getElementsByClassName(&quot;el-textarea__inner&quot;)[0],\n      t &#x3D; document.createEvent(&quot;HTMLEvents&quot;);\n    if (!n) return;\n    t.initEvent(&quot;input&quot;, !0, !0);\n    var o &#x3D; replaceAll(e, &quot;\\n&quot;, &quot;\\n&gt; &quot;);\n    (n.value &#x3D; &quot;&gt; &quot; + o + &quot;\\n\\n&quot;), n.dispatchEvent(t);\n    var i &#x3D; document.querySelector(&quot;#post-comment&quot;).offsetTop;\n    window.scrollTo(0, i - 80),\n      n.focus(),\n      n.setSelectionRange(-1, -1),\n      document.getElementById(&quot;comment-tips&quot;) &amp;&amp; document.getElementById(&quot;comment-tips&quot;).classList.add(&quot;show&quot;);\n  &#125;,\n&#125;;\n\nanzhiyu.changeTimeInEssay();\nanzhiyu.reflashEssayWaterFall();\n\n\n\n\n\n\n\n\n\n\n此处waline评论el-textarea__inner应改为wl-editor，由轻笑大佬找到\n其中anzhiyu变量中存储的四个方法\n\ndiffDate为处理时间的方法,其实 btf 中也有,只是不太喜欢那个的显示方式,就改成现在这个了。\nchangeTimeInEssay 初始化即刻时间\nreflashEssayWaterFall 处理瀑布流显示\ncommentText 处理点击跳转评论并添加评论\n\n方法···essayScroll···为检查滚动条卷去一个视口高度的 100 范围内执行一次, 滑动到底部或评论区取消监听执行。此处博主未做 else 处理取消监听, 如果有写percent函数监听滑动可以一起写在同一个方法里面。（博主就是写在同一个方法里面）, 如果即刻文章很少的话其实是可以不监听滑动的, 即只显示近 30 条, 因为进入页面后会执行一次瀑布流, 页面不会乱, 但是如果您把 essay.pug 中 17 行左右修改后可以达到无限的效果就会出现 dom 结构还没渲染瀑布流就已经执行完了的情况就需要监听滚动来再次执行瀑布流以完成布局。\n首页滚动显示即刻(可选)创建 themes/butterfly/layout/includes/bbTimeList.pug, 部分fontawesome图标可能需要您自行修改。\n#bbTimeList.bbTimeList.container\n    svg.icon.bber-logo.iconfont.icon-chrome(onclick&#x3D;&#96;pjax.loadUrl(&quot;&#x2F;essay&#x2F;&quot;)&#96;,title&#x3D;&quot;即刻短文&quot;,aria-hidden&#x3D;&quot;true&quot;)\n      use(xlink:href&#x3D;&quot;#icon-chrome&quot;)\n    #bbtalk.swiper-container.swiper-no-swiping.essay_bar_swiper_container(tabindex&#x3D;&quot;-1&quot;)\n      #bber-talk.swiper-wrapper(onclick&#x3D;&#96;pjax.loadUrl(&quot;&#x2F;essay&#x2F;&quot;)&#96;)\n        each i in site.data.essay\n          each item, index in i.essay_list\n            if index &lt; 10\n              - var contentText &#x3D; item.image ? item.content + &#39; [图片]&#39; : item.content\n              .li-style.swiper-slide&#x3D; contentText\n\n    i.bber-gotobb.fas.fa-arrow-circle-right(onclick&#x3D;&#96;pjax.loadUrl(&quot;&#x2F;essay&#x2F;&quot;)&#96;,title&#x3D;&quot;查看全文&quot;)\n此处的svg我给一份代码，可以引入使用！\nsymbol#icon-chrome(viewbox&#x3D;&#39;0 0 1024 1024&#39;)\n        path(d&#x3D;&#39;M123.648 178.346667C361.642667-98.602667 802.986667-43.946667 967.936 279.68h-396.501333c-71.424 0-117.546667-1.621333-167.509334 24.661333-58.709333 30.933333-102.997333 88.234667-118.485333 155.52L123.648 178.389333z&#39; fill&#x3D;&#39;#EA4335&#39;)\n        path(d&#x3D;&#39;M341.674667 512c0 93.866667 76.330667 170.24 170.154666 170.24 93.866667 0 170.154667-76.373333 170.154667-170.24s-76.330667-170.24-170.154667-170.24c-93.866667 0-170.154667 76.373333-170.154666 170.24z&#39; fill&#x3D;&#39;#4285F4&#39;)\n        path(d&#x3D;&#39;M577.877333 734.848c-95.530667 28.373333-207.274667-3.114667-268.501333-108.8-46.762667-80.64-170.24-295.765333-226.346667-393.557333-196.565333 301.226667-27.136 711.808 329.685334 781.866666l165.12-279.509333z&#39; fill&#x3D;&#39;#34A853&#39;)\n        path(d&#x3D;&#39;M669.866667 341.76a233.130667 233.130667 0 0 1 43.008 286.634667c-40.576 69.973333-170.154667 288.682667-232.96 394.581333 367.658667 22.656 635.733333-337.664 514.645333-681.258667H669.866667z&#39; fill&#x3D;&#39;#FBBC05&#39;)\n      symbol#icon-bilibili1(viewbox&#x3D;&#39;0 0 1129 1024&#39;)\n        path(d&#x3D;&#39;M234.909 9.656a80.468 80.468 0 0 1 68.398 0 167.374 167.374 0 0 1 41.843 30.578l160.937 140.82h115.07l160.936-140.82a168.983 168.983 0 0 1 41.843-30.578A80.468 80.468 0 0 1 930.96 76.445a80.468 80.468 0 0 1-17.703 53.914 449.818 449.818 0 0 1-35.406 32.187 232.553 232.553 0 0 1-22.531 18.508h100.585a170.593 170.593 0 0 1 118.289 53.109 171.397 171.397 0 0 1 53.914 118.288v462.693a325.897 325.897 0 0 1-4.024 70.007 178.64 178.64 0 0 1-80.468 112.656 173.007 173.007 0 0 1-92.539 25.75H212.377a341.186 341.186 0 0 1-72.421-4.024A177.835 177.835 0 0 1 28.91 939.065a172.202 172.202 0 0 1-27.36-92.539V388.662a360.498 360.498 0 0 1 0-66.789A177.03 177.03 0 0 1 162.487 178.64h105.414c-16.899-12.07-31.383-26.555-46.672-39.43a80.468 80.468 0 0 1-25.75-65.984 80.468 80.468 0 0 1 39.43-63.57M216.4 321.873a80.468 80.468 0 0 0-63.57 57.937 108.632 108.632 0 0 0 0 30.578v380.615a80.468 80.468 0 0 0 55.523 80.469 106.218 106.218 0 0 0 34.601 5.632h654.208a80.468 80.468 0 0 0 76.444-47.476 112.656 112.656 0 0 0 8.047-53.109v-354.06a135.187 135.187 0 0 0 0-38.625 80.468 80.468 0 0 0-52.304-54.719 129.554 129.554 0 0 0-49.89-7.242H254.22a268.764 268.764 0 0 0-37.82 0z m0 0&#39; fill&#x3D;&#39;#20B0E3&#39;)\n        path(d&#x3D;&#39;M348.369 447.404a80.468 80.468 0 0 1 55.523 18.507 80.468 80.468 0 0 1 28.164 59.547v80.468a80.468 80.468 0 0 1-16.094 51.5 80.468 80.468 0 0 1-131.968-9.656 104.609 104.609 0 0 1-10.46-54.719v-80.468a80.468 80.468 0 0 1 70.007-67.593z m416.02 0a80.468 80.468 0 0 1 86.102 75.64v80.468a94.148 94.148 0 0 1-12.07 53.11 80.468 80.468 0 0 1-132.773 0 95.757 95.757 0 0 1-12.875-57.133V519.02a80.468 80.468 0 0 1 70.007-70.812z m0 0&#39; fill&#x3D;&#39;#20B0E3&#39;)\n      use(xlink:href&#x3D;&quot;#icon-chrome&quot;)\n\n引入到主页修改themes/butterfly/layout/index.pug, 注意缩进\nblock content\n  include .&#x2F;includes&#x2F;mixins&#x2F;post-ui.pug\n  #recent-posts.recent-posts\n    include includes&#x2F;categoryList.pug\n+   include includes&#x2F;bbTimeList.pug\n    +postUI\n    include includes&#x2F;pagination.pug\n如果需要像本站一样在整个顶部引入的话可以参考下面的代码，修改themes/butterfly/layout/includes/layout.pug\nif page.type !&#x3D;&#x3D; &#39;404&#39;\n  #body-wrap(class&#x3D;pageType)\n    include .&#x2F;header&#x2F;index.pug\n+   if (is_home())\n+     include .&#x2F;bbTimeList.pug\n\n引入 swiper 依赖在_config.butterfly.yml引入依赖, 如果有使用轮播图插件的话此处无需引入\ninject:\n  head:\n    - &lt;link rel&#x3D;&quot;stylesheet&quot; href&#x3D;&quot;https:&#x2F;&#x2F;npm.elemecdn.com&#x2F;hexo-butterfly-swiper-anzhiyu@1.0.4&#x2F;lib&#x2F;swiper.min.css&quot;&gt;\n  bottom:\n    - &lt;script data-pjax src&#x3D;&quot;https:&#x2F;&#x2F;npm.elemecdn.com&#x2F;anzhiyu-blog@1.1.6&#x2F;js&#x2F;swiper.min.js&quot;&gt;&lt;&#x2F;script&gt;\n\n添加自定义 css创建source/css/essay_page/home_essay_bar.css, 然后在_config.butterfly.yml中的inject下的head引入, 注意缩进\ninject:\n  head:\n    - &lt;link rel&#x3D;&quot;stylesheet&quot; href&#x3D;&quot;&#x2F;css&#x2F;essay_page&#x2F;home_essay_bar.css&quot;&gt;\n\n#bbTimeList &#123;\n  background: var(--anzhiyu-white);\n  color: var(--anzhiyu-fontcolor);\n  padding: 0.5rem 1rem;\n  border-radius: 30px;\n  box-shadow: var(--anzhiyu-shadow-lightblack);\n  display: flex;\n  transition: all 0.3s ease 0s;\n  margin: 1rem auto 0;\n  border: var(--style-border);\n  align-items: center;\n  height: 50px;\n  width: 100%;\n&#125;\n[data-theme&#x3D;&quot;dark&quot;] #bbTimeList &#123;\n  background: #000 !important;\n&#125;\n#bbtalk &#123;\n  width: 100%;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n&#125;\n#bber-talk &#123;\n  width: 100%;\n  height: 25px;\n  line-height: 25px;\n  display: flex;\n  flex-direction: column;\n&#125;\n.bber-logo &#123;\n  font-size: 1.5rem;\n  line-height: 22px;\n  margin-right: 1rem;\n  transition: all 0.3s ease 0s;\n  cursor: url(&#x2F;img&#x2F;x2.cur), auto !important;\n&#125;\n\n.bber-gotobb &#123;\n  line-height: 25px;\n  margin-left: 1rem;\n  transition: all 0.3s ease 0s;\n  cursor: url(&#x2F;img&#x2F;x2.cur), auto !important;\n&#125;\n\n#bber-talk .li-style &#123;\n  width: 100%;\n  max-width: 100%;\n  height: 25px;\n  text-align: center;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  transition: 0.3s;\n  font-weight: 700;\n  margin: auto;\n  cursor: url(&#x2F;img&#x2F;x2.cur), auto !important;\n  white-space: nowrap;\n&#125;\n\n#bbTimeList:hover &#123;\n  border: var(--style-border-hover);\n  box-shadow: var(--anzhiyu-shadow-main);\n&#125;\n\n&#x2F;* 文章页H1-H6图标样式效果 *&#x2F;\n.bbTimeList .bber-logo &#123;\n  -webkit-animation: rotate 1.6s linear infinite;\n  animation: rotate 1.6s linear infinite;\n&#125;\n@-webkit-keyframes rotate &#123;\n  0% &#123;\n    -webkit-transform: rotate(0deg);\n    transform: rotate(0deg);\n  &#125;\n  to &#123;\n    -webkit-transform: rotate(-1turn);\n    transform: rotate(-1turn);\n  &#125;\n&#125;\n@keyframes rotate &#123;\n  0% &#123;\n    -webkit-transform: rotate(0deg);\n    transform: rotate(0deg);\n  &#125;\n  to &#123;\n    -webkit-transform: rotate(-1turn);\n    transform: rotate(-1turn);\n  &#125;\n&#125;\n\n修改自定义 js修改custom.js\nvar percentFlag &#x3D; false; &#x2F;&#x2F; 节流阀\nfunction essayScroll() &#123;\n  let a &#x3D; document.documentElement.scrollTop || window.pageYOffset; &#x2F;&#x2F; 卷去高度\n  const waterfallResult &#x3D; a % document.documentElement.clientHeight; &#x2F;&#x2F; 卷去一个视口\n  result &lt;&#x3D; 99 || (result &#x3D; 99);\n\n  if (\n    !percentFlag &amp;&amp;\n    waterfallResult + 100 &gt;&#x3D; document.documentElement.clientHeight &amp;&amp;\n    document.querySelector(&quot;#waterfall&quot;)\n  ) &#123;\n    &#x2F;&#x2F; console.info(waterfallResult, document.documentElement.clientHeight);\n    setTimeout(() &#x3D;&gt; &#123;\n      waterfall(&quot;#waterfall&quot;);\n    &#125;, 500);\n  &#125; else &#123;\n    setTimeout(() &#x3D;&gt; &#123;\n      document.querySelector(&quot;#waterfall&quot;) &amp;&amp; waterfall(&quot;#waterfall&quot;);\n    &#125;, 500);\n  &#125;\n\n  const r &#x3D; window.scrollY + document.documentElement.clientHeight;\n\n  let p &#x3D; document.getElementById(&quot;post-comment&quot;) || document.getElementById(&quot;footer&quot;);\n\n  (p.offsetTop + p.offsetHeight &#x2F; 2 &lt; r || 90 &lt; result) &amp;&amp; (percentFlag &#x3D; true);\n&#125;\nfunction replaceAll(e, n, t) &#123;\n  return e.split(n).join(t);\n&#125;\nvar anzhiyu &#x3D; &#123;\n  diffDate: function (d, more &#x3D; false) &#123;\n    const dateNow &#x3D; new Date();\n    const datePost &#x3D; new Date(d);\n    const dateDiff &#x3D; dateNow.getTime() - datePost.getTime();\n    const minute &#x3D; 1000 * 60;\n    const hour &#x3D; minute * 60;\n    const day &#x3D; hour * 24;\n    const month &#x3D; day * 30;\n\n    let result;\n    if (more) &#123;\n      const monthCount &#x3D; dateDiff &#x2F; month;\n      const dayCount &#x3D; dateDiff &#x2F; day;\n      const hourCount &#x3D; dateDiff &#x2F; hour;\n      const minuteCount &#x3D; dateDiff &#x2F; minute;\n\n      if (monthCount &gt;&#x3D; 1) &#123;\n        result &#x3D; datePost.toLocaleDateString().replace(&#x2F;\\&#x2F;&#x2F;g, &quot;-&quot;);\n      &#125; else if (dayCount &gt;&#x3D; 1) &#123;\n        result &#x3D; parseInt(dayCount) + &quot; &quot; + GLOBAL_CONFIG.date_suffix.day;\n      &#125; else if (hourCount &gt;&#x3D; 1) &#123;\n        result &#x3D; parseInt(hourCount) + &quot; &quot; + GLOBAL_CONFIG.date_suffix.hour;\n      &#125; else if (minuteCount &gt;&#x3D; 1) &#123;\n        result &#x3D; parseInt(minuteCount) + &quot; &quot; + GLOBAL_CONFIG.date_suffix.min;\n      &#125; else &#123;\n        result &#x3D; GLOBAL_CONFIG.date_suffix.just;\n      &#125;\n    &#125; else &#123;\n      result &#x3D; parseInt(dateDiff &#x2F; day);\n    &#125;\n    return result;\n  &#125;,\n  changeTimeInEssay: function () &#123;\n    document.querySelector(&quot;#bber&quot;) &amp;&amp;\n      document.querySelectorAll(&quot;#bber time&quot;).forEach(function (e) &#123;\n        var t &#x3D; e,\n          datetime &#x3D; t.getAttribute(&quot;datetime&quot;);\n        (t.innerText &#x3D; anzhiyu.diffDate(datetime, true)), (t.style.display &#x3D; &quot;inline&quot;);\n      &#125;);\n  &#125;,\n  reflashEssayWaterFall: function () &#123;\n    document.querySelector(&quot;#waterfall&quot;) &amp;&amp;\n      setTimeout(function () &#123;\n        waterfall(&quot;#waterfall&quot;);\n        document.getElementById(&quot;waterfall&quot;).classList.add(&quot;show&quot;);\n      &#125;, 500);\n  &#125;,\n  commentText: function (txt) &#123;\n    const postCommentDom &#x3D; document.querySelector(&quot;#post-comment&quot;);\n    var domTop &#x3D; postCommentDom.offsetTop;\n    window.scrollTo(0, domTop - 80);\n    if (txt &#x3D;&#x3D; &quot;undefined&quot; || txt &#x3D;&#x3D; &quot;null&quot;) txt &#x3D; &quot;好棒！&quot;;\n    function setText() &#123;\n      setTimeout(() &#x3D;&gt; &#123;\n        var input &#x3D; document.getElementsByClassName(&quot;el-textarea__inner&quot;)[0];\n        if (!input) setText();\n        let evt &#x3D; document.createEvent(&quot;HTMLEvents&quot;);\n        evt.initEvent(&quot;input&quot;, true, true);\n        let inputValue &#x3D; replaceAll(txt, &quot;\\n&quot;, &quot;\\n&gt; &quot;);\n        input.value &#x3D; &quot;&gt; &quot; + inputValue + &quot;\\n\\n&quot;;\n        input.dispatchEvent(evt);\n        input.focus();\n        input.setSelectionRange(-1, -1);\n        if (document.getElementById(&quot;comment-tips&quot;)) &#123;\n          document.getElementById(&quot;comment-tips&quot;).classList.add(&quot;show&quot;);\n        &#125;\n      &#125;, 100);\n    &#125;\n    setText();\n  &#125;,\n  initIndexEssay: function () &#123;\n    setTimeout(() &#x3D;&gt; &#123;\n      let essay_bar_swiper &#x3D; new Swiper(&quot;.essay_bar_swiper_container&quot;, &#123;\n        passiveListeners: true,\n        direction: &quot;vertical&quot;,\n        loop: true,\n        autoplay: &#123;\n          disableOnInteraction: true,\n          delay: 3000,\n        &#125;,\n        mousewheel: true,\n      &#125;);\n\n      let essay_bar_comtainer &#x3D; document.getElementById(&quot;bbtalk&quot;);\n      if (essay_bar_comtainer !&#x3D;&#x3D; null) &#123;\n        essay_bar_comtainer.onmouseenter &#x3D; function () &#123;\n          essay_bar_swiper.autoplay.stop();\n        &#125;;\n        essay_bar_comtainer.onmouseleave &#x3D; function () &#123;\n          essay_bar_swiper.autoplay.start();\n        &#125;;\n      &#125;\n    &#125;, 100);\n  &#125;,\n&#125;;\n\nanzhiyu.initIndexEssay();\nanzhiyu.changeTimeInEssay();\nanzhiyu.reflashEssayWaterFall();\n主要是新增了在anzhiyu变量中的initIndexEssay方法, 该方法用于初始化 swiper 轮播。\n售后服务暂无\n","slug":"即刻短文瀑布流静态部署方案","date":"2023-01-14T12:18:57.000Z","categories_index":"魔改","tags_index":"hexo,butterfly,HEO同款,即刻短文","author_index":"丐帮GB"},{"id":"49b52761205b99b5323dac7dea775306","title":"为你的博客添加一个新年倒计时卡片","content":"更新记录\n\n\n\n\n\n\n\n\n2023-01-14: 修改元宝index值（js代码内），默认999999会出现一些bug，设为1即可。修复dom获取不到的Bug。适配pjax。\n效果图\n倒计时大于一天会显示天数。\n倒计时小于一天会显示时分秒进行倒计时。\n如果已经过年了则显示新年快乐。\n\n参考文档\n博客新年倒计时卡片\n我是这么适配pjax的\n\n教程添加侧边栏\n\n\n\n\n\n\n\n\n适用于 &gt;&#x3D; 3.8.0 低版本劝退新建文件[Blogroot]\\source\\_data\\widget.yml\n# top: 创建的 widget 会出现在非 sticky 区域（即所有页面都会显示)\n# bottom: 创建的 widget 会出现在 sticky 区域（除了文章页都会显示)\ntop:\n  - class_name:\n    id_name: newYear\n    name:\n    icon:\n    order: 1\n    html: &#39;&lt;div id&#x3D;&quot;newYear-main&quot;&gt;&lt;div class&#x3D;&quot;mask&quot;&gt;&lt;&#x2F;div&gt;\n      &lt;p class&#x3D;&quot;title&quot;&gt;&lt;&#x2F;p&gt;\n      &lt;div class&#x3D;&quot;newYear-time&quot;&gt;&lt;&#x2F;div&gt;\n      &lt;p class&#x3D;&quot;today&quot; style&#x3D;&quot;text-align: right;&quot;&gt;&lt;&#x2F;p&gt;\n      &lt;&#x2F;div&gt;&#39;\n\n添加css自定义css中添加如下代码\n&#x2F;* 新年侧边栏 *&#x2F;\n\n#newYear &#123;\n    color: white;\n    padding: 0 !important;\n&#125;\n\n#newYear p,\n#newYear h3 &#123;\n    font-weight: normal;\n    color: inherit;\n    margin: 0;\n&#125;\n\n#newYear .item-headline &#123;\n    display: none;\n&#125;\n\n#newYear-main &#123;\n    min-height: 160px;\n    padding: 1rem;\n    position: relative;\n    border-radius: 12px;\n    background-image: url(https:&#x2F;&#x2F;www.z4a.net&#x2F;images&#x2F;2023&#x2F;01&#x2F;14&#x2F;tunian3.webp);\n    background-size: cover;\n    background-position: center;\n&#125;\n\n#newYear-main * &#123;\n    position: relative;\n    line-height: 1.3;\n&#125;\n\n#newYear-main .newYear-time &#123;\n    font-weight: bold;\n    text-align: center;\n&#125;\n\n#newYear-main .time,\n#newYear-main .happyNewYear &#123;\n    font-size: 3.5rem;\n    margin: 1rem 0;\n    display: block;\n&#125;\n\n#newYear-main .day &#123;\n    font-size: 5rem;\n&#125;\n\n#newYear-main .day .unit &#123;\n    font-size: 1rem;\n&#125;\n\n#newYear-main .mask &#123;\n    position: absolute;\n    left: 0;\n    top: 0;\n    height: 100%;\n    width: 100%;\n    background-color: rgba(0, 0, 0, .1);\n&#125;\n\n\n\n\n\n\n\n\n\n不保证图片可用性，自行上传到自己的图床！\n引入JQuery和元宝库在_config.butterfly.yml的inject下的bottom里添加如下代码\n# jq\n+ - &lt;script src&#x3D;&quot;https:&#x2F;&#x2F;lf3-cdn-tos.bytecdntp.com&#x2F;cdn&#x2F;expire-1-M&#x2F;jquery&#x2F;3.6.0&#x2F;jquery.min.js&quot; type&#x3D;&quot;application&#x2F;javascript&quot;&gt;&lt;&#x2F;script&gt;\n# 元宝\n+ - &lt;script src&#x3D;&quot;https:&#x2F;&#x2F;cdn.wpon.cn&#x2F;2022-sucai&#x2F;Gold-ingot.js&quot;&gt;&lt;&#x2F;script&gt;\n# 自定义js必须放到这两个下面，如：\n+ - &lt;script src&#x3D;&quot;&#x2F;js&#x2F;xxx.js&quot;&gt;&lt;&#x2F;script&gt;\n\n添加jslet newYearTimer &#x3D; null;\nvar newYear &#x3D; () &#x3D;&gt; &#123;\n    clearTimeout(newYearTimer);\n    if (!document.querySelector(&#39;#newYear&#39;)) return;\n    &#x2F;&#x2F; 新年时间戳 and 星期对象\n    let newYear &#x3D; new Date(&#39;2023-01-22 00:00:00&#39;).getTime() &#x2F; 1000,\n        week &#x3D; &#123; 0: &#39;周日&#39;, 1: &#39;周一&#39;, 2: &#39;周二&#39;, 3: &#39;周三&#39;, 4: &#39;周四&#39;, 5: &#39;周五&#39;, 6: &#39;周六&#39; &#125;\n\n    time();\n\n    &#x2F;&#x2F; 补零函数\n    function nol(h) &#123; return h &gt; 9 ? h : &#39;0&#39; + h; &#125;;\n\n    function time() &#123;\n        &#x2F;&#x2F; 现在 时间对象\n        let now &#x3D; new Date();\n\n        &#x2F;&#x2F; 右下角 今天\n        document.querySelector(&#39;#newYear .today&#39;).innerHTML &#x3D; now.getFullYear() + &#39;-&#39; + (now.getMonth() + 1) + &#39;-&#39; + now.getDate() + &#39; &#39; + week[now.getDay()]\n\n        &#x2F;&#x2F; 现在与新年相差秒数\n        let second &#x3D; newYear - Math.round(now.getTime() &#x2F; 1000);\n\n        &#x2F;&#x2F; 小于0则表示已经过年\n        if (second &lt; 0) &#123;\n            document.querySelector(&#39;#newYear .title&#39;).innerHTML &#x3D; &#39;Happy New Year!&#39;;\n            document.querySelector(&#39;#newYear .newYear-time&#39;).innerHTML &#x3D; &#39;&lt;span class&#x3D;&quot;happyNewYear&quot;&gt;新年快乐&lt;&#x2F;span&gt;&#39;;\n        &#125; else &#123;\n            &#x2F;&#x2F; 大于0则还未过年\n            document.querySelector(&#39;#newYear .title&#39;).innerHTML &#x3D; &#39;距离2023年春节：&#39;\n\n            &#x2F;&#x2F; 大于一天则直接渲染天数\n            if (second &gt; 86400) &#123;\n                document.querySelector(&#39;#newYear .newYear-time&#39;).innerHTML &#x3D; &#96;&lt;span class&#x3D;&quot;day&quot;&gt;$&#123;Math.ceil(second &#x2F; 86400)&#125;&lt;span class&#x3D;&quot;unit&quot;&gt;天&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&#96;\n            &#125; else &#123;\n                &#x2F;&#x2F; 小于一天则使用时分秒计时。\n                let h &#x3D; nol(parseInt(second &#x2F; 3600));\n                second %&#x3D; 3600;\n                let m &#x3D; nol(parseInt(second &#x2F; 60));\n                second %&#x3D; 60;\n                let s &#x3D; nol(second);\n                document.querySelector(&#39;#newYear .newYear-time&#39;).innerHTML &#x3D; &#96;&lt;span class&#x3D;&quot;time&quot;&gt;$&#123;h&#125;:$&#123;m&#125;:$&#123;s&#125;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&#96;;\n                &#x2F;&#x2F; 计时\n                newYearTimer &#x3D; setTimeout(time, 1000);\n            &#125;\n        &#125;\n    &#125;\n\n    &#x2F;&#x2F; 元宝飘落\n    jQuery(document).ready(function($) &#123;\n        $(&#39;#newYear&#39;).wpSuperSnow(&#123;\n            flakes: [&#39;https:&#x2F;&#x2F;www.z4a.net&#x2F;images&#x2F;2023&#x2F;01&#x2F;14&#x2F;imaged8c9cc8460865184.png&#39;, &#39;https:&#x2F;&#x2F;www.z4a.net&#x2F;images&#x2F;2023&#x2F;01&#x2F;14&#x2F;image2e0143d2bc9f6de9.png&#39;, &#39;https:&#x2F;&#x2F;www.z4a.net&#x2F;images&#x2F;2023&#x2F;01&#x2F;14&#x2F;imageb5380bb8e765905f.png&#39;],\n            totalFlakes: &#39;100&#39;,\n            zIndex: &#39;1&#39;,\n            maxSize: &#39;30&#39;,\n            maxDuration: &#39;20&#39;,\n            useFlakeTrans: false\n        &#125;);\n    &#125;);\n&#125;\nfunction whenDOMReady() &#123;\n  &#x2F;&#x2F; pjax加载完成（切换页面）后需要执行的函数和代码\n  newYear();\n&#125;\n\nwhenDOMReady() &#x2F;&#x2F; 打开网站先执行一次\ndocument.addEventListener(&quot;pjax:complete&quot;, whenDOMReady) &#x2F;&#x2F; pjax加载完成（切换页面）后再执行一次\n\n\n\n\n\n\n\n\n\n不保证图片可用性，请上传到自己的图床！\n最后如果有问题的话欢迎反馈，我再进行修改。\n","slug":"为你的博客添加一个新年倒计时卡片","date":"2023-01-14T05:12:25.000Z","categories_index":"魔改","tags_index":"hexo,butterfly,教程,Leonus同款,侧边栏,新年系列","author_index":"丐帮GB"},{"id":"afc8ea148926b4415a5fbe52c8393233","title":"为博客添加自定义页脚","content":"碎碎念在开始前，请先确保你已看此Hexo魔改系列前置教程，或者你是老司机\nHexo Butterfly博客魔改的一点点基础,GTC,&#x2F;posts&#x2F;583ff077&#x2F;\n\n效果\n首先要卸载店长的hexo-butterfly-footer-beautify插件，将页脚直接写成一个pug，个人觉得插件很多冗余的地方用不到，因此卸载了，否则会冲突npm uninstall hexo-butterfly-footer-beautify --save\n在站点配置文件_config.yml删除插件相关的配置项-footer_beautify:\n-  enable:\n-    timer: true # 计时器开关\n-    bdage: true # 徽标开关\n-  priority: 5 #过滤器优先权\n-  enable_page: all # 应用页面\n-  exclude: #屏蔽页面\n-    # - &#x2F;posts&#x2F;\n-    # - &#x2F;about&#x2F;\n-  layout: # 挂载容器类型\n-    type: id\n-    name: footer-wrap\n-    index: 0\n-  runtime_js: https:&#x2F;&#x2F;npm.elemecdn.com&#x2F;hexo-butterfly-footer-beautify@1.0.0&#x2F;lib&#x2F;runtime.js\n-  runtime_css: https:&#x2F;&#x2F;npm.elemecdn.com&#x2F;hexo-butterfly-footer-beautify@1.0.0&#x2F;lib&#x2F;runtime.css\n-  # 徽标部分配置项\n-  swiperpara: 0 #若非0，则开启轮播功能，每行徽标个数\n-  bdageitem:\n-    - link: https:&#x2F;&#x2F;hexo.io&#x2F; #徽标指向网站链接\n-      shields: https:&#x2F;&#x2F;img.shields.io&#x2F;badge&#x2F;Frame-Hexo-blue?style&#x3D;flat&amp;logo&#x3D;hexo #徽标API\n-      message: 博客框架为Hexo_v6.2.0 #徽标提示语\n-    - link: https:&#x2F;&#x2F;butterfly.js.org&#x2F;\n-      shields: https:&#x2F;&#x2F;img.shields.io&#x2F;badge&#x2F;Theme-Butterfly-6513df?style&#x3D;flat&amp;logo&#x3D;bitdefender\n-      message: 主题版本Butterfly_v4.3.1\n-    - link: https:&#x2F;&#x2F;vercel.com&#x2F;\n-      shields: https:&#x2F;&#x2F;img.shields.io&#x2F;badge&#x2F;Hosted-Vercel-brightgreen?style&#x3D;flat&amp;logo&#x3D;Vercel\n-      message: 本站采用多线部署，主线路托管于Vercel\n-    - link: https:&#x2F;&#x2F;dashboard.4everland.org&#x2F;\n-    # https:&#x2F;&#x2F;img.shields.io&#x2F;badge&#x2F;Hosted-4EVERLAND-3FE2C1?style&#x3D;flat&amp;logo&#x3D;IPFS\n-      shields: https:&#x2F;&#x2F;img.shields.io&#x2F;badge&#x2F;Hosted-4EVERLAND-22DDDD?style&#x3D;flat&amp;logo&#x3D;IPFS\n-      message: 本站采用多线部署，备用线路托管于4EVERLAND\n-    - link: https:&#x2F;&#x2F;github.com&#x2F;\n-      shields: https:&#x2F;&#x2F;img.shields.io&#x2F;badge&#x2F;Source-Github-d021d6?style&#x3D;flat&amp;logo&#x3D;GitHub\n-      message: 本站项目由Github托管\n-    - link: http:&#x2F;&#x2F;creativecommons.org&#x2F;licenses&#x2F;by-nc-sa&#x2F;4.0&#x2F;\n-      shields: https:&#x2F;&#x2F;img.shields.io&#x2F;badge&#x2F;Copyright-BY--NC--SA%204.0-d42328?style&#x3D;flat&amp;logo&#x3D;Claris\n-      message: 本站采用知识共享署名-非商业性使用-相同方式共享4.0国际许可协议进行许可\n-  swiper_css: https:&#x2F;&#x2F;npm.elemecdn.com&#x2F;hexo-butterfly-swiper&#x2F;lib&#x2F;swiper.min.css\n-  swiper_js: https:&#x2F;&#x2F;npm.elemecdn.com&#x2F;hexo-butterfly-swiper&#x2F;lib&#x2F;swiper.min.js\n-  swiperbdage_init_js: https:&#x2F;&#x2F;npm.elemecdn.com&#x2F;hexo-butterfly-footer-beautify&#x2F;lib&#x2F;swiperbdage_init.min.js\n\n将[BlogRoot]/themes/butterfly/layout/includes/footer.pug替换成如下代码#footer-wrap\n  #ft\n    .ft-item-1\n      .t-top\n        .t-t-l\n          p.ft-t.t-l-t 格言🧬\n          .bg-ad\n            div\n              | 再看看那个光点，它就在这里，这是家园，这是我们 —— 你所爱的每一个人，你认识的一个人，你听说过的每一个人，曾经有过的每一个人，都在它上面度过他们的一生✨\n            .btn-xz-box\n              a.btn-xz(href&#x3D;&#39;https:&#x2F;&#x2F;stellarium.org&#x2F;&#39;) 点击开启星辰之旅\n        .t-t-r\n          p.ft-t.t-l-t 猜你想看💡\n          ul.ft-links\n            li\n              a(href&#x3D;&#39;&#x2F;categories&#x2F;魔改&#x2F;&#39;) 魔改指南\n              a(href&#x3D;&#39;&#x2F;help&#x2F;&#39;) 工具导航\n            li\n              a(href&#x3D;&#39;&#x2F;link&#x2F;&#39;) 我的朋友\n              a(href&#x3D;&#39;&#x2F;comments&#x2F;&#39;) 留点什么\n            li\n              a(href&#x3D;&#39;&#x2F;about&#x2F;&#39;) 关于作者\n              a(href&#x3D;&#39;&#x2F;archives&#x2F;&#39;) 文章归档\n            li\n              a(href&#x3D;&#39;&#x2F;categories&#x2F;&#39;) 文章分类\n              a(href&#x3D;&#39;&#x2F;tags&#x2F;&#39;) 文章标签\n    .ft-item-2\n      p.ft-t 推荐友链⌛\n      .ft-img-group\n        .img-group-item\n          a(href&#x3D;&#39;https:&#x2F;&#x2F;www.fomal.cc&#x2F;&#39; title&#x3D;&#39;Fomalhaut🥝&#39;)\n            img(src&#x3D;&#39;https:&#x2F;&#x2F;lskypro.acozycotage.net&#x2F;LightPicture&#x2F;2022&#x2F;12&#x2F;60e5d4e39da7c077.webp&#39; alt&#x3D;&#39;&#39;)\n        .img-group-item\n          a(href&#x3D;&#39;https:&#x2F;&#x2F;tzy1997.com&#x2F;&#39; title&#x3D;&#39;唐志远の博客&#39;)\n            img(src&#x3D;&#39;https:&#x2F;&#x2F;lskypro.acozycotage.net&#x2F;LightPicture&#x2F;2022&#x2F;12&#x2F;4ab83cdce942463b.jpg&#39; alt&#x3D;&#39;&#39;)\n        .img-group-item\n          a(href&#x3D;&#39;https:&#x2F;&#x2F;akilar.top&#x2F;&#39; title&#x3D;&#39;Akilarの糖果屋&#39;)\n            img(src&#x3D;&#39;https:&#x2F;&#x2F;lskypro.acozycotage.net&#x2F;LightPicture&#x2F;2022&#x2F;12&#x2F;6bf1ed05796db59c.jpg&#39; alt&#x3D;&#39;&#39;)\n        .img-group-item\n          a(href&#x3D;&#39;https:&#x2F;&#x2F;butterfly.js.org&#x2F;&#39; title&#x3D;&#39;Butterfly&#39;)\n            img(src&#x3D;&#39;https:&#x2F;&#x2F;lskypro.acozycotage.net&#x2F;LightPicture&#x2F;2022&#x2F;12&#x2F;64cc6a7d508026e1.png&#39; alt&#x3D;&#39;&#39;)\n        .img-group-item\n          a(href&#x3D;&#39;https:&#x2F;&#x2F;anzhiy.cn&#x2F;&#39; title&#x3D;&#39;安知鱼&#39;)\n            img(src&#x3D;&#39;https:&#x2F;&#x2F;lskypro.acozycotage.net&#x2F;LightPicture&#x2F;2022&#x2F;12&#x2F;1b33fef8f5fb7e63.jpg&#39; alt&#x3D;&#39;&#39;)\n        .img-group-item\n          a(href&#x3D;&#39;https:&#x2F;&#x2F;www.acozycotage.net&#x2F;&#39; title&#x3D;&#39;Acozycotage&#39;)\n            img(src&#x3D;&#39;https:&#x2F;&#x2F;lskypro.acozycotage.net&#x2F;LightPicture&#x2F;2022&#x2F;12&#x2F;6a6fe6ebfd19c465.jpg&#39; alt&#x3D;&#39;&#39;)\n        .img-group-item\n          a(href&#x3D;&#39;https:&#x2F;&#x2F;cdn.netdun.net&#x2F;&#39; title&#x3D;&#39;网盾星球&#39;)\n            img(src&#x3D;&#39;https:&#x2F;&#x2F;lskypro.acozycotage.net&#x2F;LightPicture&#x2F;2022&#x2F;12&#x2F;70dee3f9d1ca10f3.webp&#39; alt&#x3D;&#39;&#39;)\n        .img-group-item\n          a(href&#x3D;&#39;javascript:void(0)&#39; title&#x3D;&#39;广告位招租&#39;)\n            img(src&#x3D;&#39;https:&#x2F;&#x2F;lskypro.acozycotage.net&#x2F;LightPicture&#x2F;2022&#x2F;12&#x2F;65307a5828af6790.webp&#39; alt&#x3D;&#39;&#39;)\n\n  if theme.footer.owner.enable\n    - var now &#x3D; new Date()\n    - var nowYear &#x3D; now.getFullYear()\n    if theme.footer.owner.since &amp;&amp; theme.footer.owner.since !&#x3D; nowYear\n      .copyright\n        span!&#x3D; &#96;&lt;b&gt;&amp;copy;$&#123;theme.footer.owner.since&#125; - $&#123;nowYear&#125;&lt;&#x2F;b&gt;&#96;\n        span!&#x3D; &#96;&lt;b&gt;&amp;nbsp;&amp;nbsp;By $&#123;config.author&#125;&lt;&#x2F;b&gt;&#96;\n    else\n      .copyright\n        span!&#x3D; &#96;&lt;b&gt;&amp;copy;$&#123;nowYear&#125;&lt;&#x2F;b&gt;&#96;\n        span!&#x3D; &#96;&lt;b&gt;&amp;nbsp;&amp;nbsp;By $&#123;config.author&#125;&lt;&#x2F;b&gt;&#96;\n  if theme.footer.copyright\n    .framework-info\n      span&#x3D; _p(&#39;footer.framework&#39;) + &#39; &#39;\n      a(href&#x3D;&#39;https:&#x2F;&#x2F;hexo.io&#39;)&#x3D; &#39;Hexo&#39;\n      span.footer-separator |\n      span&#x3D; _p(&#39;footer.theme&#39;) + &#39; &#39;\n      a(href&#x3D;&#39;&#x2F;categories&#x2F;魔改&#x2F;&#39;)&#x3D; &#39;GBTH1.0&#39;\n  if theme.footer.custom_text\n    .footer_custom_text!&#x3D;&#96;$&#123;theme.footer.custom_text&#125;&#96;\n    \n  #workboard\n  \n  p#ghbdages\n    a.github-badge(target&#x3D;&#39;_blank&#39; href&#x3D;&quot;https:&#x2F;&#x2F;hexo.io&#x2F;&quot; style&#x3D;&#39;margin-inline:5px&#39; title&#x3D;&quot;博客框架为Hexo_v6.3.0&quot;)\n      img(src&#x3D;&quot;https:&#x2F;&#x2F;sourcebucket.s3.ladydaily.com&#x2F;badge&#x2F;Frame-Hexo-blue.svg&quot; alt&#x3D;&#39;&#39;)\n\n    a.github-badge(target&#x3D;&#39;_blank&#39; href&#x3D;&quot;&#x2F;categories&#x2F;魔改&#x2F;&quot; style&#x3D;&#39;margin-inline:5px&#39; title&#x3D;&quot;主题版本GBTH1.0&quot;)\n      img(src&#x3D;&quot;https:&#x2F;&#x2F;img.shields.io&#x2F;badge&#x2F;Theme-GBTH1.0-blueviolet&quot; alt&#x3D;&#39;&#39;)\n\n    a.github-badge(target&#x3D;&#39;_blank&#39; href&#x3D;&quot;https:&#x2F;&#x2F;vercel.com&#x2F;&quot; style&#x3D;&#39;margin-inline:5px&#39; title&#x3D;&quot;本站采用多线部署，主线路托管于Vercel&quot;)\n      img(src&#x3D;&quot;https:&#x2F;&#x2F;sourcebucket.s3.ladydaily.com&#x2F;badge&#x2F;Hosted-Vercel-brightgreen.svg&quot; alt&#x3D;&#39;&#39;)\n\n    a.github-badge(target&#x3D;&#39;_blank&#39; href&#x3D;&quot;https:&#x2F;&#x2F;user.51.la&#x2F;&quot; style&#x3D;&#39;margin-inline:5px&#39; title&#x3D;&quot;本站数据分析得益于51la技术支持&quot;)\n      img(src&#x3D;&quot;https:&#x2F;&#x2F;sourcebucket.s3.ladydaily.com&#x2F;badge&#x2F;Analytics-51la-3db1eb.svg&quot; alt&#x3D;&#39;&#39;)\n\n    a.github-badge(target&#x3D;&#39;_blank&#39; href&#x3D;&quot;https:&#x2F;&#x2F;icp.gov.moe&#x2F;?keyword&#x3D;20230424&quot; style&#x3D;&#39;margin-inline:5px&#39; title&#x3D;&quot;本站已加入萌ICP豪华套餐，萌ICP备20230424号&quot;)\n      img(src&#x3D;&quot;https:&#x2F;&#x2F;img.shields.io&#x2F;badge&#x2F;%E8%90%8CICP%E5%A4%87-20230424-%23ff69b4&quot; alt&#x3D;&#39;&#39;)\n\n    a.github-badge(target&#x3D;&#39;_blank&#39; href&#x3D;&quot;https:&#x2F;&#x2F;bitiful.dogecast.com&#x2F;buckets&quot; style&#x3D;&#39;margin-inline:5px&#39; title&#x3D;&quot;本网站经Service Worker分流至缤纷云对象存储&quot;)\n      img(src&#x3D;&quot; https:&#x2F;&#x2F;sourcebucket.s3.ladydaily.com&#x2F;badge&#x2F;Bucket-缤纷云-9c62da.svg&quot; alt&#x3D;&#39;&#39;)\n\n    a.github-badge(target&#x3D;&#39;_blank&#39; href&#x3D;&quot;https:&#x2F;&#x2F;www.netdun.net&#x2F;&quot; style&#x3D;&#39;margin-inline:5px&#39; title&#x3D;&quot;本站JSD加速由Tianli提供加速与防护&quot;)\n      img(src&#x3D;&quot;https:&#x2F;&#x2F;img.shields.io&#x2F;badge&#x2F;CDN-Tianli%E6%8F%90%E4%BE%9B-red&quot; alt&#x3D;&#39;&#39;)\n\n    a.github-badge(target&#x3D;&#39;_blank&#39; href&#x3D;&quot;https:&#x2F;&#x2F;tianli-blog.club&#x2F;jsd&#x2F;&quot; style&#x3D;&#39;margin-inline:5px&#39; title&#x3D;&quot;本网站源码由Github提供存储仓库&quot;)\n      img(src&#x3D;&quot; https:&#x2F;&#x2F;sourcebucket.s3.ladydaily.com&#x2F;badge&#x2F;Source-Github-d021d6.svg&quot; alt&#x3D;&#39;&#39;)\n\n\n\n\n\n\n\n\n\n代码解析：一个是以#ft为块的DOM，其中分为了格言、猜你想看、推荐友链三部分，参考图中的位置结合自己的喜好进行修改即可，图像、文字和链接均替换成你自己的（记住不要用我的链接！！！）；if theme.footer.owner.enable起这一块是主题指定的信息版权信息，最后是p#ghbdages这块，是徽标显示，大家可以到shields.io按照自己的信息生成（不要用我的！！！）\n将以下代码复制到自定义的custom.css中，其中颜色、圆角等可以根据你自己的喜好进行修改&#x2F;* 页脚样式 *&#x2F;\n#ft &#123;\n  max-width: 1200px;\n  margin: 0 auto 12px;\n  display: flex;\n  color: rgb(255 255 255 &#x2F; 80%) !important;\n  text-align: left;\n  flex-wrap: wrap;\n&#125;\n\n.ft-item-1,\n.ft-item-2 &#123;\n  display: flex;\n  height: 100%;\n  padding: 2px 14px;\n&#125;\n\n.ft-item-1 &#123;\n  flex-direction: column;\n  flex: 2;\n&#125;\n\n.ft-item-2 &#123;\n  flex: 1;\n  flex-direction: column;\n&#125;\n\n.t-top &#123;\n  display: flex;\n&#125;\n\n.t-top .t-t-l &#123;\n  display: flex;\n  flex-direction: column;\n  flex: 1.4;\n  margin-right: 10px;\n&#125;\n\n.t-top .t-t-l .bg-ad &#123;\n  width: 85%;\n  border-radius: 10px;\n  padding: 0 10px;\n&#125;\n\n.btn-xz-box &#123;\n  margin-top: 10px;\n&#125;\n\n&#x2F;* 按钮背景颜色等 *&#x2F;\n.btn-xz &#123;\n  display: block;\n  background-color: var(--btn-bg);\n  color: var(--btn-color);\n  text-align: center;\n  line-height: 2.4;\n  margin: 8px 0;\n&#125;\n\n.btn-xz:hover &#123;\n  text-decoration: none !important;\n&#125;\n&#x2F;* 按钮悬浮颜色 *&#x2F;\n.btn-xz-box:hover .btn-xz &#123;\n  background-color: var(--text-bg-hover);\n&#125;\n\n.t-top .t-t-r &#123;\n  display: flex;\n  flex-direction: column;\n  flex: 1;\n&#125;\n\n.ft-links &#123;\n  padding: 0 14px;\n  list-style: none;\n  margin-top: 0 !important;\n&#125;\n\n.ft-links li a &#123;\n  display: inline-block !important;\n  width: 50%;\n&#125;\n&#x2F;* 链接悬浮颜色 *&#x2F;\n.ft-links li a:hover &#123;\n  text-decoration: none !important;\n  color: var(--theme-color) !important;\n&#125;\n\n.ft-item-2 .ft-img-group &#123;\n  width: 100%;\n&#125;\n\n.ft-t &#123;\n  font-size: 1.1rem;\n  margin-bottom: 20px;\n  line-height: 1;\n  font-weight: 600;\n&#125;\n\n.t-l-t &#123;\n  padding-left: 14px;\n&#125;\n\n.ft-item-2 .ft-img-group .img-group-item &#123;\n  display: inline-block;\n  width: 18.4%;\n  margin-right: 14px;\n  margin-bottom: 6px;\n&#125;\n\n.ft-item-2 .ft-img-group .img-group-item a &#123;\n  display: inline-block;\n  width: 100%;\n  height: 100%;\n&#125;\n\n.ft-item-2 .ft-img-group .img-group-item a img &#123;\n  width: 100%;\n  max-height: 80px;\n  border-radius: 10px;\n&#125;\n&#x2F;* 头像悬浮颜色框 *&#x2F;\n.ft-item-2 .ft-img-group .img-group-item a img:hover &#123;\n  border: 2px solid var(--theme-color);\n&#125;\n\n@media screen and (max-width: 768px) &#123;\n  .ft-item-1 &#123;\n    flex-basis: 100% !important;\n  &#125;\n\n  .ft-item-2 &#123;\n    flex-basis: 100% !important;\n  &#125;\n\n  .t-top .t-t-l .bg-ad &#123;\n    width: 100%;\n  &#125;\n&#125;\n\n@media screen and (max-width: 576px) &#123;\n  .t-top &#123;\n    flex-wrap: wrap;\n  &#125;\n\n  .t-top .t-t-l &#123;\n    flex-basis: 100% !important;\n  &#125;\n\n  .t-top .t-t-r &#123;\n    margin-top: 16px;\n    flex-basis: 100% !important;\n  &#125;\n&#125;\n#footer-wrap a &#123;\n  border-radius: 30px;\n&#125;\n#footer-wrap &#123;\n  padding: 20px 20px;\n&#125;\n\n&#x2F;* 页脚心跳动画 *&#x2F;\n#heartbeat &#123;\n  color: red;\n  animation: iconAnimate 1s ease-in-out infinite;\n&#125;\n@-moz-keyframes iconAnimate &#123;\n  0%,\n  100% &#123;\n    transform: scale(1);\n  &#125;\n  10%,\n  30% &#123;\n    transform: scale(0.9);\n  &#125;\n  20%,\n  40%,\n  60%,\n  80% &#123;\n    transform: scale(1.1);\n  &#125;\n  50%,\n  70% &#123;\n    transform: scale(1.1);\n  &#125;\n&#125;\n@-webkit-keyframes iconAnimate &#123;\n  0%,\n  100% &#123;\n    transform: scale(1);\n  &#125;\n  10%,\n  30% &#123;\n    transform: scale(0.9);\n  &#125;\n  20%,\n  40%,\n  60%,\n  80% &#123;\n    transform: scale(1.1);\n  &#125;\n  50%,\n  70% &#123;\n    transform: scale(1.1);\n  &#125;\n&#125;\n@-o-keyframes iconAnimate &#123;\n  0%,\n  100% &#123;\n    transform: scale(1);\n  &#125;\n  10%,\n  30% &#123;\n    transform: scale(0.9);\n  &#125;\n  20%,\n  40%,\n  60%,\n  80% &#123;\n    transform: scale(1.1);\n  &#125;\n  50%,\n  70% &#123;\n    transform: scale(1.1);\n  &#125;\n&#125;\n@keyframes iconAnimate &#123;\n  0%,\n  100% &#123;\n    transform: scale(1);\n  &#125;\n  10%,\n  30% &#123;\n    transform: scale(0.9);\n  &#125;\n  20%,\n  40%,\n  60%,\n  80% &#123;\n    transform: scale(1.1);\n  &#125;\n  50%,\n  70% &#123;\n    transform: scale(1.1);\n  &#125;\n&#125;\n然后计时器还要往#footer-wrap这块元素上面写入网站运行时间等信息，新建文件[BlogRoot]\\source\\js\\runtime.js，写入如下代码。这里要修改的几块东西是：网站诞生时间、currentTimeHtml这块东西；其中currentTimeHtml分为了两种模式，对应两个不同的图标，自行研究一下就懂！var now &#x3D; new Date();\nfunction createtime() &#123;\n  &#x2F;&#x2F; 当前时间\n  now.setTime(now.getTime() + 1000);\n  var start &#x3D; new Date(&quot;08&#x2F;01&#x2F;2022 00:00:00&quot;); &#x2F;&#x2F; 旅行者1号开始计算的时间\n  var dis &#x3D; Math.trunc(23400000000 + ((now - start) &#x2F; 1000) * 17); &#x2F;&#x2F; 距离&#x3D;秒数*速度 记住转换毫秒\n  var unit &#x3D; (dis &#x2F; 149600000).toFixed(6);  &#x2F;&#x2F; 天文单位\n  var grt &#x3D; new Date(&quot;08&#x2F;09&#x2F;2022 00:00:00&quot;);\t&#x2F;&#x2F; 网站诞生时间\n  var days &#x3D; (now - grt) &#x2F; 1e3 &#x2F; 60 &#x2F; 60 &#x2F; 24,\n    dnum &#x3D; Math.floor(days),\n    hours &#x3D; (now - grt) &#x2F; 1e3 &#x2F; 60 &#x2F; 60 - 24 * dnum,\n    hnum &#x3D; Math.floor(hours);\n  1 &#x3D;&#x3D; String(hnum).length &amp;&amp; (hnum &#x3D; &quot;0&quot; + hnum);\n  var minutes &#x3D; (now - grt) &#x2F; 1e3 &#x2F; 60 - 1440 * dnum - 60 * hnum,\n    mnum &#x3D; Math.floor(minutes);\n  1 &#x3D;&#x3D; String(mnum).length &amp;&amp; (mnum &#x3D; &quot;0&quot; + mnum);\n  var seconds &#x3D; (now - grt) &#x2F; 1e3 - 86400 * dnum - 3600 * hnum - 60 * mnum,\n    snum &#x3D; Math.round(seconds);\n  1 &#x3D;&#x3D; String(snum).length &amp;&amp; (snum &#x3D; &quot;0&quot; + snum);\n  let currentTimeHtml &#x3D; &quot;&quot;;\n  (currentTimeHtml &#x3D;\n    hnum &lt; 18 &amp;&amp; hnum &gt;&#x3D; 9\n    ? &#96;&lt;img class&#x3D;&#39;boardsign&#39; src&#x3D;&#39;https:&#x2F;&#x2F;sourcebucket.s3.ladydaily.com&#x2F;badge&#x2F;xxx-科研摸鱼中.svg&#39; title&#x3D;&#39;什么时候能够实现财富自由呀~&#39;&gt;&lt;br&gt; &lt;div style&#x3D;&quot;font-size:13px;font-weight:bold&quot;&gt;本站居然运行了 $&#123;dnum&#125; 天 $&#123;hnum&#125; 小时 $&#123;mnum&#125; 分 $&#123;snum&#125; 秒 &lt;i id&#x3D;&quot;heartbeat&quot; class&#x3D;&#39;fas fa-heartbeat&#39;&gt;&lt;&#x2F;i&gt; &lt;br&gt; 旅行者 1 号当前距离地球 $&#123;dis&#125; 千米，约为 $&#123;unit&#125; 个天文单位 🚀&lt;&#x2F;div&gt;&#96;\n    : &#96;&lt;img class&#x3D;&#39;boardsign&#39; src&#x3D;&#39;https:&#x2F;&#x2F;sourcebucket.s3.ladydaily.com&#x2F;badge&#x2F;xxx-下班休息啦.svg&#39; title&#x3D;&#39;下班了就该开开心心地玩耍~&#39;&gt;&lt;br&gt; &lt;div style&#x3D;&quot;font-size:13px;font-weight:bold&quot;&gt;本站居然运行了 $&#123;dnum&#125; 天 $&#123;hnum&#125; 小时 $&#123;mnum&#125; 分 $&#123;snum&#125; 秒 &lt;i id&#x3D;&quot;heartbeat&quot; class&#x3D;&#39;fas fa-heartbeat&#39;&gt;&lt;&#x2F;i&gt; &lt;br&gt; 旅行者 1 号当前距离地球 $&#123;dis&#125; 千米，约为 $&#123;unit&#125; 个天文单位 🚀&lt;&#x2F;div&gt;&#96;),\n    document.getElementById(&quot;workboard&quot;) &amp;&amp;\n    (document.getElementById(&quot;workboard&quot;).innerHTML &#x3D; currentTimeHtml);\n&#125;\n&#x2F;&#x2F; 设置重复执行函数，周期1000ms\nsetInterval(() &#x3D;&gt; &#123;\n  createtime();\n&#125;, 1000);\n\n在主题配置文件_config.butterfly.yml引入该runtime.js文件inject:\n  bottom: \n    - &lt;script defer src&#x3D;&quot;&#x2F;js&#x2F;runtime.js&quot;&gt;&lt;&#x2F;script&gt; # 页脚计时器\n\n生效运行hexo cl &amp;&amp; hexo g &amp;&amp; hexo s即可看到效果\ntodo❎ 将推荐友链改为随机友链\n","slug":"为博客添加自定义页脚","date":"2023-01-13T11:30:25.000Z","categories_index":"魔改","tags_index":"hexo,butterfly,教程,页脚","author_index":"丐帮GB"},{"id":"638e98166e69c547a4329737852e3381","title":"为博客添加heo同款侧边栏公众号","content":"碎碎念在开始前，请先确保你已看此Hexo魔改系列前置教程，或者你是老司机\nHexo Butterfly博客魔改的一点点基础,GTC,&#x2F;posts&#x2F;583ff077&#x2F;\n\n效果预览\n步骤在[BlogRoot]/theme/hexo-theme-butterfly/layout/includes/widget文件夹下新建card_wx.pug文件内容如下：\n#card-wechat.card-widget.tzy-right-widget\n    #flip-wrapper\n      #flip-content\n        .face\n        .back.face\n\n在[BlogRoot]/theme/hexo-theme-butterfly/layout/includes/widget/index.pug中引入上一步中创建的card_wx.pug文件。内容如下（版本不同略有差异）\n#aside-content.aside-content\n  &#x2F;&#x2F;- post\n  if is_post()\n    - const tocStyle &#x3D; page.toc_style_simple\n    - const tocStyleVal &#x3D; tocStyle &#x3D;&#x3D;&#x3D; true || tocStyle &#x3D;&#x3D;&#x3D; false ? tocStyle : theme.toc.style_simple\n    if showToc &amp;&amp; tocStyleVal\n      .sticky_layout\n        include .&#x2F;card_post_toc.pug\n    else\n      !&#x3D;partial(&#39;includes&#x2F;widget&#x2F;card_author&#39;, &#123;&#125;, &#123;cache: true&#125;)\n+     !&#x3D;partial(&#39;includes&#x2F;widget&#x2F;card_wx&#39;, &#123;&#125;, &#123;cache: true&#125;)\n      !&#x3D;partial(&#39;includes&#x2F;widget&#x2F;card_announcement&#39;, &#123;&#125;, &#123;cache: true&#125;)\n      !&#x3D;partial(&#39;includes&#x2F;widget&#x2F;card_top_self&#39;, &#123;&#125;, &#123;cache: true&#125;)\n      .sticky_layout\n        if showToc\n          include .&#x2F;card_post_toc.pug\n        !&#x3D;partial(&#39;includes&#x2F;widget&#x2F;card_recent_post&#39;, &#123;&#125;, &#123;cache: true&#125;)\n        !&#x3D;partial(&#39;includes&#x2F;widget&#x2F;card_ad&#39;, &#123;&#125;, &#123;cache: true&#125;)\n  else\n    &#x2F;&#x2F;- page\n    !&#x3D;partial(&#39;includes&#x2F;widget&#x2F;card_author&#39;, &#123;&#125;, &#123;cache: true&#125;)\n+   !&#x3D;partial(&#39;includes&#x2F;widget&#x2F;card_wx&#39;, &#123;&#125;, &#123;cache: true&#125;)\n    !&#x3D;partial(&#39;includes&#x2F;widget&#x2F;card_announcement&#39;, &#123;&#125;, &#123;cache: true&#125;)\n    !&#x3D;partial(&#39;includes&#x2F;widget&#x2F;card_top_self&#39;, &#123;&#125;, &#123;cache: true&#125;)      \n\n    .sticky_layout\n      if showToc\n        include .&#x2F;card_post_toc.pug\n      !&#x3D;partial(&#39;includes&#x2F;widget&#x2F;card_recent_post&#39;, &#123;&#125;, &#123;cache: true&#125;)\n      !&#x3D;partial(&#39;includes&#x2F;widget&#x2F;card_ad&#39;, &#123;&#125;, &#123;cache: true&#125;)\n      !&#x3D;partial(&#39;includes&#x2F;widget&#x2F;card_newest_comment&#39;, &#123;&#125;, &#123;cache: true&#125;)\n      !&#x3D;partial(&#39;includes&#x2F;widget&#x2F;card_categories&#39;, &#123;&#125;, &#123;cache: true&#125;)\n      !&#x3D;partial(&#39;includes&#x2F;widget&#x2F;card_tags&#39;, &#123;&#125;, &#123;cache: true&#125;)\n      !&#x3D;partial(&#39;includes&#x2F;widget&#x2F;card_archives&#39;, &#123;&#125;, &#123;cache: true&#125;)\n      !&#x3D;partial(&#39;includes&#x2F;widget&#x2F;card_webinfo&#39;, &#123;&#125;, &#123;cache: true&#125;)\n      !&#x3D;partial(&#39;includes&#x2F;widget&#x2F;card_bottom_self&#39;, &#123;&#125;, &#123;cache: true&#125;)\n\n将以下代码复制到自定义的custom.css中&#x2F;* 公众号 Start *&#x2F;\n\n[data-theme&#x3D;&#39;light&#39;] #aside-content .card-widget#card-wechat &#123;\n    background: #49b1f5 !important;\n&#125;\n\n#aside-content .card-widget#card-wechat &#123;\n    background: var(--card-bg);\n    display: flex;\n    justify-content: center;\n    align-content: center;\n    padding: 0;\n    cursor: pointer !important;\n    border: none;\n    height: 110px;\n&#125;\n\n&#x2F;* 如果你设置了aside 的 mobile 为 false，记得放开下面这段注释；\n   如果你设置了aside 的 mobile 为 true ，不需要改动。 *&#x2F;\n\n&#x2F;* @media screen and (max-width: 768px) &#123;\n    #aside-content .card-widget#card-wechat &#123;\n        display: none !important;\n    &#125;\n&#125; *&#x2F;\n\n@media screen and (min-width: 1300px) &#123;\n    #aside-content .card-widget &#123;\n        margin-top: 1rem;\n    &#125;\n&#125;\n\n#flip-wrapper &#123;\n    -webkit-perspective: 1000;\n    perspective: 1000;\n    position: relative;\n    width: 235px;\n    height: 110px;\n    z-index: 1;\n&#125;\n\n#flip-wrapper:hover #flip-content &#123;\n    -webkit-transform: rotateY(180deg);\n    transform: rotateY(180deg);\n&#125;\n\n#flip-content &#123;\n    width: 100%;\n    height: 100%;\n    -webkit-transform-style: preserve-3d;\n    transform-style: preserve-3d;\n    transition: cubic-bezier(0, 0, 0, 1.29) 0.3s;\n&#125;\n\n.face &#123;\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  -webkit-backface-visibility: hidden;\n  backface-visibility: hidden;\n  background: url(https:&#x2F;&#x2F;www.z4a.net&#x2F;images&#x2F;2023&#x2F;01&#x2F;13&#x2F;image0c4379e7edb7da89.png) center center no-repeat;\n  background-size: 100%;\n&#125;\n\n.back.face &#123;\n  display: block;\n  -webkit-transform: rotateY(180deg);\n  transform: rotateY(180deg);\n  box-sizing: border-box;\n  background: url(https:&#x2F;&#x2F;www.z4a.net&#x2F;images&#x2F;2023&#x2F;01&#x2F;13&#x2F;image4ab683c31c24467f.png) center center no-repeat;\n  background-size: 100%;\n&#125;\n\n&#x2F;* 公众号 End *&#x2F;\n\n\n\n\n\n\n\n\n\n\n此段css中，你需要将background: #49b1f5 !important中的#49b1f5换成你自己的主题色，另外还需要将 https://bu.dusays.com/2022/10/30/635e9c6a228a3.png 这个图片中的二维码部分换成你自己公众号的二维码\n生效运行hexo cl &amp;&amp; hexo g &amp;&amp; hexo s即可看到效果\n","slug":"为博客添加heo同款侧边栏公众号","date":"2023-01-13T11:21:25.000Z","categories_index":"魔改","tags_index":"hexo,butterfly,教程,侧边栏,HEO同款","author_index":"丐帮GB"},{"id":"482afdb4fb301a0d678d6cd724456774","title":"如何为博客添加HEO同款中控台","content":"碎碎念在开始前，请先确保你已看此Hexo魔改系列前置教程，或者你是老司机\nHexo\n\n前言今天我们复刻一下heo的中控台，在此感谢noionion提供的heo源码，样式和js是我从heo那里扒来的\n引入console.pug#console\n  .close-btn(onclick&#x3D;&#39;heo.hideConsole()&#39;,href&#x3D;&quot;javascript:void(0);&quot;)\n    i.fas.fa-circle-xmark\n  .console-card-group\n    .console-card-group-left\n      .console-card#card-newest-comments(onclick&#x3D;&#39;heo.hideConsole()&#39;)\n        .card-content\n            .author-content-item-tips 互动\n            span.author-content-item-title 最近评论\n        .aside-list\n          span&#x3D; _p(&#39;aside.card_newest_comments.loading_text&#39;)\n    .console-card-group-right\n      .console-card.tags(onclick&#x3D;&#39;heo.hideConsole()&#39;)\n        - let tagLimit &#x3D; theme.aside.card_tags.limit &#x3D;&#x3D;&#x3D; 0 ? 0 : theme.aside.card_tags.limit || 40\n        .card-content\n            .author-content-item-tips 标签\n            span.author-content-item-title 寻找感兴趣的领域\n        .card-tag-cloud!&#x3D; tagcloud(&#123;min_font: 1, max_font: 1, amount: tagLimit , color: true, start_color: &#39;#D3D3D3&#39;, end_color: &#39;#D3D3D3&#39;, unit: &#39;em&#39;&#125;)\n      .console-card.history(onclick&#x3D;&#39;heo.hideConsole()&#39;) \n        if theme.aside.card_archives.enable\n          - let type &#x3D; theme.aside.card_archives.type || &#39;monthly&#39;\n          - let format &#x3D; theme.aside.card_archives.format || &#39;MMMM YYYY&#39;\n          - let order &#x3D; theme.aside.card_archives.order || -1\n          - let limit &#x3D; theme.aside.card_archives.limit &#x3D;&#x3D;&#x3D; 0 ? 0 : theme.aside.card_archives.limit || 8\n          !&#x3D; aside_archives(&#123; type:type, format: format, order: order, limit: limit &#125;)  \n  .button-group\n    .console-btn-item \n      a.darkmode_switchbutton(onclick&#x3D;&#39;rm.switchDarkMode()&#39;,title&#x3D;&#39;显示模式切换&#39;,href&#x3D;&quot;javascript:void(0);&quot;)\n        i.fas.fa-moon(style&#x3D;&#39;font-size: 1rem;&#39;)\n    #consoleHideAside.console-btn-item(onclick&#x3D;&#39;heo.hideAsideBtn()&#39;,title&#x3D;&#39;边栏显示控制&#39;)\n      a.asideSwitch\n        i.fas.fa-arrows-alt-h\n    #consoleKeyboard.console-btn-item(onclick&#x3D;&#39;heo.keyboardToggle()&#39;,title&#x3D;&#39;快捷键开关&#39;)\n      a.keyboard-switch\n        i.fas.fa-keyboard\n    #assist-open.console-btn-item(onclick&#x3D;&#39;heo.hideConsole()&#39;,title&#x3D;&#39;无障碍工具栏&#39;)\n      a.assist-btn\n        i.fas.fa-wheelchair\n    #consoleCommentBarrage.console-btn-item(onclick&#x3D;&#39;heo.switchCommentBarrage()&#39;,title&#x3D;&#39;热评开关&#39;)\n      a.commentBarrage\n        i.fa-solid.fa-message\n    #consoleMusic.console-btn-item(onclick&#x3D;&#39;heo.musicToggle()&#39;,title&#x3D;&#39;音乐开关&#39;)\n      a.music-switch\n        i.fas.fa-music\n  .console-mask(onclick&#x3D;&#39;heo.hideConsole()&#39;,href&#x3D;&quot;javascript:void(0);&quot;)\n\n引入css&#x2F;* 中控台 *&#x2F;\n#console &#123;\n  display: flex;\n  position: fixed;\n  width: 100vw;\n  height: 100vh;\n  top: 0;\n  left: 0;\n  z-index: 9999;\n  justify-content: center;\n  opacity: 0;\n  transition: 0.3s ease-out;\n  flex-direction: column;\n  align-items: center;\n  pointer-events: none;\n&#125;\n\n#console.show &#123;\n  opacity: 1;\n  pointer-events: all;\n&#125;\n\n#console .console-card-group &#123;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin: 0 30px;\n  max-width: 2000px;\n  transform: translateY(20px);\n  transition: 0.3s;\n  opacity: 0;\n&#125;\n\n#console.show .console-card-group &#123;\n  transform: translateY(0px);\n  opacity: 1;\n  transition-delay: 0.1s;\n&#125;\n\n\n#console .console-card-group-left &#123;\n  margin-right: 0.5rem;\n  width: 40%;\n  height: 100%;\n&#125;\n\n#console .console-card-group-right &#123;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  height: 100%;\n  width: 60%;\n  overflow: hidden;\n&#125;\n\n@media screen and (max-width: 1300px) &#123;\n  #console .console-card-group &#123;\n    justify-content: center;\n  &#125;\n\n  #console .console-card-group-left &#123;\n    display: none;\n  &#125;\n\n  #console .console-card-group-right &#123;\n    width: 100%;\n    margin: 0;\n  &#125;\n\n  #consoleMusic &#123;\n    display: none;\n  &#125;\n\n  #consoleCommentBarrage &#123;\n    display: none;\n  &#125;\n&#125;\n\n@media screen and (max-width: 768px) &#123;\n  #console .console-card-group &#123;\n    display: none;\n  &#125;\n\n  #consoleHideAside &#123;\n    display: none;\n  &#125;\n&#125;\n\n@media screen and (max-height: 800px) &#123;\n  #console .console-card-group&#123;\n    display: none;\n  &#125;\n\n  #consoleMusic &#123;\n    display: none;\n  &#125;\n\n  #consoleCommentBarrage &#123;\n    display: none;\n  &#125;\n&#125;\n\n#console .console-card &#123;\n  background: var(--card-bg);\n  border-radius: 12px;\n  overflow: hidden;\n  border: var(--style-border);\n  box-shadow: var(--heo-shadow-border);\n  padding: 40px;\n&#125;\n\n#console .console-card.tags &#123;\n  height: calc(100% - 172px);\n&#125;\n\n\n#console .console-mask &#123;\n  background: var(--heo-maskbgdeep);\n  backdrop-filter: saturate(100%) blur(0px);\n  -webkit-backdrop-filter: blur(0px);\n  width: 100vw;\n  height: 100vh;\n  top: 0;\n  left: 0;\n  position: absolute;\n  z-index: -1;\n  transition: 0.3s;\n  -webkit-backface-visibility: hidden;\n  -webkit-transform-style: preserve-3d;\n&#125;\n\n#console.show .console-mask &#123;\n  backdrop-filter: saturate(180%) blur(20px);\n  -webkit-backdrop-filter: blur(20px);\n&#125;\n\n#card-newest-comments .aside-list-item .thumbnail img &#123;\n  width: 20px;\n  height: 20px;\n  margin-right: 8px;\n  border-radius: 20px;\n&#125;\n\n#card-newest-comments .aside-list-item &#123;\n  background: var(--heo-secondbg);\n  border-radius: 12px;\n  border: var(--style-border);\n  padding: 12px 16px;\n  width: 49%;\n  display: flex;\n  flex-direction: column;\n  height: 150px;\n&#125;\n\n#card-newest-comments .aside-list-item:not(:last-child) &#123;\n  margin-bottom: 0.5rem;\n&#125;\n\n#card-newest-comments .aside-list-item .name &#123;\n  text-overflow:ellipsis;\n  overflow:hidden;\n  white-space:nowrap;\n&#125;\n\n#console .author-content-item-tips &#123;\n  opacity: .8;\n  font-size: .6rem;\n  margin-bottom: .5rem;\n&#125;\n\n#console .author-content-item-title &#123;\n  font-size: 36px;\n  font-weight: 700;\n  line-height: 1;\n&#125;\n\n#console .aside-list-item .thumbnail &#123;\n  display: flex;\n  align-items: center;\n  width: fit-content;\n&#125;\n\n#console .aside-list-item .content &#123;\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n  margin-top: 0.5rem;\n&#125;\n\n#console .aside-list-item .content .comment &#123;\n  -webkit-line-clamp: 2;\n  display: -webkit-box;\n  overflow: hidden;\n  -webkit-box-orient: vertical;\n  line-height: 24px;\n  width: fit-content;\n&#125;\n\n#console .aside-list-item .content time &#123;\n  font-size: 12px;\n  color: var(--heo-secondtext);\n  margin-top: auto;\n&#125;\n\n#console .aside-list &#123;\n  display: flex;\n  flex-wrap: wrap;\n  flex-direction: row;\n  justify-content: space-between;\n  margin-top: 1.5rem;\n&#125;\n\n#console .button-group &#123;\n  display: flex;\n  margin: 1rem auto 0 auto;\n  justify-content: center;\n  width: fit-content;\n&#125;\n\n#console .button-group .console-btn-item &#123;\n  width: 60px;\n  height: 60px;\n  transition: 0.3s;\n  cursor: pointer;\n&#125;\n\n#console .button-group .console-btn-item:not(:last-child) &#123;\n  margin-right: 0.5rem;\n&#125;\n\n#console .button-group .console-btn-item:hover a &#123;\n  background: var(--heo-main);\n&#125;\n\n#console .button-group .console-btn-item a &#123;\n  width: 100%;\n  height: 100%;\n  background: var(--card-bg);\n  border: var(--style-border);\n  border-radius: 60px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  color: var(--font-color);\n&#125;\n\n#console .button-group .console-btn-item.on a &#123;\n  background: var(--heo-orange);\n  color: var(--heo-white);\n  transition: 0.3s;\n&#125;\n\n#console .button-group .console-btn-item a:hover &#123;\n  background: var(--heo-main)!important;\n&#125;\n\n#console .button-group .console-btn-item:hover a &#123;\n  color: var(--heo-white);\n&#125;\n\n.console-card.tags .card-tag-cloud &#123;\n  margin-top: 1.5rem;\n  display: flex;\n  flex-wrap: wrap;\n&#125;\n\n.console-card.tags .card-tag-cloud a &#123;\n  color: var(--font-color)!important;\n  margin: 6px 4px;\n  padding: 2px 8px;\n  border-radius: 8px;\n  background: var(--heo-secondbg);\n  border: var(--style-border);\n  font-size: 14px!important;\n  font-weight: bold;\n&#125;\n\n.console-card.tags .card-tag-cloud a:hover &#123;\n  background: var(--heo-main);\n  color: var(--heo-white)!important;\n&#125;\n\n.console-card.tags .card-tag-cloud a sup &#123;\n  opacity: 0.6;\n&#125;\n\n#console .close-btn &#123;\n  width: 35px;\n  height: 35px;\n  position: fixed;\n  right: 100px;\n  top: 50px;\n  font-size: 35px;\n  color: var(--font-color);\n  cursor: pointer;\n  transition: 0.3s;\n  display: flex;\n&#125;\n\n#console .close-btn:hover &#123;\n  color: var(--heo-hovertext);\n&#125;\n\n#console .console-card.history &#123;\n  margin-top: 8px;\n  padding: 0;\n  background: none;\n  box-shadow: none;\n  border: none;\n  overflow: hidden;\n&#125;\n\n#console .console-card.history .item-headline &#123;\n  display: none;\n&#125;\n\n#console .console-card.history .card-archive-list &#123;\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  flex-wrap: wrap;\n&#125;\n\n#console .console-card.history .card-archive-list li.card-archive-list-item &#123;\n  flex: 0 0 24%;\n&#125;\n\n#console .console-card.history .card-archive-list .card-archive-list-link &#123;\n  border-radius: 8px;\n  margin: 4px 0;\n  display: flex;\n  flex-direction: column;\n  align-content: space-between;\n  border: var(--style-border);\n  background: var(--card-bg);\n  padding: 8px 16px;\n&#125;\n\n#console .console-card.history .card-archive-list .card-archive-list-link:hover &#123;\n  background: var(--heo-main);\n  color: var(--heo-white);\n&#125;\n\n#console #card-newest-comments &#123;\n  height: 100%;\n&#125;\n\n#console .button-group i &#123;\n  font-size: 1rem;\n&#125;\n\n引入jslet heo_cookiesTime &#x3D; null;\nlet heo_musicPlaying &#x3D; false;\nlet heo_keyboard &#x3D; false;\nlet heo_intype &#x3D; false;\n&#x2F;&#x2F; 私有函数\nvar heo &#x3D; &#123;\n  &#x2F;&#x2F; 检测显示模式\n  darkModeStatus: function () &#123;\n    let theme &#x3D; document.documentElement.getAttribute(&#39;data-theme&#39;) &#x3D;&#x3D;&#x3D; &#39;dark&#39; ? &#39;dark&#39; : &#39;light&#39;\n    if (theme &#x3D;&#x3D; &#39;light&#39;) &#123;\n      $(&quot;.menu-darkmode-text&quot;).text(&quot;深色模式&quot;);\n    &#125;else &#123;\n      $(&quot;.menu-darkmode-text&quot;).text(&quot;浅色模式&quot;);\n    &#125;\n  &#125;,\n\n  &#x2F;&#x2F;bb添加时间\n  changeTimeInEssay: function() &#123;\n    const relativeDate &#x3D; function (selector) &#123;\n      selector.forEach(item &#x3D;&gt; &#123;\n        const $this &#x3D; item\n        const timeVal &#x3D; $this.getAttribute(&#39;datetime&#39;)\n        $this.innerText &#x3D; btf.diffDate(timeVal, true)\n        $this.style.display &#x3D; &#39;inline&#39;\n      &#125;)\n    &#125;\n\n    if (document.querySelector(&#39;#bber&#39;)) &#123;\n      relativeDate(document.querySelectorAll(&#39;#bber time&#39;))\n    &#125;\n  &#125;,\n\n  &#x2F;&#x2F; 首页bb\n  initIndexEssay: function() &#123;\n    if (document.querySelector(&#39;#bber-talk&#39;)) &#123;\n      var swiper &#x3D; new Swiper(&#39;.swiper-container&#39;, &#123;\n        direction: &#39;vertical&#39;, &#x2F;&#x2F; 垂直切换选项\n        loop: true,\n        autoplay: &#123;\n        delay: 3000,\n        pauseOnMouseEnter: true\n      &#125;,\n      &#125;);\n    &#125;\n  &#125;,\n\n\n  &#x2F;&#x2F; 只在首页显示\n  onlyHome: function() &#123;\n    var urlinfo &#x3D; window.location.pathname;\n    urlinfo &#x3D; decodeURIComponent(urlinfo);\n    if (urlinfo &#x3D;&#x3D; &#39;&#x2F;&#39;)&#123;\n      $(&#39;.only-home&#39;).attr(&#39;style&#39;,&#39;display: flex&#39;);\n    &#125;else&#123;\n      $(&#39;.only-home&#39;).attr(&#39;style&#39;,&#39;display: none&#39;);\n    &#125;\n  &#125;,\n\n  &#x2F;&#x2F;是否在首页\n  is_Post: function() &#123;\n    var url&#x3D;window.location.href;  &#x2F;&#x2F;获取url\n  if(url.indexOf(&quot;&#x2F;p&#x2F;&quot;) &gt;&#x3D; 0 ) &#123; &#x2F;&#x2F;判断url地址中是否包含code字符串\n      return true;\n    &#125;else &#123;\n      return false;\n     &#125;\n  &#125;,\n\n\n  &#x2F;&#x2F;监测是否在页面开头\n  addNavBackgroundInit: function() &#123;\n    var scrollTop &#x3D; 0, bodyScrollTop &#x3D; 0, documentScrollTop &#x3D; 0;\n      if(document.body)&#123;\n        bodyScrollTop &#x3D; document.body.scrollTop;\n      &#125;\n      if(document.documentElement)&#123;\n        documentScrollTop &#x3D; document.documentElement.scrollTop;\n      &#125;\n      scrollTop &#x3D; (bodyScrollTop - documentScrollTop &gt; 0) ? bodyScrollTop : documentScrollTop;\n      &#x2F;&#x2F; console.log(&quot;滚动高度&quot;+ scrollTop)\n    \n      if (scrollTop !&#x3D; 0) &#123;\n        document.getElementById(&quot;page-header&quot;).classList.add(&quot;nav-fixed&quot;);\n        document.getElementById(&quot;page-header&quot;).classList.add(&quot;nav-visible&quot;);\n        $(&#39;#cookies-window&#39;).hide()\n        console.log(&quot;已添加class&quot;)\n      &#125;\n  &#125;,\n\n  &#x2F;&#x2F; 标签页面\n  &#x2F;&#x2F;分类条\n  tagPageActive: function() &#123;\n    var urlinfo &#x3D; window.location.pathname;\n    urlinfo &#x3D; decodeURIComponent(urlinfo)\n    &#x2F;&#x2F; console.log(urlinfo);\n    &#x2F;&#x2F; 验证是否是分类链接\n    var pattern &#x3D; &#x2F;\\&#x2F;tags\\&#x2F;.*?\\&#x2F;&#x2F;;\n    var patbool &#x3D; pattern.test(urlinfo);\n    &#x2F;&#x2F; console.log(patbool);\n    &#x2F;&#x2F; 获取当前的分类\n    if (patbool) &#123;\n      var valuegroup &#x3D; urlinfo.split(&quot;&#x2F;&quot;);\n      &#x2F;&#x2F; console.log(valuegroup[2]);\n      &#x2F;&#x2F; 获取当前分类\n      var nowCategorie &#x3D; valuegroup[2];\n      if (document.querySelector(&#39;#tag-page-tags&#39;))&#123;\n        $(&#39;a&#39;).removeClass(&#39;select&#39;)\n        document.getElementById(nowCategorie).classList.add(&quot;select&quot;);\n      &#125;\n    &#125;\n  &#125;,\n\n  &#x2F;&#x2F;分类条\n  categoriesBarActive: function() &#123;\n    if (document.querySelector(&#39;#category-bar&#39;))&#123;\n      $(&quot;.category-bar-item&quot;).removeClass(&quot;select&quot;)\n    &#125;\n    var urlinfo &#x3D; window.location.pathname;\n    urlinfo &#x3D; decodeURIComponent(urlinfo);\n    &#x2F;&#x2F; console.log(urlinfo);\n    &#x2F;&#x2F;判断是否是首页\n    if (urlinfo &#x3D;&#x3D; &#39;&#x2F;&#39;)&#123;\n      if (document.querySelector(&#39;#category-bar&#39;))&#123;\n        document.getElementById(&#39;category-bar-home&#39;).classList.add(&quot;select&quot;);\n      &#125;\n    &#125;else &#123;\n      &#x2F;&#x2F; 验证是否是分类链接\n      var pattern &#x3D; &#x2F;\\&#x2F;categories\\&#x2F;.*?\\&#x2F;&#x2F;;\n      var patbool &#x3D; pattern.test(urlinfo);\n      &#x2F;&#x2F; console.log(patbool);\n      &#x2F;&#x2F; 获取当前的分类\n      if (patbool) &#123;\n        var valuegroup &#x3D; urlinfo.split(&quot;&#x2F;&quot;);\n        &#x2F;&#x2F; console.log(valuegroup[2]);\n        &#x2F;&#x2F; 获取当前分类\n        var nowCategorie &#x3D; valuegroup[2];\n        if (document.querySelector(&#39;#category-bar&#39;))&#123;\n          document.getElementById(nowCategorie).classList.add(&quot;select&quot;);\n        &#125;\n      &#125;\n    &#125;\n  &#125;,\n\n  &#x2F;&#x2F; 页脚友链\n  addFriendLinksInFooter: function() &#123;\n    var fetchUrl &#x3D; &quot;https:&#x2F;&#x2F;moments.zhheo.com&#x2F;randomfriend?num&#x3D;3&quot;\n    fetch(fetchUrl)\n    .then(res &#x3D;&gt; res.json())\n    .then(json &#x3D;&gt;&#123;\n      var randomFriendLinks &#x3D; getArrayItems(json,3);\n  \n      var htmlText &#x3D; &#39;&#39;;\n      for (let i &#x3D; 0; i &lt; randomFriendLinks.length; ++i) &#123;\n        var item &#x3D; randomFriendLinks[i]\n        htmlText +&#x3D; &#96;&lt;a class&#x3D;&#39;footer-item&#39; href&#x3D;&#39;$&#123;item.link&#125;&#39;  target&#x3D;&quot;_blank&quot; rel&#x3D;&quot;noopener nofollow&quot;&gt;$&#123;item.name&#125;&lt;&#x2F;a&gt;&#96;;\n      &#125;\n      htmlText +&#x3D; &#96;&lt;a class&#x3D;&#39;footer-item&#39; href&#x3D;&#39;&#x2F;link&#x2F;&#39;&gt;更多&lt;&#x2F;a&gt;&#96;\n      document.getElementById(&quot;friend-links-in-footer&quot;).innerHTML &#x3D; htmlText;\n    &#125;)\n  &#125;,\n\n  &#x2F;&#x2F;禁止图片右键单击\n  stopImgRightDrag: function() &#123;\n    var img&#x3D;$(&quot;img&quot;);\n    img.on(&quot;dragstart&quot;,function()&#123;return false;&#125;);\n  &#125;,\n\n  &#x2F;&#x2F;置顶文章横向滚动\n  topPostScroll: function() &#123;\n    if (document.getElementById(&quot;recent-post-top&quot;))&#123;\n      let xscroll &#x3D; document.getElementById(&quot;recent-post-top&quot;);\n      xscroll.addEventListener(&quot;mousewheel&quot;, function (e) &#123;\n      &#x2F;&#x2F;计算鼠标滚轮滚动的距离\n      let v &#x3D; -e.wheelDelta &#x2F; 2;\n      xscroll.scrollLeft +&#x3D; v;\n      &#x2F;&#x2F;阻止浏览器默认方法\n      if(document.body.clientWidth &lt; 1300)&#123;\n        e.preventDefault();\n      &#125;\n      &#125;, false);\n    &#125;\n  &#125;,\n\n  topCategoriesBarScroll: function() &#123;\n    if (document.getElementById(&quot;category-bar-items&quot;))&#123;\n        let xscroll &#x3D; document.getElementById(&quot;category-bar-items&quot;);\n        xscroll.addEventListener(&quot;mousewheel&quot;, function (e) &#123;\n        &#x2F;&#x2F;计算鼠标滚轮滚动的距离\n        let v &#x3D; -e.wheelDelta &#x2F; 2;\n        xscroll.scrollLeft +&#x3D; v;\n        &#x2F;&#x2F;阻止浏览器默认方法\n        e.preventDefault();\n      &#125;, false);\n    &#125;\n  &#125;,\n\n  &#x2F;&#x2F;作者卡片问好\n  sayhi: function() &#123;\n    if (document.querySelector(&#39;#author-info__sayhi&#39;))&#123;\n      document.getElementById(&quot;author-info__sayhi&quot;).innerHTML &#x3D; getTimeState() + &quot;！我是&quot;;\n    &#125;\n  &#125;,\n\n  &#x2F;&#x2F; 添加标签\n  addTag: function() &#123;\n    &#x2F;&#x2F;添加new标签\n    if (document.querySelector(&#39;.heo-tag-new&#39;))&#123;\n      $(&quot;.heo-tag-new&quot;).append(&#96;&lt;sup class&#x3D;&quot;heo-tag heo-tag-new-view&quot;&gt;N&lt;&#x2F;sup&gt;&#96;)\n    &#125;\n    &#x2F;&#x2F;添加hot标签\n    if (document.querySelector(&#39;.heo-tag-hot&#39;))&#123;\n      $(&quot;.heo-tag-hot&quot;).append(&#96;&lt;sup class&#x3D;&quot;heo-tag heo-tag-hot-view&quot;&gt;H&lt;&#x2F;sup&gt;&#96;)\n    &#125;\n  &#125;,\n\n  &#x2F;&#x2F; 二维码\n  qrcodeCreate: function() &#123;\n    if (document.getElementById(&#39;qrcode&#39;))&#123;\n      document.getElementById(&quot;qrcode&quot;).innerHTML &#x3D; &quot;&quot;;\n      var qrcode &#x3D; new QRCode(document.getElementById(&quot;qrcode&quot;), &#123;\n        text: window.location.href,\n        width: 250,\n        height: 250,\n        colorDark : &quot;#000&quot;,\n        colorLight : &quot;#ffffff&quot;,\n        correctLevel : QRCode.CorrectLevel.H\n      &#125;);\n    &#125;\n  &#125;,\n\n  &#x2F;&#x2F; 刷新即刻短文瀑布流\n  reflashEssayWaterFall: function() &#123;\n    if (document.querySelector(&#39;#waterfall&#39;)) &#123;\n      setTimeout(function()&#123;\n          waterfall(&#39;#waterfall&#39;);\n          document.getElementById(&quot;waterfall&quot;).classList.add(&#39;show&#39;); \n      &#125;,500);\n    &#125;\n  &#125;,\n\n  &#x2F;&#x2F; 即刻短文添加灯箱\n  addMediumInEssay: function() &#123;\n    if (document.querySelector(&#39;#waterfall&#39;)) &#123;\n      mediumZoom(document.querySelectorAll(&#39;[data-zoomable]&#39;))\n    &#125;\n  &#125;,\n\n  &#x2F;&#x2F; 下载图片\n  downloadImage: function(imgsrc, name) &#123; &#x2F;&#x2F;下载图片地址和图片名\n    rm.hideRightMenu();\n    if (rm.downloadimging &#x3D;&#x3D; false) &#123;\n      rm.downloadimging &#x3D; true;\n      btf.snackbarShow(&#39;正在下载中，请稍后&#39;,false,10000)\n      setTimeout(function()&#123;\n        let image &#x3D; new Image();\n        &#x2F;&#x2F; 解决跨域 Canvas 污染问题\n        image.setAttribute(&quot;crossOrigin&quot;, &quot;anonymous&quot;);\n        image.onload &#x3D; function() &#123;\n          let canvas &#x3D; document.createElement(&quot;canvas&quot;);\n          canvas.width &#x3D; image.width;\n          canvas.height &#x3D; image.height;\n          let context &#x3D; canvas.getContext(&quot;2d&quot;);\n          context.drawImage(image, 0, 0, image.width, image.height);\n          let url &#x3D; canvas.toDataURL(&quot;image&#x2F;png&quot;); &#x2F;&#x2F;得到图片的base64编码数据\n          let a &#x3D; document.createElement(&quot;a&quot;); &#x2F;&#x2F; 生成一个a元素\n          let event &#x3D; new MouseEvent(&quot;click&quot;); &#x2F;&#x2F; 创建一个单击事件\n          a.download &#x3D; name || &quot;photo&quot;; &#x2F;&#x2F; 设置图片名称\n          a.href &#x3D; url; &#x2F;&#x2F; 将生成的URL设置为a.href属性\n          a.dispatchEvent(event); &#x2F;&#x2F; 触发a的单击事件\n        &#125;;\n        image.src &#x3D; imgsrc;\n        btf.snackbarShow(&#39;图片已添加盲水印，请遵守版权协议&#39;);\n        rm.downloadimging &#x3D; false;\n      &#125;, &quot;10000&quot;);\n    &#125;else&#123;\n      btf.snackbarShow(&#39;有正在进行中的下载，请稍后再试&#39;);\n    &#125;\n  &#125;,\n\n  &#x2F;&#x2F;控制评论弹幕\n  switchCommentBarrage: function() &#123;\n    let commentBarrage &#x3D; document.querySelector(&#39;.comment-barrage&#39;);\n    if(commentBarrage)&#123;\n        if($(&quot;.comment-barrage&quot;).is(&quot;:visible&quot;)) &#123;\n          $(&quot;.comment-barrage&quot;).hide();\n          $(&quot;.menu-commentBarrage-text&quot;).text(&quot;显示热评&quot;);\n          document.querySelector(&quot;#consoleCommentBarrage&quot;).classList.remove(&quot;on&quot;);\n          localStorage.setItem(&#39;commentBarrageSwitch&#39;, &#39;false&#39;);\n        &#125;else if ($(&quot;.comment-barrage&quot;).is(&quot;:hidden&quot;)) &#123;\n          $(&quot;.comment-barrage&quot;).show();\n          $(&quot;.menu-commentBarrage-text&quot;).text(&quot;关闭热评&quot;);\n          document.querySelector(&quot;#consoleCommentBarrage&quot;).classList.add(&quot;on&quot;);\n          localStorage.removeItem(&#39;commentBarrageSwitch&#39;);\n        &#125;\n    &#125;\n    rm.hideRightMenu();\n  &#125;,\n\n  &#x2F;&#x2F;隐藏cookie窗口\n  hidecookie: function() &#123;\n    heo_cookiesTime &#x3D; setTimeout(()&#x3D;&gt;&#123;\n      document.getElementById(&quot;cookies-window&quot;).classList.add(&#39;cw-hide&#39;);\n      setTimeout(()&#x3D;&gt;&#123;\n        $(&#39;#cookies-window&#39;).hide()\n      &#125;,1000)\n    &#125;,3000)\n  &#125;,\n\n  &#x2F;&#x2F;隐藏今日推荐\n  hideTodayCard: function() &#123;\n    if (document.getElementById(&quot;todayCard&quot;)) &#123;\n      document.getElementById(&quot;todayCard&quot;).classList.add(&#39;hide&#39;);\n    &#125;\n  &#125;,\n\n  &#x2F;&#x2F;更改主题色\n  changeThemeColor: function(color) &#123;\n    if (document.querySelector(&#39;meta[name&#x3D;&quot;theme-color&quot;]&#39;) !&#x3D;&#x3D; null) &#123;\n      document.querySelector(&#39;meta[name&#x3D;&quot;theme-color&quot;]&#39;).setAttribute(&#39;content&#39;, color)\n    &#125;\n  &#125;,\n\n  &#x2F;&#x2F;自适应主题色\n  initThemeColor: function() &#123;\n    if (heo.is_Post()) &#123;\n      const currentTop &#x3D; window.scrollY || document.documentElement.scrollTop\n      if (currentTop &gt; 56) &#123;\n        let themeColor &#x3D; getComputedStyle(document.documentElement).getPropertyValue(&#39;--heo-background&#39;);\n        heo.changeThemeColor(themeColor);\n      &#125;else &#123;\n        if (currentTop &#x3D;&#x3D;&#x3D; 0) &#123;\n          let themeColor &#x3D; getComputedStyle(document.documentElement).getPropertyValue(&#39;--heo-main&#39;);\n          heo.changeThemeColor(themeColor);\n        &#125;\n      &#125;\n    &#125;else &#123;\n      let themeColor &#x3D; getComputedStyle(document.documentElement).getPropertyValue(&#39;--heo-background&#39;);\n      heo.changeThemeColor(themeColor);\n    &#125;\n  &#125;,\n\n  &#x2F;&#x2F;跳转到指定位置\n  jumpTo: function(dom) &#123;\n    $(document).ready(function () &#123;\n      $(&quot;html,body&quot;).animate(&#123;\n        scrollTop: $(dom).eq(i).offset().top\n      &#125;, 500 &#x2F;*scroll实现定位滚动*&#x2F; ); &#x2F;*让整个页面可以滚动*&#x2F;\n    &#125;);\n  &#125;,\n\n  &#x2F;&#x2F;显示加载动画\n  showLoading: function() &#123;\n    document.querySelector(&quot;#loading-box&quot;).classList.remove(&quot;loaded&quot;);\n    let cardColor &#x3D; getComputedStyle(document.documentElement).getPropertyValue(&#39;--heo-card-bg&#39;);\n    heo.changeThemeColor(cardColor);\n  &#125;,\n\n  &#x2F;&#x2F;隐藏加载动画\n  hideLoading: function() &#123;\n    document.querySelector(&quot;#loading-box&quot;).classList.add(&quot;loaded&quot;);\n  &#125;,\n\n  &#x2F;&#x2F;切换音乐播放状态\n  musicToggle: function() &#123;\n    let msgPlay &#x3D; &#39;&lt;i class&#x3D;&quot;fa-solid fa-play&quot;&gt;&lt;&#x2F;i&gt;&lt;span&gt;播放音乐&lt;&#x2F;span&gt;&#39; &#x2F;&#x2F; 此處可以更改為你想要顯示的文字\n    let msgPause &#x3D; &#39;&lt;i class&#x3D;&quot;fa-solid fa-pause&quot;&gt;&lt;&#x2F;i&gt;&lt;span&gt;暂停音乐&lt;&#x2F;span&gt;&#39; &#x2F;&#x2F; 同上，但兩處均不建議更改\n    if (heo_musicPlaying) &#123;\n      document.querySelector(&quot;#nav-music&quot;).classList.remove(&quot;playing&quot;);\n      document.getElementById(&quot;menu-music-toggle&quot;).innerHTML &#x3D; msgPlay;\n      document.getElementById(&quot;nav-music-hoverTips&quot;).innerHTML &#x3D; &quot;音乐已暂停&quot;;\n      document.querySelector(&quot;#consoleMusic&quot;).classList.remove(&quot;on&quot;);\n      heo_musicPlaying &#x3D; false;\n    &#125;else &#123;\n      document.querySelector(&quot;#nav-music&quot;).classList.add(&quot;playing&quot;);\n      document.getElementById(&quot;menu-music-toggle&quot;).innerHTML &#x3D; msgPause;\n      document.querySelector(&quot;#consoleMusic&quot;).classList.add(&quot;on&quot;);\n      heo_musicPlaying &#x3D; true;\n    &#125;\n    document.querySelector(&#39;meting-js&#39;).aplayer.toggle();\n    rm.hideRightMenu();\n  &#125;,\n\n  &#x2F;&#x2F;音乐上一曲\n  musicSkipBack: function() &#123;\n    document.querySelector(&#39;meting-js&#39;).aplayer.skipBack();\n    rm.hideRightMenu();\n  &#125;,\n\n  &#x2F;&#x2F;音乐下一曲\n  musicSkipForward: function() &#123;\n    document.querySelector(&#39;meting-js&#39;).aplayer.skipForward();\n    rm.hideRightMenu();\n  &#125;,\n\n  &#x2F;&#x2F;获取音乐中的名称\n  musicGetName: function() &#123;\n    var x &#x3D; $(&#39;.aplayer-title&#39;)\n\t\t&#x2F;&#x2F; var x &#x3D; document.getElementsByClassName(&#39;txt&#39;);\n\t\t&#x2F;&#x2F; for (var i &#x3D; x.length - 1; i &gt;&#x3D; 0; i--) &#123;\n\t\t&#x2F;&#x2F; console.log(x[i].innerText)\n\t\t&#x2F;&#x2F; &#125;\n\t\tvar arr &#x3D; []\n\t\tfor (var i &#x3D; x.length - 1; i &gt;&#x3D; 0; i--) &#123;\n\t\t\tarr[i] &#x3D; x[i].innerText\n\t\t\t&#x2F;&#x2F; console.log(x[i].innerText)\n\t\t&#125;\n\t\treturn arr[0]\n  &#125;,\n\n  &#x2F;&#x2F;显示中控台\n  showConsole: function() &#123;\n    document.querySelector(&quot;#console&quot;).classList.add(&quot;show&quot;);\n    heo.initConsoleState();\n  &#125;,\n\n  &#x2F;&#x2F;隐藏中控台\n  hideConsole: function() &#123;\n    document.querySelector(&quot;#console&quot;).classList.remove(&quot;show&quot;);\n  &#125;,\n\n  &#x2F;&#x2F;快捷键功能开关\n  keyboardToggle: function() &#123;\n    if (heo_keyboard) &#123;\n      heo_keyboard &#x3D; false;\n      document.querySelector(&quot;#consoleKeyboard&quot;).classList.remove(&quot;on&quot;);\n      localStorage.setItem(&#39;keyboardToggle&#39;, &#39;false&#39;);\n    &#125;else &#123;\n      heo_keyboard &#x3D; true;\n      document.querySelector(&quot;#consoleKeyboard&quot;).classList.add(&quot;on&quot;);\n      localStorage.setItem(&#39;keyboardToggle&#39;, &#39;true&#39;);\n    &#125;\n  &#125;,\n\n  &#x2F;&#x2F;滚动到指定id\n  scrollTo:function(id)&#123;\n    var domTop &#x3D; document.querySelector(id).offsetTop;\n    window.scrollTo(0,domTop - 80);\n  &#125;,\n\n  &#x2F;&#x2F;隐藏侧边栏\n  hideAsideBtn: () &#x3D;&gt; &#123; &#x2F;&#x2F; Hide aside\n    const $htmlDom &#x3D; document.documentElement.classList\n    $htmlDom.contains(&#39;hide-aside&#39;)\n      ? saveToLocal.set(&#39;aside-status&#39;, &#39;show&#39;, 2)\n      : saveToLocal.set(&#39;aside-status&#39;, &#39;hide&#39;, 2)\n    $htmlDom.toggle(&#39;hide-aside&#39;)\n    $htmlDom.contains(&#39;hide-aside&#39;)\n      ? document.querySelector(&quot;#consoleHideAside&quot;).classList.add(&quot;on&quot;)\n      : document.querySelector(&quot;#consoleHideAside&quot;).classList.remove(&quot;on&quot;)\n  &#125;,\n\n  &#x2F;&#x2F;初始化console图标\n  initConsoleState: function() &#123;\n    &#x2F;&#x2F;初始化隐藏边栏\n    const $htmlDom &#x3D; document.documentElement.classList\n    $htmlDom.contains(&#39;hide-aside&#39;)\n      ? document.querySelector(&quot;#consoleHideAside&quot;).classList.add(&quot;on&quot;)\n      : document.querySelector(&quot;#consoleHideAside&quot;).classList.remove(&quot;on&quot;)\n  &#125;,\n\n  &#x2F;&#x2F;删除多余的class\n  removeBodyPaceClass: function() &#123;\n    $(&#39;body&#39;).removeClass()\n    $(&#39;body&#39;).addClass(&#39;pace-done&#39;)\n  &#125;\n&#125;\n\n  &#x2F;&#x2F; 右键菜单添加点击事件\n  $(&#39;#menu-backward&#39;).on(&#39;click&#39;,function()&#123;window.history.back();rm.hideRightMenu();&#125;);\n  $(&#39;#menu-forward&#39;).on(&#39;click&#39;,function()&#123;window.history.forward();rm.hideRightMenu();&#125;);\n  $(&#39;#menu-refresh&#39;).on(&#39;click&#39;,function()&#123;window.location.reload();&#125;);\n  $(&#39;#menu-top&#39;).on(&#39;click&#39;,function()&#123;btf.scrollToDest(0, 500);rm.hideRightMenu();&#125;);\n  $(&#39;.menu-link&#39;).on(&#39;click&#39;,rm.hideRightMenu);\n\n  $(&quot;#menu-darkmode&quot;).prop(&quot;onclick&quot;,null).off(&quot;click&quot;);\n  $(&#39;#menu-darkmode&#39;).on(&#39;click&#39;,rm.switchDarkMode);\n\n  $(&#39;#menu-home&#39;).on(&#39;click&#39;,function()&#123;window.location.href &#x3D; window.location.origin;&#125;);\n  $(&#39;#menu-randomPost&#39;).on(&#39;click&#39;,function()&#123;toRandomPost()&#125;);\n\n  $(&quot;#menu-commentBarrage&quot;).prop(&quot;onclick&quot;,null).off(&quot;click&quot;);\n  $(&#39;#menu-commentBarrage&#39;).on(&#39;click&#39;,heo.switchCommentBarrage);\n\n  $(&#39;#rightmenu-mask&#39;).on(&#39;click&#39;,rm.hideRightMenu);\n  $(&#39;#rightmenu-mask&#39;).contextmenu(function()&#123;\n    rm.hideRightMenu();\n    return false;\n  &#125;);\n  $(&#39;#menu-translate&#39;).on(&#39;click&#39;,function()&#123;\n      rm.hideRightMenu();\n      translateInitialization();\n  &#125;);\n  $(&#39;#menu-copy&#39;).on(&#39;click&#39;, rm.copyPageUrl);\n  $(&#39;#menu-pastetext&#39;).on(&#39;click&#39;,rm.pasteText);\n  $(&#39;#menu-copytext&#39;).on(&#39;click&#39;,function()&#123;rm.rightmenuCopyText(selectTextNow);btf.snackbarShow(&#39;复制成功，复制和转载请标注本文地址&#39;);&#125;);\n  $(&#39;#menu-commenttext&#39;).on(&#39;click&#39;,function()&#123;rm.rightMenuCommentText(selectTextNow);&#125;);\n  $(&#39;#menu-newwindow&#39;).on(&#39;click&#39;,function()&#123;window.open(domhref);rm.hideRightMenu();&#125;);\n  $(&#39;#menu-copylink&#39;).on(&#39;click&#39;,rm.copyLink);\n  $(&#39;#menu-downloadimg&#39;).on(&#39;click&#39;,function()&#123;heo.downloadImage(domImgSrc,&#39;zhheo&#39;);&#125;);\n  $(&#39;#menu-copyimg&#39;).on(&#39;click&#39;,function()&#123;rm.writeClipImg(domImgSrc);&#125;);\n  $(&#39;#menu-searchBaidu&#39;).on(&#39;click&#39;,rm.searchBaidu);\n  &#x2F;&#x2F;音乐\n  $(&#39;#menu-music-toggle&#39;).on(&#39;click&#39;,heo.musicToggle);\n  $(&#39;#menu-music-back&#39;).on(&#39;click&#39;,heo.musicSkipBack);\n  $(&#39;#menu-music-forward&#39;).on(&#39;click&#39;,heo.musicSkipForward);\n  $(&#39;#menu-music-copyMusicName&#39;).on(&#39;click&#39;,function()&#123;rm.rightmenuCopyText(heo.musicGetName());btf.snackbarShow(&#39;复制歌曲名称成功&#39;,false,3000);&#125;);\n\n\n\n\n\n\n\n\n\n此为heo.js，我懒得筛选了，你们直接引入就行\n将pug注册if page.type !&#x3D;&#x3D; &#39;404&#39;\n      #body-wrap(class&#x3D;pageType)\n        include .&#x2F;header&#x2F;index.pug\n+       include .&#x2F;console.pug\n        if is_home()\n          include hometop.pug\n","slug":"如何为博客添加HEO同款中控台","date":"2023-01-10T13:30:44.000Z","categories_index":"魔改","tags_index":"hexo,butterfly,HEO同款,中控台","author_index":"丐帮GB"},{"id":"1ecd2569aa6126fc09a3919c3c228b8e","title":"如何为博客添加顶部轮播图和文章推荐卡片","content":"碎碎念在开始前，请先确保你已看此Hexo魔改系列前置教程，或者你是老司机\nHexo Butterfly博客魔改的一点点基础,GTC,&#x2F;posts&#x2F;583ff077&#x2F;\n\n前言最早接触hexo的时候就看到heo大佬的博客首页，发现大佬的布局还是那么的好看，于是果断COPY，又参考了Justlovesmile的文章…经过一番折腾，效果如下：\n创建首页顶部模块创建hometop.pug在themes/butterfly/layout/includes路径下创建hometop.pug文件：\n#home_top\n    include bbTimeList.pug\n    .home_top_group\n      #homeTopGroup.homeTopGroup\n        #banner_group\n          #banners\n            include sticky.pug \n          .category_group\n            .category_item\n              a.category_button(href&#x3D;&quot;&#x2F;archives&#x2F;&quot;,style&#x3D;&quot;background:linear-gradient(to right,#364f6b,#3fc1c9)&quot;)\n                span.category_button_text 时间轴\n                i.fas.fa-laptop-code\n            .category_item\n              a.category_button(href&#x3D;&quot;&#x2F;tags&#x2F;&quot;,style&#x3D;&quot;background:linear-gradient(to right,#6639a6,#3490de)&quot;)\n                span.category_button_text 标签\n                i.fas.fa-lightbulb\n            .category_item\n              a.category_button(href&#x3D;&quot;&#x2F;categories&#x2F;&quot;,style&#x3D;&quot;background:linear-gradient(to right,#f65,#ffbf37)&quot;)\n                span.category_button_text 分类\n                i.fas.fa-book\n        .top_post_group \n          if site.data.slider\n            each i in site.data.slider\n              .top_post_item\n                .post_cover\n                  a(href&#x3D;url_for(i.link) title&#x3D;i.title)\n                    img.post_bg.entered.loaded(src&#x3D;url_for(i.cover))\n                    .post_cover_info\n                      p.post_cover_text&#x3D; i.description\n\n                .post_info(onclick&#x3D;&#96;&quot;window.open(&#96;+url_for(i.link)+&#96;,&quot;_self&quot;)&quot;&#96;)\n                  a.article-title(href&#x3D;url_for(i.link) title&#x3D;i.title)&#x3D; i.title\n\n\n\n\n\n\n\n\n\n说明：include bbTimeList.pug 为首页BB，不需要的删掉\n添加css样式在自己的css文件中添加：\n:root&#123;\n    --mj-white: #fff;\n    --mj-card-bg: #fff;\n    --mj-theme: #425AEF;\n    --mj-main: #425AEF;\n    --mj-secondbg: #ededed;\n    --mj-card-border: #e3e8f7;\n    --style-border: 1px solid var(--mj-card-border);\n    --style-hover-border: 1px solid var(--mj-theme);\n&#125;\n&#x2F;* home top *&#x2F;\n#home_top &#123;\n    max-width: 1500px;\n    width: 100%;\n    margin-top: .5rem;\n    padding: 0 15px;\n    margin: 0 auto;\n&#125;\n.home_top_group &#123;\n    border-radius: 12px;\n    overflow: auto;\n    width: 100%;\n    margin-bottom: 0;\n&#125;\n.homeTopGroup &#123;\n    display: flex;\n    flex-direction: row;\n    flex-wrap: nowrap;\n    width: 100%;\n    margin-top: 1rem;\n    overflow: auto;\n    overflow-x: score;\n    border-radius: 12px;\n&#125;\n.homeTopGroup::-webkit-scrollbar &#123;\n    display: none;\n&#125;\n.homeTopGroup #banner_group &#123;display: flex;&#125;\ndiv#banners &#123;display: none;&#125;\n@media screen and (min-width: 1300px)&#123;\n  .homeTopGroup #banner_group &#123;\n    width: calc(100% - 600px - 1.5rem);\n    display: flex;\n    flex-direction: column;\n    justify-content: space-between;\n  &#125;\n  div#banners &#123;\n    display: flex;\n    width: 100%;\n    height: 100%;\n    background: var(--mj-main);\n    margin-bottom: .5rem;\n    margin-right: .5rem;\n    border: var(--style-border);\n    border-radius: 12px;\n    overflow: hidden;\n    position: relative;\n  &#125;\n  div#banners:hover&#123;\n    border: var(--style-hover-border);\n  &#125;\n  .homeTopGroup .category_group &#123;\n    flex-direction: row !important;\n  &#125;\n  .homeTopGroup .category_item &#123;\n    width: calc(100% &#x2F; 3 - .33rem);\n    height: 100% !important;\n    margin-right: .5rem;\n  &#125;\n  .homeTopGroup .category_item:nth-child(3) &#123;\n    margin-right: 0;\n    display: flex !important;\n  &#125;\n  #banner-page &#123;\n    width: 100%;\n    height: 100%;\n  &#125;\n  .top_post_group &#123;\n    display: flex;\n    flex-direction: row;\n    flex-wrap: wrap;\n    justify-content: flex-end;\n    height: calc(328px + .5rem);\n    align-content: space-between;\n    width: calc(600px + 1.5rem);\n  &#125;\n&#125;\n\n.homeTopGroup .category_group&#123;\n    display: flex;\n    flex-direction: column;\n    justify-content: space-between;\n    min-width: 200px;\n&#125;\n.homeTopGroup .category_item &#123;\n    overflow: hidden;\n    transform: scale(1);\n    transition: .3s;\n    height: 48%;\n    border-radius: 12px;\n&#125;\n.homeTopGroup .category_item:nth-child(3) &#123;\n    display: none;\n&#125;\n.homeTopGroup .category_item a.category_button &#123;\n    height: 100%;\n    width: 100%;\n    background: var(--mj-card-bg);\n    border-radius: 12px;\n    display: inline-block;\n    text-align: left;\n    line-height: 4em;\n    font-weight: 700;\n    font-size: .9rem;\n    color: var(--mj-white);\n    transition: all .4s cubic-bezier(.39,.575,.565,1);\n    transform: scale(1);\n    overflow: hidden;\n    font-family: PingFang SC,Hiragino Sans GB,Microsoft YaHei;\n&#125;\n.category_button_text &#123;\n    padding-left: 25px;\n&#125;\na.category_button i &#123;\n    font-size: 3rem;\n    opacity: .3;\n    position: absolute;\n    right: 15px;\n    top: 10%;\n    transition: .3s;\n    transform: rotate(-10deg);\n    &#x2F;*width: 100px;\n    text-align: center;*&#x2F;\n&#125;\na.category_button:hover i &#123;\n    opacity: .8;\n    transition: .8s;\n    transition-delay: .15s;\n    transform: scale(1.1)\n&#125;\na.category_button:hover:after&#123;\n    width: 3rem;\n    transition: .8s;\n&#125;\na.category_button:after &#123;\n    top: 40px;\n    width: 1rem;\n    left: 25px;\n    height: 2px;\n    background: var(--mj-white);\n    content: &quot;&quot;;\n    border-radius: 1px;\n    position: absolute;\n    transition: .8s;\n&#125;\n@media screen and (max-width: 768px)&#123;\n  #home_top&#123;\n    padding: 0 5px;\n  &#125;\n  .homeTopGroup .category_group &#123;\n    min-width: 130px!important;\n  &#125;\n  .top_post_group .top_post_item&#123;\n    border-radius: 0;\n  &#125;\n&#125;\n.top_post_group&#123;\n    display: flex;\n    position: relative;\n&#125;\n.top_post_group .top_post_item &#123;\n    display: flex;\n    width: 200px;\n    min-width: 200px;\n    height: 164px;\n    max-height: 164px;\n    flex-direction: column;\n    align-items: flex-start;\n    margin-left: .5rem;\n    background: var(--mj-card-bg);\n    border-radius: 12px;\n    overflow: hidden;\n    border: var(--style-border);\n&#125;\n.top_post_group .top_post_item:hover &#123;border: var(--style-hover-border);&#125;\n.top_post_group .top_post_item .post_cover &#123;\n    width: 100%;\n    height: 110px;\n    position: relative;\n&#125;\n.top_post_group .top_post_item .post_cover img &#123;\n    object-fit: cover;\n    width: 100%;\n    height: 110px;\n    background: var(--mj-secondbg);\n&#125;\n.top_post_group .top_post_item .post_cover .post_cover_info &#123;\n    position: absolute;\n    top: 0;\n    width: 101%;\n    height: 100%;\n    opacity: 0;\n    background-color: rgba(0,0,0,0.7) !important;\n    transition: all 0.3s ease;\n    display: flex;\n&#125; \n.top_post_group .top_post_item:hover .post_cover .post_cover_info&#123;\n    opacity: 1;\n&#125;\n.top_post_group .top_post_item .post_cover .post_cover_info .post_cover_text&#123;\n    color: #fff;\n    padding: 12px 14px;\n    font-size: 15px;\n    font-weight: 400;\n    margin: 20px 0;\n    -webkit-line-clamp: 2;\n    overflow: hidden;\n    display: -webkit-box;\n    -webkit-box-orient: vertical;\n&#125;\n.top_post_group .top_post_item:hover .post_info,\n.top_post_group .top_post_item:focus .post_info&#123;\n    &#x2F;*background: var(--mj-theme);*&#x2F;\n    box-shadow: inset 0 -60px 0 0 var(--mj-theme);\n&#125;\n.top_post_group .top_post_item .post_info a&#123;\n    color: var(--mj-fontcolor) !important;\n    transition: 0;\n&#125;\n.top_post_group .top_post_item:hover .post_info a&#123;\n    color: var(--mj-white) !important;\n&#125;\n.top_post_group .top_post_item .post_info &#123;\n    padding: .2rem .5rem .3rem .5rem!important;\n    transition: .3s;\n    width: 100%;\n    height: 100%;\n&#125;\n.top_post_group .top_post_item .post_info .article-title &#123;\n    -webkit-line-clamp: 2;\n    overflow: hidden;\n    display: -webkit-box;\n    -webkit-box-orient: vertical;\n    line-height: 1.4;\n    justify-content: center;\n    align-items: flex-end;\n    align-content: center;\n    font-weight: 600;\n    font-size: .8rem!important;\n    padding: 0!important;\n&#125;\n\n创建顶部轮播图创建sticky.pug\n\n\n\n\n\n\n\n\n此处为了适配pjax，删除了iframe，换为heo目前使用的！和Justlovesmile的完全不一样，以前魔改过他的需要删掉样式！在themes/butterfly/layout/includes路径下创建sticky.pug文件：\n#banners\n  .banners-title\n    .banners-title-big 分享设计\n    .banners-title-big 与科技生活\n    .banners-title-small GTC-BLOG\n  .tags-group-all\n    .tags-group-wrapper\n      .tags-group-icon-pair\n        .tags-group-icon(style&#x3D;&#39;background:#989bf8&#39;)\n          img(src&#x3D;&#39;https:&#x2F;&#x2F;img.zhheo.com&#x2F;i&#x2F;2022&#x2F;08&#x2F;22&#x2F;6302f0748a83b.png&#39; title&#x3D;&#39;AfterEffect&#39; onerror&#x3D;&quot;this.onerror&#x3D;null;this.src&#x3D;&#39;https:&#x2F;&#x2F;cdn.zhheo.com&#x2F;Guli&#x2F;others&#x2F;imgerror.png&#39;&quot;)\n        .tags-group-icon(style&#x3D;&#39;background:#ffffff&#39;)\n          img(src&#x3D;&#39;https:&#x2F;&#x2F;img.zhheo.com&#x2F;i&#x2F;2022&#x2F;08&#x2F;22&#x2F;63030a85d6458.png&#39; title&#x3D;&#39;Sketch&#39; onerror&#x3D;&quot;this.onerror&#x3D;null;this.src&#x3D;&#39;https:&#x2F;&#x2F;cdn.zhheo.com&#x2F;Guli&#x2F;others&#x2F;imgerror.png&#39;&quot;)\n      .tags-group-icon-pair\n        .tags-group-icon(style&#x3D;&#39;background:#57b6e6&#39;)\n          img.entered.loading(src&#x3D;&#39;https:&#x2F;&#x2F;img.zhheo.com&#x2F;i&#x2F;2022&#x2F;08&#x2F;22&#x2F;6303102c049d1.png&#39; title&#x3D;&#39;Docker&#39; onerror&#x3D;&quot;this.onerror&#x3D;null;this.src&#x3D;&#39;https:&#x2F;&#x2F;cdn.zhheo.com&#x2F;Guli&#x2F;others&#x2F;imgerror.png&#39;&quot; data-ll-status&#x3D;&#39;loading&#39;)\n        .tags-group-icon(style&#x3D;&#39;background:#4082c3&#39;)\n          img(src&#x3D;&#39;https:&#x2F;&#x2F;img.zhheo.com&#x2F;i&#x2F;2022&#x2F;08&#x2F;22&#x2F;63030fe730a69.png&#39; title&#x3D;&#39;Photoshop&#39; onerror&#x3D;&quot;this.onerror&#x3D;null;this.src&#x3D;&#39;https:&#x2F;&#x2F;cdn.zhheo.com&#x2F;Guli&#x2F;others&#x2F;imgerror.png&#39;&quot;)\n      .tags-group-icon-pair\n        .tags-group-icon(style&#x3D;&#39;background:#ffffff&#39;)\n          img.entered.loading(src&#x3D;&#39;https:&#x2F;&#x2F;img.zhheo.com&#x2F;i&#x2F;2022&#x2F;08&#x2F;22&#x2F;630310dea00f5.png&#39; title&#x3D;&#39;FinalCutPro&#39; onerror&#x3D;&quot;this.onerror&#x3D;null;this.src&#x3D;&#39;https:&#x2F;&#x2F;cdn.zhheo.com&#x2F;Guli&#x2F;others&#x2F;imgerror.png&#39;&quot; data-ll-status&#x3D;&#39;loading&#39;)\n        .tags-group-icon(style&#x3D;&#39;background:#ffffff&#39;)\n          img(src&#x3D;&#39;https:&#x2F;&#x2F;img.zhheo.com&#x2F;i&#x2F;2022&#x2F;08&#x2F;22&#x2F;63031127e8e2b.png&#39; title&#x3D;&#39;Python&#39; onerror&#x3D;&quot;this.onerror&#x3D;null;this.src&#x3D;&#39;https:&#x2F;&#x2F;cdn.zhheo.com&#x2F;Guli&#x2F;others&#x2F;imgerror.png&#39;&quot;)\n      .tags-group-icon-pair\n        .tags-group-icon(style&#x3D;&#39;background:#eb6840&#39;)\n          img.entered.loading(src&#x3D;&#39;https:&#x2F;&#x2F;img.zhheo.com&#x2F;i&#x2F;2022&#x2F;08&#x2F;22&#x2F;630311760ca04.png&#39; title&#x3D;&#39;Swift&#39; onerror&#x3D;&quot;this.onerror&#x3D;null;this.src&#x3D;&#39;https:&#x2F;&#x2F;cdn.zhheo.com&#x2F;Guli&#x2F;others&#x2F;imgerror.png&#39;&quot; data-ll-status&#x3D;&#39;loading&#39;)\n        .tags-group-icon(style&#x3D;&#39;background:#8f55ba&#39;)\n          img.entered.loading(src&#x3D;&#39;https:&#x2F;&#x2F;img.zhheo.com&#x2F;i&#x2F;2022&#x2F;08&#x2F;22&#x2F;630311cf9dded.png&#39; title&#x3D;&#39;Principle&#39; onerror&#x3D;&quot;this.onerror&#x3D;null;this.src&#x3D;&#39;https:&#x2F;&#x2F;cdn.zhheo.com&#x2F;Guli&#x2F;others&#x2F;imgerror.png&#39;&quot; data-ll-status&#x3D;&#39;loading&#39;)\n      .tags-group-icon-pair\n        .tags-group-icon(style&#x3D;&#39;background:#f29e39&#39;)\n          img.entered.loading(src&#x3D;&#39;https:&#x2F;&#x2F;img.zhheo.com&#x2F;i&#x2F;2022&#x2F;08&#x2F;22&#x2F;6303121db0410.png&#39; title&#x3D;&#39;illustrator&#39; onerror&#x3D;&quot;this.onerror&#x3D;null;this.src&#x3D;&#39;https:&#x2F;&#x2F;cdn.zhheo.com&#x2F;Guli&#x2F;others&#x2F;imgerror.png&#39;&quot; data-ll-status&#x3D;&#39;loading&#39;)\n        .tags-group-icon(style&#x3D;&#39;background:#2c51db&#39;)\n          img.entered.loading(src&#x3D;&#39;https:&#x2F;&#x2F;img.zhheo.com&#x2F;i&#x2F;2022&#x2F;08&#x2F;22&#x2F;630312c06cdc5.png&#39; title&#x3D;&#39;CSS3&#39; onerror&#x3D;&quot;this.onerror&#x3D;null;this.src&#x3D;&#39;https:&#x2F;&#x2F;cdn.zhheo.com&#x2F;Guli&#x2F;others&#x2F;imgerror.png&#39;&quot; data-ll-status&#x3D;&#39;loading&#39;)\n      .tags-group-icon-pair\n        .tags-group-icon(style&#x3D;&#39;background:#f7cb4f&#39;)\n          img.entered.loading(src&#x3D;&#39;https:&#x2F;&#x2F;img.zhheo.com&#x2F;i&#x2F;2022&#x2F;08&#x2F;22&#x2F;630312f898a1c.png&#39; title&#x3D;&#39;JS&#39; onerror&#x3D;&quot;this.onerror&#x3D;null;this.src&#x3D;&#39;https:&#x2F;&#x2F;cdn.zhheo.com&#x2F;Guli&#x2F;others&#x2F;imgerror.png&#39;&quot; data-ll-status&#x3D;&#39;loading&#39;)\n        .tags-group-icon(style&#x3D;&#39;background:#e9572b&#39;)\n          img.entered.loading(src&#x3D;&#39;https:&#x2F;&#x2F;img.zhheo.com&#x2F;i&#x2F;2022&#x2F;08&#x2F;22&#x2F;6303132113bbb.png&#39; title&#x3D;&#39;HTML&#39; onerror&#x3D;&quot;this.onerror&#x3D;null;this.src&#x3D;&#39;https:&#x2F;&#x2F;cdn.zhheo.com&#x2F;Guli&#x2F;others&#x2F;imgerror.png&#39;&quot; data-ll-status&#x3D;&#39;loading&#39;)\n      .tags-group-icon-pair\n        .tags-group-icon(style&#x3D;&#39;background:#df5b40&#39;)\n          img.entered.loading(title&#x3D;&#39;Git&#39; onerror&#x3D;&quot;this.onerror&#x3D;null;this.src&#x3D;&#39;https:&#x2F;&#x2F;cdn.zhheo.com&#x2F;Guli&#x2F;others&#x2F;imgerror.png&#39;&quot; src&#x3D;&#39;https:&#x2F;&#x2F;img.zhheo.com&#x2F;i&#x2F;2022&#x2F;09&#x2F;23&#x2F;632d2d33b1e1b.webp&#39; data-ll-status&#x3D;&#39;loading&#39;)\n        .tags-group-icon(style&#x3D;&#39;background:#e65164&#39;)\n          img.entered.loading(title&#x3D;&#39;Apifox&#39; onerror&#x3D;&quot;this.onerror&#x3D;null;this.src&#x3D;&#39;https:&#x2F;&#x2F;cdn.zhheo.com&#x2F;Guli&#x2F;others&#x2F;imgerror.png&#39;&quot; src&#x3D;&#39;https:&#x2F;&#x2F;img.zhheo.com&#x2F;i&#x2F;2022&#x2F;09&#x2F;23&#x2F;632d2e083fc9b.webp&#39; data-ll-status&#x3D;&#39;loading&#39;)\n      .tags-group-icon-pair\n        .tags-group-icon(style&#x3D;&#39;background:#989bf8&#39;)\n          img.entered.exited(title&#x3D;&#39;AfterEffect&#39; onerror&#x3D;&quot;this.onerror&#x3D;null;this.src&#x3D;&#39;https:&#x2F;&#x2F;cdn.zhheo.com&#x2F;Guli&#x2F;others&#x2F;imgerror.png&#39;&quot; src&#x3D;&#39;https:&#x2F;&#x2F;img.zhheo.com&#x2F;i&#x2F;2022&#x2F;08&#x2F;22&#x2F;6302f0748a83b.png&#39;)\n        .tags-group-icon(style&#x3D;&#39;background:#ffffff&#39;)\n          img.entered.exited(title&#x3D;&#39;Sketch&#39; onerror&#x3D;&quot;this.onerror&#x3D;null;this.src&#x3D;&#39;https:&#x2F;&#x2F;cdn.zhheo.com&#x2F;Guli&#x2F;others&#x2F;imgerror.png&#39;&quot; src&#x3D;&#39;https:&#x2F;&#x2F;img.zhheo.com&#x2F;i&#x2F;2022&#x2F;08&#x2F;22&#x2F;63030a85d6458.png&#39;)\n      .tags-group-icon-pair\n        .tags-group-icon(style&#x3D;&#39;background:#57b6e6&#39;)\n          img.entered.exited(title&#x3D;&#39;Docker&#39; onerror&#x3D;&quot;this.onerror&#x3D;null;this.src&#x3D;&#39;https:&#x2F;&#x2F;cdn.zhheo.com&#x2F;Guli&#x2F;others&#x2F;imgerror.png&#39;&quot; src&#x3D;&#39;https:&#x2F;&#x2F;img.zhheo.com&#x2F;i&#x2F;2022&#x2F;08&#x2F;22&#x2F;6303102c049d1.png&#39;)\n        .tags-group-icon(style&#x3D;&#39;background:#4082c3&#39;)\n          img.entered.exited(title&#x3D;&#39;Photoshop&#39; onerror&#x3D;&quot;this.onerror&#x3D;null;this.src&#x3D;&#39;https:&#x2F;&#x2F;cdn.zhheo.com&#x2F;Guli&#x2F;others&#x2F;imgerror.png&#39;&quot; src&#x3D;&#39;https:&#x2F;&#x2F;img.zhheo.com&#x2F;i&#x2F;2022&#x2F;08&#x2F;22&#x2F;63030fe730a69.png&#39;)\n      .tags-group-icon-pair\n        .tags-group-icon(style&#x3D;&#39;background:#ffffff&#39;)\n          img.entered.exited(title&#x3D;&#39;FinalCutPro&#39; onerror&#x3D;&quot;this.onerror&#x3D;null;this.src&#x3D;&#39;https:&#x2F;&#x2F;cdn.zhheo.com&#x2F;Guli&#x2F;others&#x2F;imgerror.png&#39;&quot; src&#x3D;&#39;https:&#x2F;&#x2F;img.zhheo.com&#x2F;i&#x2F;2022&#x2F;08&#x2F;22&#x2F;630310dea00f5.png&#39;)\n        .tags-group-icon(style&#x3D;&#39;background:#ffffff&#39;)\n          img.entered.exited(title&#x3D;&#39;Python&#39; onerror&#x3D;&quot;this.onerror&#x3D;null;this.src&#x3D;&#39;https:&#x2F;&#x2F;cdn.zhheo.com&#x2F;Guli&#x2F;others&#x2F;imgerror.png&#39;&quot; src&#x3D;&#39;https:&#x2F;&#x2F;img.zhheo.com&#x2F;i&#x2F;2022&#x2F;08&#x2F;22&#x2F;63031127e8e2b.png&#39;)\n      .tags-group-icon-pair\n        .tags-group-icon(style&#x3D;&#39;background:#eb6840&#39;)\n          img.entered.exited(title&#x3D;&#39;Swift&#39; onerror&#x3D;&quot;this.onerror&#x3D;null;this.src&#x3D;&#39;https:&#x2F;&#x2F;cdn.zhheo.com&#x2F;Guli&#x2F;others&#x2F;imgerror.png&#39;&quot; src&#x3D;&#39;https:&#x2F;&#x2F;img.zhheo.com&#x2F;i&#x2F;2022&#x2F;08&#x2F;22&#x2F;630311760ca04.png&#39;)\n        .tags-group-icon(style&#x3D;&#39;background:#8f55ba&#39;)\n          img.entered.exited(title&#x3D;&#39;Principle&#39; onerror&#x3D;&quot;this.onerror&#x3D;null;this.src&#x3D;&#39;https:&#x2F;&#x2F;cdn.zhheo.com&#x2F;Guli&#x2F;others&#x2F;imgerror.png&#39;&quot; src&#x3D;&#39;https:&#x2F;&#x2F;img.zhheo.com&#x2F;i&#x2F;2022&#x2F;08&#x2F;22&#x2F;630311cf9dded.png&#39;)\n      .tags-group-icon-pair\n        .tags-group-icon(style&#x3D;&#39;background:#f29e39&#39;)\n          img.entered.exited(title&#x3D;&#39;illustrator&#39; onerror&#x3D;&quot;this.onerror&#x3D;null;this.src&#x3D;&#39;https:&#x2F;&#x2F;cdn.zhheo.com&#x2F;Guli&#x2F;others&#x2F;imgerror.png&#39;&quot; src&#x3D;&#39;https:&#x2F;&#x2F;img.zhheo.com&#x2F;i&#x2F;2022&#x2F;08&#x2F;22&#x2F;6303121db0410.png&#39;)\n        .tags-group-icon(style&#x3D;&#39;background:#2c51db&#39;)\n          img.entered.exited(title&#x3D;&#39;CSS3&#39; onerror&#x3D;&quot;this.onerror&#x3D;null;this.src&#x3D;&#39;https:&#x2F;&#x2F;cdn.zhheo.com&#x2F;Guli&#x2F;others&#x2F;imgerror.png&#39;&quot; src&#x3D;&#39;https:&#x2F;&#x2F;img.zhheo.com&#x2F;i&#x2F;2022&#x2F;08&#x2F;22&#x2F;630312c06cdc5.png&#39;)\n      .tags-group-icon-pair\n        .tags-group-icon(style&#x3D;&#39;background:#f7cb4f&#39;)\n          img(src&#x3D;&#39;https:&#x2F;&#x2F;img.zhheo.com&#x2F;i&#x2F;2022&#x2F;08&#x2F;22&#x2F;630312f898a1c.png&#39; title&#x3D;&#39;JS&#39; onerror&#x3D;&quot;this.onerror&#x3D;null;this.src&#x3D;&#39;https:&#x2F;&#x2F;cdn.zhheo.com&#x2F;Guli&#x2F;others&#x2F;imgerror.png&#39;&quot;)\n        .tags-group-icon(style&#x3D;&#39;background:#e9572b&#39;)\n          img.entered.exited(title&#x3D;&#39;HTML&#39; onerror&#x3D;&quot;this.onerror&#x3D;null;this.src&#x3D;&#39;https:&#x2F;&#x2F;cdn.zhheo.com&#x2F;Guli&#x2F;others&#x2F;imgerror.png&#39;&quot; src&#x3D;&#39;https:&#x2F;&#x2F;img.zhheo.com&#x2F;i&#x2F;2022&#x2F;08&#x2F;22&#x2F;6303132113bbb.png&#39;)\n      .tags-group-icon-pair\n        .tags-group-icon(style&#x3D;&#39;background:#df5b40&#39;)\n          img(src&#x3D;&#39;https:&#x2F;&#x2F;img.zhheo.com&#x2F;i&#x2F;2022&#x2F;09&#x2F;23&#x2F;632d2d33b1e1b.webp&#39; title&#x3D;&#39;Git&#39; onerror&#x3D;&quot;this.onerror&#x3D;null;this.src&#x3D;&#39;https:&#x2F;&#x2F;cdn.zhheo.com&#x2F;Guli&#x2F;others&#x2F;imgerror.png&#39;&quot;)\n        .tags-group-icon(style&#x3D;&#39;background:#e65164&#39;)\n          img(src&#x3D;&#39;https:&#x2F;&#x2F;img.zhheo.com&#x2F;i&#x2F;2022&#x2F;09&#x2F;23&#x2F;632d2e083fc9b.webp&#39; title&#x3D;&#39;Apifox&#39; onerror&#x3D;&quot;this.onerror&#x3D;null;this.src&#x3D;&#39;https:&#x2F;&#x2F;cdn.zhheo.com&#x2F;Guli&#x2F;others&#x2F;imgerror.png&#39;&quot;)\n  a#banner-hover(onclick&#x3D;&#39;toRandomPost()&#39; data-pjax-state&#x3D;&#39;&#39;)\n    span.bannerText 随便逛逛\n    i.fas.fa-arrow-right.banner-righticon\n\n添加css样式在自己的css文件中添加：\n@media screen and (min-width: 1300px) &#123;\n  .topGroup &#123;\n    display: flex;\n    flex-direction: row;\n    flex-wrap: wrap;\n    justify-content: flex-end;\n    height: calc(328px + 0.5rem);\n    align-content: space-between;\n    width: calc(600px + 1.5rem);\n    position: relative;\n  &#125;\n\n  div#bannerGroup &#123;\n    width: calc(100% - 600px - 2rem);\n    margin-right: 0.5rem;\n    height: calc(328px + 0.5rem);\n    display: flex;\n    flex-direction: column;\n    justify-content: space-between;\n  &#125;\n\n\n  div#banners:hover &#123;\n    box-shadow: var(--heo-shadow-main);\n  &#125;\n\n  #banners.flink &#123;\n    margin-bottom: 0.5rem;\n  &#125;\n\n  #banners .banner-button-group &#123;\n    position: absolute;\n    right: 2rem;\n    top: 2rem;\n    display: flex;\n  &#125;\n\n  #banners .banner-button &#123;\n    padding: 8px 12px;\n    background: var(--heo-fontcolor);\n    border-radius: 12px;\n    color: var(--heo-card-bg);\n    display: flex;\n    align-items: center;\n    z-index: 1;\n    transition: 0.3s;\n    cursor: pointer;\n    box-shadow: var(--heo-shadow-black);\n  &#125;\n\n  #banners .banner-button.secondary &#123;\n    background: var(--heo-secondbg);\n    border: var(--style-border-always);\n    color: var(--heo-lighttext);\n    margin-right: 1rem;\n    box-shadow: var(--heo-shadow-border);\n  &#125;\n\n  #banners .banner-button:hover &#123;\n    background: var(--heo-theme);\n    color: var(--heo-white);\n  &#125;\n\n  #banners .banner-button i &#123;\n    margin-right: 8px;\n    font-size: 1rem;\n  &#125;\n\n  .banners-title &#123;\n    top: 2rem;\n    left: 1.5rem;\n    position: absolute;\n    display: flex;\n    flex-direction: column;\n  &#125;\n\n  .flink .banners-title &#123;\n    top: 1.5rem;\n  &#125;\n\n\n  .banners-title-big &#123;\n    font-size: 36px;\n    line-height: 1;\n    font-weight: bold;\n    margin-bottom: 8px;\n  &#125;\n\n  .banners-title-small &#123;\n    font-size: 12px;\n    line-height: 1;\n    color: var(--heo-secondtext);\n    margin-top: 8px;\n    margin-bottom: 0.5rem;\n  &#125;\n\n  #banner-hover &#123;\n    position: absolute;\n    width: 100%;\n    height: 100%;\n    top: 0;\n    left: 0;\n    background: var(--heo-theme);\n    color: var(--heo-white);\n    padding-left: 0.5rem;\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    opacity: 0;\n    transition: cubic-bezier(0.71, 0.15, 0.16, 1.15) 0.6s;\n  &#125;\n\n  .bannerText &#123;\n    font-size: 4rem;\n    line-height: 4rem;\n    font-weight: bold;\n  &#125;\n\n  .tags-group-all &#123;\n    display: flex;\n    transform: rotate(-30deg);\n  &#125;\n\n  .tags-group-all.nowrapMove &#123;\n    transform: rotate(0);\n    padding-bottom: 2rem;\n  &#125;\n\n  #banner-hover &#123;\n    position: absolute;\n    width: 100%;\n    height: 100%;\n    top: 0;\n    left: 0;\n    background: var(--heo-theme);\n    color: var(--heo-white);\n    padding-left: 0.5rem;\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    opacity: 0;\n    transition: cubic-bezier(0.71, 0.15, 0.16, 1.15) 0.6s;\n  &#125;\n\n  .bannerText &#123;\n    font-size: 4rem;\n    line-height: 4rem;\n    font-weight: bold;\n  &#125;\n\n  .banner-righticon &#123;\n    font-size: 4rem;\n    opacity: 0.6;\n  &#125;\n  #banners:hover #banner-hover &#123;\n    opacity: 1;\n    padding-left: 2rem;\n    background: #4259efc9;\n    backdrop-filter: blur(15px);\n    -webkit-backdrop-filter: blur(15px);\n    -webkit-backface-visibility: hidden;\n    -webkit-transform-style: preserve-3d;\n    transition: 0.3s;\n    background-size: 200%;\n    cursor: pointer;\n  &#125;\n  .banners-title &#123;\n    top: 2rem;\n    left: 1.5rem;\n    position: absolute;\n    display: flex;\n    flex-direction: column;\n  &#125;\n\n  .flink .banners-title &#123;\n    top: 1.5rem;\n  &#125;\n  .banners-title-big &#123;\n    font-size: 36px;\n    line-height: 1;\n    font-weight: bold;\n    margin-bottom: 8px;\n  &#125;\n  .banners-title-small &#123;\n    font-size: 12px;\n    line-height: 1;\n    color: var(--heo-secondtext);\n    margin-top: 8px;\n    margin-bottom: 0.5rem;\n  &#125;\n创建文章推荐卡片创建slider.yml在hexo\\source\\_data\\路径下创建slider.yml文件，最好准备6个推荐文章，例如：\n#- cover: 封面图片链接\n#  timeline: &#39;2020-10-01&#39; # 日期，需要用&#39;&#39;包裹\n#  link: 置顶文章链接，站内文章建议填相对链接\n#  title: 置顶文章标题\n#  description: 置顶文章描述\n- cover: https:&#x2F;&#x2F;npm.elemecdn.com&#x2F;justlovesmile-img&#x2F;20200715201402.png\n  timeline: &#39;2020-07-15&#39;\n  link: &#x2F;posts&#x2F;c8972b63.html\n  title: 必看 | Hexo博客搭建超级指南\n  description: Hexo博客搭建全过程，环境部署，博客魔改等等...\n- cover: https:&#x2F;&#x2F;npm.elemecdn.com&#x2F;justlovesmile-img&#x2F;090412-1557363852af44.jpg\n  timeline: &#39;2020-04-09&#39;\n  link: &#x2F;posts&#x2F;56163.html\n  title: Hexo博客 | 博客中能用到的代码（一）\n  description: 这篇文章介绍了如何使用font awesome图标字体库，使用动态图标，添加网页运行时间，全站变黑白，鼠标点击特效，网页标题的动态效果，网页樱花特效，鼠标触动音乐特效\n- cover: https:&#x2F;&#x2F;npm.elemecdn.com&#x2F;justlovesmile-img&#x2F;095658-1562983018e455.jpg\n  timeline: &#39;2020-04-09&#39;\n  link: &#x2F;posts&#x2F;15391.html\n  title: Hexo博客 | 博客中能用到的代码（二）\n  description: 这篇文章介绍了如何添加旋转小人和每日诗句\n- cover: https:&#x2F;&#x2F;npm.elemecdn.com&#x2F;justlovesmile-img&#x2F;20220331192754.png\n  timeline: &#39;2022-03-31&#39;\n  link: &#x2F;posts&#x2F;a806bebe.html\n  title: 推荐 | 计算机专业，大学课程「笔记归档」\n  description: 本文是博主本科期间的专业课程学习笔记的整理和归档，适合计算机专业的同学阅读。\n- cover: https:&#x2F;&#x2F;npm.elemecdn.com&#x2F;justlovesmile-img&#x2F;20220318183107.png\n  timeline: &#39;2022-03-18&#39;\n  link: &#x2F;posts&#x2F;589ec011.html\n  title: 深度学习 | Detectron2使用指南\n  description: Detectron2是Facebook AI Research的检测和分割框架，其主要基于PyTorch实现，但具有更模块化设计，因此它是灵活且便于扩展的。\n- cover: https:&#x2F;&#x2F;npm.elemecdn.com&#x2F;justlovesmile-img&#x2F;202109111517311.jpg\n  timeline: &#39;2021-09-11&#39;\n  link: &#x2F;posts&#x2F;865c56ba.html\n  title: 目标检测 | 常用数据集标注格式及生成脚本\n  description: 目标检测是计算机视觉任务中的一个重要研究方向，是计算机视觉的根本性问题之一，是其他诸多计算机视觉任务的基础以及前提。本文主要介绍了目标检测数据集的几种标注格式和转换代码。\n\n参考文章\n\n\n售后声明css样式有可能没给齐，可以自己扒本站的css，可以的话再评论区告诉我，我看到会马上改正！\n","slug":"添加顶部轮播图和文章推荐卡片","date":"2023-01-10T05:06:00.000Z","categories_index":"魔改","tags_index":"hexo,butterfly,轮播图,文章推荐卡片","author_index":"丐帮GB"},{"id":"10e2bbee087de2420895540742ea00c8","title":"Butterfly博客魔改的一点点基础","content":"前言为了偷懒，魔改文章慢慢取消了引入css和js的教程，在此归纳总结\n\n\n\n\n\n\n\n\n\n注：[blogRoot]指博客根目录\n引用JS首先你需要在[blogRoot]/themes/butterfly/source/js里面添加一个js，名字随你的便。（需要注意的是不能放在[blogRoot]/source/js里面，否则可能出现bug）\n然后把我说的js扔进去，当然你也可以直接放到以前的文件里面，免得改配置 （但是可能有异步同步执行导致的各种bug）\n然后再修改主题配置文件，按照下面引入 （一定是bottom，否则可能出现dom不完全导致js报错） （如果直接用已有的就别加了）\n如果使用pjax建议加上data-pjax,就象这样\ninject:\n  head:\n  - xxx\n  bottom:\n  - xxx\n  - &lt;script data-pjax type&#x3D;&quot;text&#x2F;javascript&quot; src&#x3D;&quot;&#x2F;js&#x2F;&#123;把大括号里面的这个换成你的js名字&#125;.js&quot;&gt;&lt;&#x2F;script&gt;\n  - ...\n\n引用CSS首先你需要在[blogRoot]/themes/butterfly/source/css里面添加一个css，名字随你的便。（需要注意的是不能放在[blogRoot]/source/css里面，否则可能出现bug）\n然后把我说的css扔进去，当然你也可以直接放到以前的文件里面，免得改配置（可能分开更好管理，也可以像我全部扔进custom.css，洪哥全部zhheoblog.css）。\n然后再修改主题配置文件，按照下面引入 （一定是head，否则可能出现短暂无CSS）（如果直接用已有的就别加了）：\ninject:\n  head:\n  - xxx\n  - &lt;link rel&#x3D;&quot;stylesheet&quot; href&#x3D;&quot;&#x2F;css&#x2F;&#123;把大括号里面的这个换成你的css名字&#125;.css&quot;&gt;\n  bottom:\n  - xxx\n\njq或者jquery是什么鬼？咋引入？&#96;&#96;&#96;yml\ninject:\n  head:\n  - xxx \n  bottom:\n  - &lt;script type&#x3D;&quot;text&#x2F;javascript&quot; src&#x3D;&quot;https:&#x2F;&#x2F;unpkg.zhimg.com&#x2F;jquery@latest&#x2F;dist&#x2F;jquery.min.js&quot;&gt;&lt;&#x2F;script&gt; #一定要放在所有引入的js前面！！！\n  - xxx\n\n啥是DIFF？在魔改时经常会出现diff代码块，她的意思是什么呢？\n举个栗子：\n修改[blogRoot]\\themes\\Butterfly\\layout\\includes\\header\\nav.pug:\nnav#nav\n  span#blog_name\n    ...\n    \n  #menus\n-    if (theme.algolia_search.enable || theme.local_search.enable)\n-      #search-button\n-        a.site-page.social-icon.search\n-          i.fas.fa-search.fa-fw\n-          span&#x3D;&#39; &#39;+_p(&#39;search.title&#39;)\n  !&#x3D;partial(&#39;includes&#x2F;header&#x2F;menu_item&#39;, &#123;&#125;, &#123;cache: true&#125;)\n  #nav-right\n+    if (theme.algolia_search.enable || theme.local_search.enable)\n+      #search-button\n+        a.site-page.social-icon.search\n+          i.fas.fa-search.fa-fw\n-    #toggle-menu\n-      a.site-page\n-        i.fas.fa-bars.fa-fw\n+      #toggle-menu\n+        a.site-page\n+          i.fas.fa-bars.fa-fw\n\n\n\n\n\n\n\n\n\n\n这里的“-”号表示删除源文件的内容，”+”号表示在这里增加，“…”表示省略内容，在根据其修改完文件后，要去掉前面的加号和减号，不要加或者减少一个空格\n所以如果原来的文件是：\nnav#nav\n  span#blog_name\n    a#site-name(href&#x3D;url_for(&#39;&#x2F;&#39;)) #[&#x3D;config.title]\n    \n  #menus\n    if (theme.algolia_search.enable || theme.local_search.enable)\n      #search-button\n        a.site-page.social-icon.search\n          i.fas.fa-search.fa-fw\n          span&#x3D;&#39; &#39;+_p(&#39;search.title&#39;)\n  !&#x3D;partial(&#39;includes&#x2F;header&#x2F;menu_item&#39;, &#123;&#125;, &#123;cache: true&#125;)\n  #nav-right\n    #toggle-menu\n      a.site-page\n        i.fas.fa-bars.fa-fw\n那么修改后就是:\nnav#nav\n  span#blog_name\n    a#site-name(href&#x3D;url_for(&#39;&#x2F;&#39;)) #[&#x3D;config.title]\n    \n  #menus\n  !&#x3D;partial(&#39;includes&#x2F;header&#x2F;menu_item&#39;, &#123;&#125;, &#123;cache: true&#125;)\n  #nav-right\n    if (theme.algolia_search.enable || theme.local_search.enable)\n      #search-button\n        a.site-page.social-icon.search\n          i.fas.fa-search.fa-fw\n      #toggle-menu\n        a.site-page\n          i.fas.fa-bars.fa-fw\n\n你学会了吗？","slug":"Butterfly博客魔改的一点点基础","date":"2023-01-07T05:54:30.000Z","categories_index":"魔改","tags_index":"hexo,butterfly","author_index":"丐帮GB"},{"id":"dbe1b80768301a6723fea7caf60ebd10","title":"butterfly导航栏美化教程","content":"碎碎念在开始前，请先确保你已看此Hexo魔改系列前置教程，或者你是老司机\nHexo Butterfly博客魔改的一点点基础,GTC,&#x2F;posts&#x2F;583ff077&#x2F;\n\n前言butterfly的默认导航栏长这样：这个导航栏非常单调、比较丑，而且没有居中，不支持常驻（Jerry偷懒了，所以这次就来给它来一次改头换面吧！\n基础美化看到了那么多好看的导航栏，感觉Heo的非常的好看，一开始想直接f12取到，但是发现怎么都实现不了，甚至导航栏直接寄了（应该是f12的技能有待提示吧）。没办法，后来也发现了类似的导航栏，借鉴了Eurkon的博客，两者十分的接近，并且实现了。\n修改themes/butterfly/layout/includes/header/nav.pug，直接全部覆盖nav#nav\n  #nav-group\n    span#blog_name\n      a#site-name(href&#x3D;&quot;&#x2F;&quot; title&#x3D;&quot;返回博客主页&quot;)\n        span JAYHRN\n    span#page_name\n      a#page-name-text(title&#x3D;_p(&quot;rightside.back_to_top&quot;) onclick&#x3D;&quot;btf.scrollToDest(0,500)&quot;)\n        span #[&#x3D;config.title]\n\n    #menus\n      !&#x3D;partial(&#39;includes&#x2F;header&#x2F;menu_item&#39;, &#123;&#125;, &#123;cache: true&#125;)\n\n    #hotkey\n      if (theme.algolia_search.enable || theme.local_search.enable)\n        #search-button\n          a.site-page.social-icon.search(title&#x3D;_p(&#39;search.title&#39;))\n            i.ri-search-eye-line\n      #randompost-button\n        a.site-page(title&#x3D;&quot;随机文章&quot; onclick&#x3D;&quot;toRandomPost()&quot;)\n          i.ri-subway-fill\n      if (theme.darkmode.enable &amp;&amp; theme.darkmode.button)\n        #mode-button\n          a.site-page(title&#x3D;_p(&#39;rightside.night_mode_title&#39;) onclick&#x3D;&quot;switchDarkMode()&quot;)\n            i.ri-sun-fill\n      #top-button\n        a.site-page(title&#x3D;_p(&quot;rightside.back_to_top&quot;) onclick&#x3D;&quot;btf.scrollToDest(0,500)&quot;)\n          i.ri-plane-fill\n      #toggle-menu\n        a.site-page\n          i.fas.fa-bars.fa-fw\n\n\n\n\n\n\n\n\n\n这里如果魔改了店长的昼夜切换动画的需要将对应的改为\n-if (theme.darkmode.enable &amp;&amp; theme.darkmode.button)\n-       #mode-button\n-         a.site-page(title&#x3D;_p(&#39;rightside.night_mode_title&#39;) onclick&#x3D;&quot;switchDarkMode()&quot;)\n-           i.ri-sun-fill\n+if (theme.darkmode.enable &amp;&amp; theme.darkmode.button)\n+       #mode-button\n+         a.site-page(onclick&#x3D;&#39;switchNightMode()&#39;,  title&#x3D;_p(&#39;rightside.night_mode_title&#39;))\n+           svg(width&#x3D;&#39;25&#39;, height&#x3D;&#39;25&#39;, viewBox&#x3D;&#39;0 0 1024 1024&#39;)\n+             use#modeicon(xlink:href&#x3D;&#39;#icon-moon&#39;)\n\n引入导航栏图标，也可以自行换成其他的图标inject:\n  head:\n     - &lt;link rel&#x3D;&quot;stylesheet&quot; href&#x3D;&quot;https:&#x2F;&#x2F;cdn2.tianli0.top&#x2F;gh&#x2F;Jayhrn&#x2F;fontawesome-pro&#x2F;css&#x2F;all.min.css&quot;&gt;\n     - &lt;link rel&#x3D;&quot;stylesheet&quot; href&#x3D;&quot;https:&#x2F;&#x2F;npm.elemecdn.com&#x2F;remixicon@2.5.0&#x2F;fonts&#x2F;remixicon.css&quot;&gt;\n\n添加自定义css\n#nav #nav-group &#123;\n    max-width: 1376px;\n    justify-content: center\n&#125;\n\n.layout &#123;\n    max-width: 1400px;\n    justify-content: center\n&#125;\n\n@media screen and (min-width: 1920px) &#123;\n    .layout.hide-aside &#123;\n        max-width: 1600px\n    &#125;\n\n    #nav #nav-group, .layout &#123;\n        max-width: 1500px\n    &#125;\n&#125;\n\n#nav &#123;\n    top: 0 !important;\n    display: flex;\n    justify-content: center;\n    box-shadow: none !important;\n    -webkit-box-shadow: none !important;\n    -webkit-transition: all .3s ease-in-out;\n    -moz-transition: all .3s ease-in-out;\n    -o-transition: all .3s ease-in-out;\n    -ms-transition: all .3s ease-in-out;\n    transition: all .3s ease-in-out\n&#125;\n\n#nav #nav-group &#123;\n    width: 100%;\n    display: flex;\n    position: relative\n&#125;\n\n#nav .site-page::after &#123;\n    display: none\n&#125;\n\n#nav .site-page &#123;\n    text-shadow: none;\n    border-radius: 8px;\n&#125;\n\n.page .sticky_layout &#123;\n    top: 50px !important\n&#125;\n\n#post ~ .aside-content .sticky_layout &#123;\n    top: 70px !important\n&#125;\n\n#nav.show &#123;\n    -webkit-transform: translate3d(0, 0, 0) !important;\n    -moz-transform: translate3d(0, 0, 0) !important;\n    -o-transform: translate3d(0, 0, 0) !important;\n    -ms-transform: translate3d(0, 0, 0) !important;\n    transform: translate3d(0, 0, 0) !important;\n    position: fixed;\n    z-index: 91\n&#125;\n\n#page-header.nav-fixed #nav.show, #page-header.not-top-img #nav.show &#123;\n    border-bottom: none\n&#125;\n\n#page-header.not-top-img:not(.nav-fixed) #nav &#123;\n    background: var(--Jay-background) !important\n&#125;\n\n#page-header.not-top-img #nav &#123;\n    transition: .3s;\n    background: var(--Jay-maskbgdeep) !important;\n    backdrop-filter: saturate(180%) blur(20px);\n    -webkit-backdrop-filter: blur(20px);\n&#125;\n\n@media screen and (max-width: 768px) &#123;\n    #page-header.not-top-img #nav &#123;\n        background: var(--Jay-background)\n    &#125;\n&#125;\n\n#nav a &#123;\n    border-radius: 8px;\n    padding: 6px 12px !important;\n&#125;\n\n@media screen and (min-width: 768px) &#123;\n    .menus_item:hover &gt; a.site-page &#123;\n        color: var(--Jay-white) !important;\n        background: var(--Jay-white-op);\n        transition: .3s;\n        box-shadow: var(--Jay-shadow-main)\n    &#125;\n\n    .page .menus_item:hover &gt; a.site-page &#123;\n        color: var(--Jay-white) !important;\n        background: var(--Jay-main);\n        transition: .3s;\n        box-shadow: var(--Jay-shadow-main)\n    &#125;\n\n    .nav-fixed .menus_item:hover &gt; a.site-page &#123;\n        background-color: var(--Jay-main)\n    &#125;\n&#125;\n\n.nav-fixed #nav #site-name span &#123;\n    color: var(--Jay-fontcolor);\n    transition: .3s\n&#125;\n\n#nav #site-name:hover i &#123;\n    color: var(--Jay-white)\n&#125;\n\n#nav #menus &#123;\n    position: absolute;\n    width: 100%;\n&#125;\n\n#nav #site-name span &#123;\n    font-weight: 700 !important;\n    font-size: 1.1rem;\n&#125;\n\n\n@media screen and (min-width: 900px) &#123;\n    #nav #site-name &#123;\n        opacity: 1;\n        transition: .3s;\n        overflow: hidden\n    &#125;\n\n    #nav #site-name span &#123;\n        transition: .3s\n    &#125;\n\n    #nav #site-name:hover span &#123;\n        opacity: 0;\n        transition: .3s\n    &#125;\n\n    #page-header.nav-fixed #nav #site-name &#123;\n        opacity: 1;\n        transition: .1s\n    &#125;\n\n    #page-header.nav-visible #nav #site-name &#123;\n        opacity: 1;\n        transition: .1s\n    &#125;\n\n    #nav #site-name:after &#123;\n        background: url(&#39;https:&#x2F;&#x2F;cdn.jsdelivr.net&#x2F;gh&#x2F;Jayhrn&#x2F;CDN&#x2F;img&#x2F;home.png&#39;) no-repeat 50% 50%;\n        opacity: 0;\n        position: absolute;\n        display: flex;\n        z-index: 1;\n        width: 80px;\n        height: 60px;\n        content: &quot;&quot;;\n        transition: .3s;\n        transition-timing-function: ease-in;\n        transform: scale(.4)\n    &#125;\n\n    .post #nav #site-name:hover &#123;\n        background: var(--Jay-white-op)\n    &#125;\n\n    .nav-fixed #nav #site-name:hover &#123;\n        background: var(--Jay-main)\n    &#125;\n\n    #nav #site-name:hover:after &#123;\n        opacity: 1;\n        transform: translateY(0) scale(.3);\n        transition-timing-function: ease-in\n    &#125;\n&#125;\n\n.nav-fixed #nav #site-name span &#123;\n    color: var(--Jay-fontcolor);\n    transition: .3s\n&#125;\n\n#nav #site-name:hover span &#123;\n    color: var(--Jay-white)\n&#125;\n\n.post-bg #nav #site-name &#123;\n    color: var(--Jay-white);\n    transition: .3s\n&#125;\n\n#nav #site-name &#123;\n    color: var(--Jay-white);\n    padding: 0;\n    transition: .3s;\n    display: flex;\n    height: 40px;\n    width: 80px;\n    justify-content: center;\n    align-items: center;\n    text-shadow: none\n&#125;\n\n#nav #blog_name #site-name &#123;\n    position: relative\n&#125;\n\n&#x2F;*设置menu子元素边距*&#x2F;\n#nav .menus_item_child .site-page.child &#123;\n    padding: .5rem .8rem !important\n&#125;\n\n#nav #menus &#123;\n    position: absolute;\n    width: 100%\n&#125;\n\n@media screen and (max-width: 768px) &#123;\n    #nav #menus &#123;\n        display: none\n    &#125;\n&#125;\n\n#nav .menus_items &#123;\n    display: inline;\n    position: absolute;\n    text-align: center;\n    width: fit-content;\n    left: 0;\n    right: 0;\n    margin: auto\n&#125;\n\n#menus &gt; div.menus_items &gt; div &gt; a &#123;\n    letter-spacing: .2rem;\n    font-size: 1.1rem;\n&#125;\n\n#page-header.nav-fixed #nav div.menus_items[style*&#x3D;&quot;opacity: 0;&quot;] .nav &#123;\n    opacity: .3;\n&#125;\n\n#page-header.nav-fixed #nav div.menus_items &#123;\n    opacity: 0;\n    -webkit-transform: translateY(-60px);\n    -moz-transform: translateY(-60px);\n    -o-transform: translateY(-60px);\n    -ms-transform: translateY(-60px);\n    transform: translateY(-60px);\n    -webkit-transition: all .3s ease-in-out;\n    -moz-transition: all .3s ease-in-out;\n    -o-transition: all .3s ease-in-out;\n    -ms-transition: all .3s ease-in-out;\n    transition: all .3s ease-in-out\n&#125;\n\n#page-header.nav-fixed.nav-visible #nav div.menus_items &#123;\n    opacity: 1;\n    -webkit-transform: translateY(0);\n    -moz-transform: translateY(0);\n    -o-transform: translateY(0);\n    -ms-transform: translateY(0);\n    transform: translateY(0);\n    -webkit-transition: all .3s ease-in-out;\n    -moz-transition: all .3s ease-in-out;\n    -o-transition: all .3s ease-in-out;\n    -ms-transition: all .3s ease-in-out;\n    transition: all .3s ease-in-out\n&#125;\n\n#nav .menus_items .menus_item &#123;\n    padding: 0 .4rem !important\n&#125;\n\n#nav .menus_items .menus_item .menus_item_child &#123;\n    padding: 6px 4px 8px 4px;\n    background-color: var(--Jay-card-bg);\n    border-radius: 12px;\n    border: var(--style-border);\n    box-shadow: var(--Jay-shadow-black);\n    backdrop-filter: blur(20px);\n    -webkit-backdrop-filter: blur(20px);\n    -webkit-transition: all .3s ease-in-out;\n    -moz-transition: all .3s ease-in-out;\n    -o-transition: all .3s ease-in-out;\n    -ms-transition: all .3s ease-in-out;\n    transition: all .3s ease-in-out\n&#125;\n\n#nav .menus_items .menus_item .menus_item_child:hover &#123;\n    border: var(--style-border-hover);\n    box-shadow: var(--Jay-shadow-main)\n&#125;\n\n#nav .menus_items .menus_item:hover .menus_item_child &#123;\n    display: flex\n&#125;\n\n#nav .menus_items .menus_item .menus_item_child li &#123;\n    margin: 0 .2rem;\n    border-radius: 8px !important;\n&#125;\n\n#nav .menus_items .menus_item .menus_item_child li:hover &#123;\n    background: 0 0;\n    background: var(--Jay-main) !important;\n    color: var(--Jay-white) !important;\n    box-shadow: var(--Jay-shadow-main);\n    transform: scale(1) !important;\n    transition: .3s;\n    border-radius: 8px !important;\n&#125;\n\n#sidebar #sidebar-menus .menus_items .site-page:hover, #sidebar #sidebar-menus .sidebar-site-data a:hover &#123;\n    border-radius: 8px;\n    background: var(--Jay-main);\n    color: var(--Jay-white) !important;\n&#125;\n\n&#x2F;*设置电脑无向下箭头，而手机有*&#x2F;\n@media screen and (max-width: 768px) &#123;\n    .site-page i.fa-chevron-down &#123;\n        display: inline-flex !important;\n    &#125;\n&#125;\n\n.site-page i.fa-chevron-down &#123;\n    display: none;\n&#125;\n\n\n#sidebar #sidebar-menus .menus_items .site-page:hover, #sidebar #sidebar-menus .sidebar-site-data a:hover .headline, #sidebar #sidebar-menus .sidebar-site-data a:hover .length-num &#123;\n    color: var(--Jay-white) !important\n&#125;\n\n#page-header.not-top-img &#123;\n    margin: 0\n&#125;\n\n#nav a.site-page.child &#123;\n    -webkit-transition: all .3s ease-in-out;\n    -moz-transition: all .3s ease-in-out;\n    -o-transition: all .3s ease-in-out;\n    -ms-transition: all .3s ease-in-out;\n    transition: all .3s ease-in-out\n&#125;\n\n#nav a.site-page.child:hover &#123;\n    color: var(--Jay-main) !important;\n    background: var(--Jay-main);\n    box-shadow: var(--Jay-shadow-main)\n&#125;\n\n#page-header.post-bg #nav #hotkey .site-page:hover, #page-header.post-bg #nav #site-name:hover, #page-header.post-bg #nav .menus_item &gt; .site-page:hover &#123;\n    color: var(--Jay-white) !important;\n    background: var(--Jay-main);\n&#125;\n\n[data-theme&#x3D;dark] #page-header.post-bg #nav #hotkey .site-page:hover, [data-theme&#x3D;dark] #page-header.post-bg #nav #site-name:hover, [data-theme&#x3D;dark] #page-header.post-bg #nav .menus_item &gt; .site-page:hover &#123;\n    color: var(--Jay-white) !important;\n    background: var(--Jay-main)\n&#125;\n\n#page-header.post-bg #nav #hotkey .site-page, #page-header.post-bg #nav #site-name, #page-header.post-bg #nav .menus_item &gt; .site-page &#123;\n    color: var(--Jay-white);\n    -webkit-transition: all .3s ease-in-out;\n    -moz-transition: all .3s ease-in-out;\n    -o-transition: all .3s ease-in-out;\n    -ms-transition: all .3s ease-in-out;\n    transition: all .3s ease-in-out\n&#125;\n\n#page-header.not-top-img #nav #hotkey .site-page, #page-header.not-top-img #nav #page-name-text, #page-header.not-top-img #nav #site-name, #page-header.not-top-img #nav .menus_item &gt; .site-page, #page-header.post-bg.nav-fixed #nav #hotkey .site-page, #page-header.post-bg.nav-fixed #nav #page-name-text, #page-header.post-bg.nav-fixed #nav #site-name, #page-header.post-bg.nav-fixed #nav .menus_item &gt; .site-page &#123;\n    color: var(--Jay-fontcolor);\n    -webkit-transition: all .3s ease-in-out;\n    -moz-transition: all .3s ease-in-out;\n    -o-transition: all .3s ease-in-out;\n    -ms-transition: all .3s ease-in-out;\n    transition: all .3s ease-in-out\n&#125;\n\n#page-header.not-top-img #nav #hotkey .site-page:hover, #page-header.not-top-img #nav #page-name-text:hover, #page-header.not-top-img #nav #site-name:hover, #page-header.not-top-img #nav .menus_item &gt; .site-page:hover, #page-header.post-bg.nav-fixed #nav #hotkey .site-page:hover, #page-header.post-bg.nav-fixed #nav #page-name-text:hover, #page-header.post-bg.nav-fixed #nav #site-name:hover, #page-header.post-bg.nav-fixed #nav .menus_item &gt; .site-page:hover &#123;\n    color: var(--Jay-white) !important;\n    background: var(--Jay-main);\n    box-shadow: var(--Jay-shadow-main);\n&#125;\n\n#nav #page_name &#123;\n    position: absolute\n&#125;\n\n@media screen and (max-width: 768px) &#123;\n    #nav #page_name &#123;\n        display: none !important\n    &#125;\n&#125;\n\n#nav #page-name-text &#123;\n    opacity: 0;\n    font-weight: 700;\n    text-overflow: ellipsis;\n    overflow: hidden;\n    white-space: nowrap;\n    position: relative;\n    text-align: center;\n    line-height: 1.2em;\n    -webkit-transform: translateY(-60px);\n    -moz-transform: translateY(-60px);\n    -o-transform: translateY(-60px);\n    -ms-transform: translateY(-60px);\n    transform: translateY(-50px);\n    -webkit-transition: all .3s ease-in-out;\n    -moz-transition: all .3s ease-in-out;\n    -o-transition: all .3s ease-in-out;\n    -ms-transition: all .3s ease-in-out;\n    transition: all .3s ease-in-out\n&#125;\n\n#page-header.nav-fixed #nav #page-name-text &#123;\n    opacity: 1;\n    -webkit-transform: translateY(0);\n    -moz-transform: translateY(0);\n    -o-transform: translateY(0);\n    -ms-transform: translateY(0);\n    transform: translateY(0)\n&#125;\n\n#page-header.nav-fixed.nav-visible #nav #page-name-text &#123;\n    opacity: 0;\n    -webkit-transform: translateY(-60px);\n    -moz-transform: translateY(-60px);\n    -o-transform: translateY(-60px);\n    -ms-transform: translateY(-60px);\n    transform: translateY(-60px)\n&#125;\n\n&#x2F;* 设置hover返回顶部 *&#x2F;\n#page-name-text &gt; span::before &#123;\n    font-size: 1.2rem;\n    position: absolute;\n    width: 100%;\n    height: 100%;\n    border-radius: 8px;\n    color: var(--Jay-white) !important;\n    top: 0;\n    left: 0;\n    content: &#39;回到顶部&#39;;\n    min-width: fit-content; \n    background-color: var(--Jay-theme);\n    transition: all .3s;\n    -webkit-transition: all .3s;\n    -moz-transition: all .3s;\n    -ms-transition: all .3s;\n    -o-transition: all .3s;\n    opacity: 0;\n    box-shadow: 0 0 3px var(--Jay-theme);\n    line-height: 40px; &#x2F;*如果垂直位置不居中可以微调此值，也可以删了*&#x2F;\n&#125;\n\n#page-name-text &gt; span:hover:before &#123;\n    opacity: 1;\n&#125;\n\n#page-name-text:hover &#123;\n    scale: 1.03\n&#125;\n\n#nav #hotkey &#123;\n    position: absolute;\n    right: 1rem;\n    display: flex;\n    flex-direction: row;\n    height: 100%;\n    align-items: center;\n    text-align: center\n&#125;\n\n#nav #hotkey div &#123;\n    width: 40px;\n    height: 40px;\n    margin-left: .3rem;\n    padding: 0 !important;\n    -webkit-transition: all .3s ease-in-out;\n    -moz-transition: all .3s ease-in-out;\n    -o-transition: all .3s ease-in-out;\n    -ms-transition: all .3s ease-in-out;\n    transition: all .3s ease-in-out\n&#125;\n\n#nav #hotkey .site-page &#123;\n    width: 40px;\n    height: 40px;\n    font-size: 1.3rem;\n    padding: 0 !important;\n    position: absolute;\n    top: 50%;\n    -webkit-transform: translateY(-50%);\n    -moz-transform: translateY(-50%);\n    -o-transform: translateY(-50%);\n    -ms-transform: translateY(-50%);\n    transform: translateY(-50%)\n&#125;\n\n#nav #hotkey #mode-button i &#123;\n    color: var(--Jay-sun-moon)\n&#125;\n\n#nav #hotkey #mode-button i::before &#123;\n    content: &#39;\\f1bc&#39;\n&#125;\n\n#nav #hotkey #mode-button:hover i::before &#123;\n    content: &#39;\\ef6e&#39;\n&#125;\n\n[data-theme&#x3D;dark] #nav #hotkey #mode-button i::before &#123;\n    content: &#39;\\ef6e&#39;\n&#125;\n\n[data-theme&#x3D;dark] #nav #hotkey #mode-button:hover i::before &#123;\n    content: &#39;\\f1bc&#39;\n&#125;\n\n&#x2F;* 控制导航栏滑动百分比显隐 *&#x2F;\nheader:not(.nav-fixed) #nav #hotkey #top-button &#123;\n    width: 0;\n    opacity: 0;\n    margin-left: 0\n&#125;\n\n#nav #hotkey #top-button a.site-page &#123;\n    width: 30px;\n    height: 30px;\n    margin: 0 5px;\n    color: var(--font-color) !important;\n    background: var(--Jay-card-bg)\n&#125;\n\n#nav #hotkey #top-button:hover a.site-page &#123;\n    width: 40px;\n    height: 40px;\n    margin: 0;\n    color: var(--Jay-secondtext) !important;\n    background: var(--Jay-main)\n&#125;\n\n#nav #hotkey #top-button i::before &#123;\n    content: attr(data-percent);\n    position: absolute;\n    left: 0;\n    right: 0;\n    font-size: 90%;\n    line-height: 1.7em;\n    white-space: nowrap;\n    font-family: Jay\n&#125;\n\n#nav #hotkey #top-button:hover i::before &#123;\n    content: &#39;\\f004&#39;;\n    position: relative;\n    font-family: unset;\n    font-size: 100%\n&#125;\n\n引入js，实现获取主页标题或文章标题，引入到自定义js文件中，没有可以新建themes/butterfly/source/js/custom/custom.js文件&quot;&quot; &#x3D;&#x3D;&#x3D; GLOBAL_CONFIG_SITE.title.replace(&quot;GTC&quot;, &quot;&quot;) ? document.getElementById(&quot;page-name-text&quot;).style.display &#x3D; &quot;none&quot; : document.querySelector(&quot;#page-name-text&gt;span&quot;).innerHTML &#x3D; document.title.split(&quot; | GB&quot;)[0];\n\n\n\n\n\n\n\n\n\n其中GTC和GB换成自己的网站名称\n设置网页阅读进度下方引入自定义js文件，没有可以新建themes/butterfly/source/js/custom/custom.js文件\nvar $percent &#x3D; document.querySelector(&quot;#nav #hotkey #top-button a.site-page i&quot;);\n$percent &amp;&amp; window.addEventListener(&quot;scroll&quot;, (function () &#123;\n    let e &#x3D; document.body.scrollHeight || document.documentElement.scrollHeight,\n        t &#x3D; window.innerHeight || document.documentElement.clientHeight;\n    $percent.dataset.percent &#x3D; ((document.body.scrollTop || document.documentElement.scrollTop) &#x2F; (e - t) * 100).toFixed(0)\n&#125;));\n\n\n\n\n\n\n\n\n\n\n2023.1.14 开了pjax的注意！js文件需要修改如下，否则无法获取阅读进度！\nfunction whenDOMReady() &#123;\n    var $percent &#x3D; document.querySelector(&quot;#nav #hotkey #top-button a.site-page i&quot;);\n    $percent &amp;&amp; window.addEventListener(&quot;scroll&quot;, (function () &#123;\n    let e &#x3D; document.body.scrollHeight || document.documentElement.scrollHeight,\n        t &#x3D; window.innerHeight || document.documentElement.clientHeight;\n    $percent.dataset.percent &#x3D; ((document.body.scrollTop || document.documentElement.scrollTop) &#x2F; (e - t) * 100).toFixed(0)\n    &#125;));\n&#125;\n\nwhenDOMReady() &#x2F;&#x2F; 打开网站先执行一次\ndocument.addEventListener(&quot;pjax:complete&quot;, whenDOMReady) &#x2F;&#x2F; pjax加载完成（切换页面）后再执行一次\n\n随机页面跳转新建themes/butterfly/scripts/helpers/random.jshexo.extend.filter.register(&#39;after_render:html&#39;, function (data) &#123;\n    const posts &#x3D; []\n    hexo.locals.get(&#39;posts&#39;).map(function (post) &#123;\n        if (post.random !&#x3D;&#x3D; false) posts.push(post.path)\n    &#125;)\n    data +&#x3D; &#96;&lt;script&gt;var posts&#x3D;$&#123;JSON.stringify(posts)&#125;;function toRandomPost()&#123; window.pjax ? pjax.loadUrl(&#39;&#x2F;&#39;+posts[Math.floor(Math.random()*posts.length)]) : window.open(&#39;&#x2F;&#39;+posts[Math.floor(Math.random()*posts.length)], &quot;_self&quot;); &#125;;&lt;&#x2F;script&gt;&#96;\n    return data\n&#125;)\n正常调用toRandomPost()函数即可。这样就获得了heo同款导航栏\n进阶魔改\n\n\n\n\n\n\n\n\n基于我的个人审美魔改，不喜勿喷这里我参考了wordpress主题Sakurairo\n顶栏悬浮&amp;圆角&amp;炫光&#x2F;* 顶栏悬浮 *&#x2F;\n#nav &#123;\n  top: 20px !important;\n  width: 96% !important;\n  margin-left: 2% !important;\n  border-radius: 20px;\n  box-shadow: 0px 0px 10px 5px rgb(33, 29, 194) !important; &#x2F;* 不要炫光就去掉这一行 *&#x2F;\n  z-index: 1000;\n&#125;\n\n#page-header.nav-fixed #nav &#123;\n  top: -45px !important;\n&#125;\n\n\n\n\n\n\n\n\n\n\n此处炫光可自行更换，我的色彩为克莱因蓝rgb(33, 29, 194)\nbug修复下移之后就这样了非常的丑且不方便，所以需要导航栏常驻\n.nav-fixed #nav&#123;\n    transform: translateY(58px)!important;\n    -webkit-transform: translateY(58px)!important;\n    -moz-transform: translateY(58px)!important;\n    -ms-transform: translateY(58px)!important;\n    -o-transform: translateY(58px)!important;\n&#125;\n#nav&#123;\n    transition: none!important;\n    -webkit-transition: none!important;\n    -moz-transition: none!important;\n    -ms-transition: none!important;\n    -o-transition: none!important;\n&#125;\n\n\n\n\n\n\n\n\n\n（以前其实改的是js但是忘记怎么改了）此处加入!important是保证强制生效，不需要的删掉\n感谢你，获得了和我一样的导航栏！\n效果展示\n","slug":"导航栏魔改","date":"2023-01-07T05:38:11.000Z","categories_index":"魔改","tags_index":"hexo,butterfly,导航栏","author_index":"丐帮GB"},{"id":"436b8ca7dd84e615c20c84d39b4464dd","title":"浏览器下出现net::ERR_BLOCKED_BY_CLIENT的解决办法","content":"碎碎念当我们在做开发时，调试页面图片会出现部分图片无法正常显示，并且确认图片的地址正确；\n按F12 Debug查看报错原因，提示net::ERR_BLOCKED_BY_CLIENT错误，但当我们点击图片地址发现，图片地址并无错误；\n遇到这类情况，一般都是浏览器安装的某个第三方扩展程序已阻止对此网页的访问，例如下图：\n\n解决办法：当我们查看浏览器第三方插件的时候，就会看到插件中存在“广告过滤插件”，其实，报错的原因就是第三方广告过滤插件在捣鬼，\n当你关闭掉广告过滤插件后，你再次刷新页面，原先报错的问题不在报错了；\n广告过滤插件比如：\n","slug":"浏览器下出现net-ERR-BLOCKED-BY-CLIENT的解决办法","date":"2023-01-07T05:27:04.000Z","categories_index":"网络技巧","tags_index":"解决办法","author_index":"丐帮GB"},{"id":"7e865bd73f821223e54e6fe6e52776e1","title":"Downie for Mac最强视频下载工具(支持B站优酷土豆腾讯等)","content":"我搜集到的一款简单拖放链接到Downie，它就会下载该网站上的视频。理论可以下载各种视频网站上的视频！\n\n应用介绍Downie 是一款Mac平台上的优秀视频下载软件，使用非常简单，只需将下载链接放置Downie界面即可自动下载，目前支持上千个不同的网站，包括YouTube、优酷、土豆等等，让您不再为大量网站视频下载而烦恼。\n支持的网站包括： YouTube，Vimeo, trailers.apple.com, CNBC, NHL, LiveLeak, Insanee, Daily Haha, BlipTV, DotSub, Daily Motion, Over Stream, eHow, Devil Ducky, PlayFM, PBS, Vine.Co, MetaCafe, iView, Bofunk, MadiaSilo, MTV, V-Vids, 15min.lt, Break.com, CollegeHumor, eBaum’s World, ESPN.go.com, NicoVideo.jp, NoiseTrade, On.AOL, Billboard, Cook’s Illustrated, FunnyOrDie, MLB, Bloomberg, Craftsy, Facebook, Kickstarter, Lynda, NBC News, Rotten Tomatoes, Slashdot, South Park Studios, Video Detective和许多其他！\n应用截图\n激活方法直接安装\n蓝奏云下载\n","slug":"dPWMm5vOS","date":"2023-01-07T00:10:51.000Z","categories_index":"mac应用分享","tags_index":"MAC,软件分享,资源","author_index":"丐帮GB"},{"id":"82f9c0a8a26940dab89d55b0fc8a3729","title":"解决：Uncaught TypeError: $ is not a function","content":"本来好好的，突然就出现的错误，不过这并不是什么难解决的错误；\n我的问题是：在js文件里我定义了一个var $;变量，只要把这个去掉就没问题了。\n出现这种错误的解决方法：1，先看看你的jq文件是否已经先导入了一般来说，你的js文件需要位于最后\n2.就是在js文件里找一下有没有 var $; 😂🤣\n看完一些博客，大概明白，博客会先运行自己的脚本，然后释放$，这样就不会与其他库冲突。\n所以一旦你定义了$;他就会默认使用你对$的定义，而不会管JQ的定义；\n下面是一些防止冲突的方法\njQuery(function ($) &#123;\n直接使用JQuery就不会又冲突问题，再在JQuery使用$，利用闭包函数的作用域规避冲突\n","slug":"G0P8kBf6P","date":"2023-01-06T17:59:19.000Z","categories_index":"网络技巧","tags_index":"小知识,教程,HTML,JS","author_index":"丐帮GB"},{"id":"19defb5b214bc6aee4f4164312cd8960","title":"SiteSucker Pro for Mac 专业的网站下载工具","content":"SiteSucker Mac版是Mac os平台上的一款帮助用户下载数据的mac下载工具，SiteSucker绝对是一扒网站的利器，不仅仅是下载网站的HTML源文件，他连网站整体架构以及下面的所有文本，程序文件，图片，视频，音频等数据一丝不漏的下载到Mac本地硬盘。\n本软件测试环境12.0.1系统！\n应用介绍SiteSucker是一款macOS上的整站下载的利器，可以将整个网站下载到本地后脱机查看的工具，而且不仅仅是下载网站的HTML源文件，他连网站整体架构以及下面的所有文本，程序文件，图片，视频，音频等数据一丝不漏的下载到Mac本地硬盘。牛逼的不像话，操作也很简单。\n\n\n\n\n\n\n\n\n\n特别提醒：4.x 版本目前最低需要macos11Big sur系统，其它系统请移步\n功能介绍1、SiteSucker是一个Macintosh应用程序，可以自动从Internet下载网站。它通过将站点的网页，图像，PDF，样式表和其他文件异步复制到本地硬盘驱动器，复制站点的目录结构来实现此目的。只需输入一个URL（统一资源定位器），按回车键，SiteSucker就可以下载整个网站。\n2、SiteSucker可用于制作网站的本地副本。默认情况下，SiteSucker“本地化”它下载的文件，允许您离线浏览站点，但它也可以不经修改地下载站点。\n3、您可以在文档中保存有关下载的所有信息。这允许您创建一个文档，您可以随时使用该文档执行相同的下载。如果在选择“保存”命令时SiteSucker处于下载过程中，则SiteSucker将暂停下载并使用文档保存其状态。稍后打开文档时，可以通过按“继续”按钮从停止的位置重新开始下载。\n4、SiteSucker可在基于Intel的Macintosh计算机上运行，需要macOS 10.12 Sierra，macOS 10.13 High Sierra或更高版本。当然，要下载文件，您的计算机还需要Internet连接。\n5、来自世界各地的用户已将SiteSucker从英语翻译成其他语言。目前，可以使用以下语言查看SiteSucker：\n应用截图\n更新日志v4.0.2\n\n修复了在处理 JavaScript 重定向时可能导致崩溃的错误。\n为 SiteSucker Pro 应用创建了一个专属的图标。\n\n激活方法直接安装\n\n\n\n\n\n\n\n\n\n「应用已损坏,打不开.你应该将它移到废纸篓」，详见:“Mac应用”已损坏，打不开解决办法\n蓝奏云盘下载\n\n    \n      \n        下载公告\n      \n      下载相关问题公告蓝奏云如果遇到链接无法访问，可以把链接中的https://pan.lanzou替换成https://pan.lanzoux，给您造成的不便深感歉意。 \n \n","slug":"8GChL244-","date":"2023-01-06T00:01:33.000Z","categories_index":"mac应用分享","tags_index":"MAC,软件分享,资源","author_index":"丐帮GB"},{"id":"7bba68803e0ff3d2b59e30791bedf58c","title":"如何一键查看网页上隐藏的密码？原来这么简单","content":"为了方便，很多时候，我们在网页上输入密码之后都会选择记住网页账号和密码，这样下一次再次进入这个网页就能够让浏览器自动输入账号和密码信息，既方便了操作，也不用去记住大量繁琐而复杂的账号，是一举两得的方法！\n但是浏览器记住的密码往往在输入框中以加密的 *** 显示，无法直接查看到真实的密码那么有什么办法可以查看这些被隐藏的密码呢？\n前几天就有人遇到了这种问题，看来很多人都还不知道,最简单的办法就是先选择被隐藏的密码，然后单击右键选择审查元素。\n\n在 type=&quot;password&quot; 这里双击「password」可以对其进行修改，只需要改为「text」，然后回车，密码就显示出来了。\n\n\n","slug":"如何一键查看网页上隐藏的密码？原来这么简单","date":"2023-01-04T07:00:06.000Z","categories_index":"网络技巧","tags_index":"html","author_index":"丐帮GB"},{"id":"f0b884715b534c36bc4d3ccd93bb2a70","title":"gcore提供免费CDN加速服务，每月1000GB流量+10亿次请求","content":"介绍Gcore 是公共云和边缘计算、内容交付、托管和安全解决方案的国际领导者。我们管理一个全球基础设施，旨在为企业级企业提供一流的边缘和基于云的服务。Gcore 总部位于卢森堡，在德国、立陶宛、波兰、格鲁吉亚和塞浦路斯设有办事处。Gcore 提供免费计划套餐：\n\n每个月1T流量\n每月10亿次请求\n官方有140+节点加速（免费计划每月那么多）\n支持SSL\n支持WebSocket\n提供DDoS防护，基础WAF\n不用绑定信用卡\n\n如果像购买付费服务，官方提供多种信用卡支付：中国银联，万事达，VISA，美国运通卡~\n账号注册和cdn配置\n\n\n\n\n\n\n\n\n注册地址：https://auth.gcore.com/login/signup填写邮箱，密码邮箱接收激活优化（收不到查看垃圾箱）\n但是，目前貌似邮箱要国际邮箱，所以推荐使用github登录，简单明白！\n选择免费计划（无需填信用卡）\n账号配置成功后账号配置成功后，可见CDN服务已经激活（Active）\n配置CDN点击 【Create CDN resource】按钮，开始配置CDN。\n官方提供2种配置方式① 加速和保护整个站点：使用 CDN 和 DNS 服务对整个站点进行无代码加速和网络层保护。免费计划会自动激活 DNS 服务。② 仅加速和保护静态资产：使用 CDN 服务对您网站的静态资产进行加速和网络层保护。需要更改代码。\n选择第二项，开始配置CDN\n填写基础信息Origin（源域名），Custom Demain （自定义域名），SSL 加速\n配置域名解析自定义域名需要CNAME解析到指定的域名上如图为 DNSPOND 添加解析:\n官方提供了一些集成插件我们暂时不需要\n优化访问设置因为我们主要是图片CDN加速，GZip可以不开启，WebSocket也不需要，WAF防御也不用开启\n提交以后CDN就创建成功了！\n后续域名CNAME解析生效需要等10分钟左右，如果开启SSL需要等待的更久一些（博主SSL生效大概等了20分钟）。\n访问速度\n最后总结Gcore 官宣有140+节点，这里有一个官方的IP集合：https://api.gcorelabs.com/cdn/public-ip-list测试了一下亚太几个IP访问速度还不错！\n","slug":"提供免费CDN加速服务，每月1000GB流量-10亿次请求","date":"2023-01-04T02:14:34.000Z","categories_index":"网络资源","tags_index":"cdn,gcore","author_index":"丐帮GB"},{"id":"ab972bac38b0403807da6e9d3115f6a5","title":"CSS排除选择器:not()","content":"用法li:not(:first-child)&#123;\n    color:#0C58A7;\n&#125;\n浏览器支持表格中的数字注明了完全支持该属性的首个浏览器版本。\n定义:not(selector) 选择器匹配非指定元素&#x2F;选择器的每个元素。\n","slug":"CSS排除选择器","date":"2023-01-03T11:34:02.000Z","categories_index":"html","tags_index":"html","author_index":"丐帮GB"},{"id":"e4bc050c36e5c9d234f4e7e20ca25bfb","title":"mac怎么清理DNS缓存","content":"可以通过Mac系统启动台功能，在其他页面打开终端进行操作即可。\n打开终端\n进入终端界面，输入sudo killall -HUP mDNSResponder命令执行即可。","slug":"TAge9sds6","date":"2023-01-03T03:01:17.000Z","categories_index":"MAC维护","tags_index":"MAC,小知识,教程,DNS","author_index":"丐帮GB"},{"id":"b93a26d97a89dbb1c4fd5fe7363f1a76","title":"butterfly版权美化教程","content":"前言不知道大家对于默认的butterfly版权怎么看？反正我是觉得很丑。突然有一天我在洪哥的鱼塘发现了小N同学的一篇文章\n效果\n教程修改post-copyright.pug打开themes\\butterfly\\layout\\includes\\post文件夹，将下列代码覆盖post-copyright.pug文件\nif theme.post_copyright.enable &amp;&amp; page.copyright !&#x3D;&#x3D; false\n  - let author &#x3D; page.copyright_author ? page.copyright_author : config.author\n  - let url &#x3D; page.copyright_url ? page.copyright_url : page.permalink\n  .post-copyright\n    .post-copyright__title\n      span.post-copyright-info\n        h #[&#x3D;page.title]\n    .post-copyright__type\n      span.post-copyright-info\n        a(href&#x3D;url_for(url))&#x3D; theme.post_copyright.decode ? decodeURI(url) : url\n    .post-copyright-m\n      .post-copyright-m-info\n        .post-copyright-a(style&#x3D;&quot;display: inline-block;width: 120px&quot;)\n            h 作者\n            .post-copyright-cc-info\n                h&#x3D;author\n        .post-copyright-c(style&#x3D;&quot;display: inline-block;width: 120px&quot;)\n            h 发布于\n            .post-copyright-cc-info\n                h&#x3D;date(page.date, config.date_format)\n        .post-copyright-u(style&#x3D;&quot;display: inline-block;width: 120px&quot;)\n            h 更新于\n            .post-copyright-cc-info\n                h&#x3D;date(page.updated, config.date_format)\n        .post-copyright-c(style&#x3D;&quot;display: inline-block;width: 120px&quot;)\n            h 许可协议\n            .post-copyright-cc-info\n                a.icon(rel&#x3D;&#39;noopener&#39; target&#x3D;&#39;_blank&#39; title&#x3D;&#39;Creative Commons&#39; href&#x3D;&#39;https:&#x2F;&#x2F;creativecommons.org&#x2F;&#39;)\n                  i.fab.fa-creative-commons\n                a(rel&#x3D;&#39;noopener&#39; target&#x3D;&#39;_blank&#39; title&#x3D;&#39;CC BY 4.0&#39; href&#x3D;&#39;https:&#x2F;&#x2F;creativecommons.org&#x2F;licenses&#x2F;by&#x2F;4.0&#x2F;deed.zh&#39;) CC BY 4.0\n\n\n\n\n\n\n\n\n\n注意，是覆盖，不是增加！\n修改post.styl打开themes\\butterfly\\source\\css_\\layout文件夹，修改post.styl文件\n如果是4.5.1，可以直接替换我改好的beautify()\n  headStyle(fontsize)\n    padding-left: unit(fontsize + 12, &#39;px&#39;)\n\n    &amp;:before\n      margin-left: unit((-(fontsize + 6)), &#39;px&#39;)\n      font-size: unit(fontsize, &#39;px&#39;)\n\n    &amp;:hover\n      padding-left: unit(fontsize + 18, &#39;px&#39;)\n\n  h1,\n  h2,\n  h3,\n  h4,\n  h5,\n  h6\n    transition: all .2s ease-out\n\n    &amp;:before\n      position: absolute\n      top: calc(50% - 7px)\n      color: $title-prefix-icon-color\n      content: $title-prefix-icon\n      line-height: 1\n      transition: all .2s ease-out\n      @extend .fontawesomeIcon\n\n    &amp;:hover\n      &amp;:before\n        color: $light-blue\n\n  h1\n    headStyle(20)\n\n  h2\n    headStyle(18)\n\n  h3\n    headStyle(16)\n\n  h4\n    headStyle(14)\n\n  h5\n    headStyle(12)\n\n  h6\n    headStyle(12)\n\n  ol,\n  ul\n    p\n      margin: 0 0 8px\n\n  li\n    &amp;::marker\n      color: $light-blue\n      font-weight: 600\n      font-size: 1.05em\n\n    &amp;:hover\n      &amp;::marker\n        color: var(--pseudo-hover)\n\n  ul &gt; li\n    list-style-type: circle\n\n#article-container\n  word-wrap: break-word\n  overflow-wrap: break-word\n\n  a\n    color: $theme-link-color\n\n    &amp;:hover\n      text-decoration: underline\n\n  img\n    display: block\n    margin: 0 auto 20px\n    max-width: 100%\n    transition: filter 375ms ease-in .2s\n\n  p\n    margin: 0 0 16px\n\n  iframe\n    margin: 0 0 20px\n\n  kbd\n    margin: 0 3px\n    padding: 3px 5px\n    border: 1px solid #b4b4b4\n    border-radius: 3px\n    background-color: #f8f8f8\n    box-shadow: 0 1px 3px rgba(0, 0, 0, .25), 0 2px 1px 0 rgba(255, 255, 255, .6) inset\n    color: #34495e\n    white-space: nowrap\n    font-weight: 600\n    font-size: .9em\n    font-family: Monaco, &#39;Ubuntu Mono&#39;, monospace\n    line-height: 1em\n\n  if hexo-config(&#39;anchor.button.enable&#39;)\n    a.headerlink\n      &amp;:after\n        @extend .fontawesomeIcon\n        float: right\n        color: var(--headline-presudo)\n        content: $archor-button-icon\n        font-size: .95em\n        transition: all .3s\n\n      &amp;:hover\n        &amp;:after\n          color: var(--pseudo-hover)\n\n    if !hexo-config(&#39;anchor.button.always_show&#39;)\n      a.headerlink\n        &amp;:after\n          opacity: 0\n\n      h1,\n      h2,\n      h3,\n      h4,\n      h5,\n      h6\n        &amp;:hover\n          a.headerlink\n            &amp;:after\n              opacity: 1\n\n  ol,\n  ul\n    ol,\n    ul\n      padding-left: 20px\n\n    li\n      margin: 4px 0\n\n    p\n      margin: 0 0 8px\n\n  if hexo-config(&#39;beautify.enable&#39;)\n    if hexo-config(&#39;beautify.field&#39;) &#x3D;&#x3D; &#39;site&#39;\n      beautify()\n    else if hexo-config(&#39;beautify.field&#39;) &#x3D;&#x3D; &#39;post&#39;\n      &amp;.post-content\n        beautify()\n\n  &gt; :last-child\n    margin-bottom: 0 !important\n\n#post\n  .tag_share\n    &amp;:after\n      display: block\n      clear: both\n      content: &#39;&#39;\n\n    .post-meta\n      &amp;__tag-list\n        display: inline-block\n\n      &amp;__tags\n        display: inline-block\n        margin: 8px 8px 8px 0\n        padding: 0 12px\n        width: fit-content\n        border: 1px solid $light-blue\n        border-radius: 12px\n        color: $light-blue\n        font-size: .85em\n        transition: all .2s ease-in-out\n\n        &amp;:hover\n          background: $light-blue\n          color: var(--white)\n\n    .post_share\n      display: inline-block\n      float: right\n      margin: 8px 0 0\n      width: fit-content\n\n      .social-share\n        font-size: .85em\n\n        .social-share-icon\n          margin: 0 4px\n          width: w &#x3D; 1.85em\n          height: w\n          font-size: 1.2em\n          line-height: w\n\n  .post-copyright\n    position: relative\n    margin: 40px 0 10px\n    padding: 10px 16px\n    border: 1px solid var(--light-grey)\n    transition: box-shadow .3s ease-in-out\n    overflow: hidden\n    border-radius: 12px!important\n    background-color: rgb(239 241 243)\n\n    &amp;:before\n      position absolute\n      right -26px\n      top -120px\n      content &#39;\\f25e&#39;\n      font-size 200px\n      font-family &#39;Font Awesome 5 Brands&#39;\n      opacity .2\n\n    &amp;:hover\n      box-shadow: 0 0 8px 0 rgba(232, 237, 250, .6), 0 2px 4px 0 rgba(232, 237, 250, .5)\n\n    .post-copyright\n      &amp;-meta\n        color: $light-blue\n        font-weight: bold\n\n      &amp;-info\n        padding-left: 6px\n\n        a\n          text-decoration: none\n          word-break: break-word\n\n          &amp;:hover\n            text-decoration: none\n   .post-copyright-cc-info\n    color: $theme-color;\n\n  .post-outdate-notice\n    position: relative\n    margin: 0 0 20px\n    padding: .5em 1.2em\n    border-radius: 3px\n    background-color: $noticeOutdate-bg\n    color: $noticeOutdate-color\n\n    if hexo-config(&#39;noticeOutdate.style&#39;) &#x3D;&#x3D; &#39;flat&#39;\n      padding: .5em 1em .5em 2.6em\n      border-left: 5px solid $noticeOutdate-border\n\n      &amp;:before\n        @extend .fontawesomeIcon\n        position: absolute\n        top: 50%\n        left: .9em\n        color: $noticeOutdate-border\n        content: &#39;\\f071&#39;\n        transform: translateY(-50%)\n\n  .ads-wrap\n    margin: 40px 0\n\n其他版本自己改吧修改范围：.post-copyright至 .post-outdate-notice\n  .post-copyright\n    position: relative\n    margin: 2rem 0 .5rem\n    padding: .5rem .8rem\n    border: 1px solid var(--light-grey)\n    transition: box-shadow .3s ease-in-out\n+   overflow: hidden\n+   border-radius: 12px!important\n+   background-color: rgb(239 241 243)\n\n    &amp;:before\n-     @extend .fontawesomeIcon\n-     position: absolute\n-     top: .1rem\n-     right: .6rem\n-     color: $theme-color\n-     content: &#39;\\f1f9&#39;\n-     font-size: 1rem\n+     position absolute\n+     right -26px\n+     top -120px\n+     content &#39;\\f25e&#39;\n+     font-size 200px\n+     font-family &#39;Font Awesome 5 Brands&#39;\n+     opacity .2\n\n    &amp;:hover\n      box-shadow: 0 0 8px 0 rgba(232, 237, 250, .6), 0 2px 4px 0 rgba(232, 237, 250, .5)\n\n    .post-copyright\n      &amp;-meta\n        color: $light-blue\n        font-weight: bold\n\n      &amp;-info\n        padding-left: .3rem\n\n        a\n-         text-decoration: underline\n+         text-decoration: none\n          word-break: break-word\n\n          &amp;:hover\n            text-decoration: none\n\n+ .post-copyright-cc-info\n+   color: $theme-color;\n\n  .post-outdate-notice\n    position: relative\n    margin: 0 0 1rem\n    padding: .5em 1.2em\n    border-radius: 15px\n    background-color: $noticeOutdate-bg\n    color: $noticeOutdate-color\n\n自定义css新建copyright.css，适配夜间模式和美化字体样式\n[data-theme&#x3D;&quot;dark&quot;]\n  #post .post-copyright &#123;\n    background-color: rgb(7 8 10);\n    text-shadow: #bfbeb8 1px 0 4px;\n  &#125;\n[data-theme&#x3D;&quot;dark&quot;]\n  #post .post-copyright &#123;\n    border: 1px solid rgb(19 18 18 &#x2F; 35%);\n  &#125;\n[data-theme&#x3D;&quot;dark&quot;]\n  .post-copyright-info &#123;\n    color: #e0e0e4;\n  &#125;\n#post .post-copyright__title&#123;\n    font-size:22px;\n&#125;\n#post .post-copyright__notice&#123;\n    font-size:15px;\n&#125;\n\n引入inject:\n  head\n    - &lt;link rel&#x3D;&quot;stylesheet&quot; href&#x3D;&quot;&#x2F;css&#x2F;copyright.css&quot;&gt;\n  bottom:\n  \t- xxx\n\n\n\n\n\n\n\n\n\n\n可以直接引入我的cdn\n- &lt;link rel&#x3D;&quot;stylesheet&quot; href&#x3D;&quot;https:&#x2F;&#x2F;cdn-3ie.pages.dev&#x2F;copyright.css&quot;&gt;\n\n","slug":"butterfly版权美化教程","date":"2023-01-03T00:55:11.000Z","categories_index":"魔改","tags_index":"hexo,butterfly","author_index":"丐帮GB"},{"id":"d0e96aad97386c1003966645cb8281b3","title":"洪哥侧栏toc效果实现","content":"效果\n实现在自定义的css文件中添加：\n\n@media screen and (max-width: 768px) &#123;\n  #aside-content .card-widget:not(#card-toc) &#123;\n      display: none;\n  &#125;\n&#125;\n@media screen and (min-width: 901px) &#123;\n  #aside-content #card-toc &#123;\n      right: 0px !important;\n  &#125;\n&#125;\n\n@media screen and (max-width: 900px) &#123;\n  #aside-content #card-toc &#123;\n      position: fixed;\n      right: -100%;\n      bottom: 30px;\n      z-index: 100;\n      max-height: calc(100% - 60px);\n      width: 300px;\n      opacity: 0;\n      transform-origin: right bottom;\n  &#125;\n&#125;\n\n#aside-content #card-toc .toc-content &#123;\n  overflow-y: auto;\n  max-height: calc(100vh - 120px);\n&#125;\n\n@media screen and (max-width: 900px) &#123;\n  #aside-content #card-toc .toc-content &#123;\n      max-height: calc(100vh - 140px);\n  &#125;\n&#125;\n\n#aside-content #card-toc .toc-content .toc-child &#123;\n  display: none;\n&#125;\n\n@media screen and (max-width: 900px) &#123;\n  #aside-content #card-toc .toc-content .toc-child &#123;\n      display: block !important;\n  &#125;\n&#125;\n\n#aside-content #card-toc .toc-content .toc-item.active .toc-child &#123;\n  display: block;\n&#125;\n\n#aside-content #card-toc .toc-content li, #aside-content #card-toc .toc-content ol &#123;\n  list-style: none;\n&#125;\n\n#aside-content #card-toc .toc-content &gt; ol &#123;\n  padding: 0px !important;\n&#125;\n\n#aside-content #card-toc .toc-content ol &#123;\n  margin: 0px;\n  padding-left: 0.4rem;\n&#125;\n\n#aside-content #card-toc .toc-content .toc-link &#123;\n  display: block;\n  padding-left: 0.3rem;\n  border-left: 3px solid transparent;\n  color: var(--toc-link-color);\n  transition: all 0.2s ease-in-out 0s;\n&#125;\n\n#aside-content #card-toc .toc-content .toc-link.active &#123;\n  border-left-color: rgb(0, 97, 204);\n  background: rgb(0, 121, 255);\n  color: rgb(255, 255, 255);\n&#125;\n\n#aside-content #card-toc .toc-content::before &#123;\n  position: absolute;\n  top: 0.6rem;\n  right: 1.2rem;\n  color: rgb(169, 169, 169);\n  content: attr(progress-percentage);\n  font-style: italic;\n  font-size: 1.2rem;\n&#125;\n\n#aside-content #card-toc .toc-content .toc-link.active &#123;\n  line-height: 1.2;\n  border-radius: 12px;\n  border-left-color: var(--heo-hovertext);\n  background-color: var(--heo-card-bg);\n  color: var(--heo-lighttext);\n  font-weight: 700;\n  font-size: 20px;\n&#125;\n\n[data-theme&#x3D;&quot;dark&quot;].toc .toc-item.active .toc-link .toc-text &#123;\n  color: var(--heo-white);\n&#125;\n\n#aside-content #card-toc .toc-content .toc-item.active .toc-link &#123;\n  opacity: 1;\n  border-radius: 8px;\n&#125;\n\n#aside-content #card-toc .toc-content .toc-link &#123;\n  line-height: 1.2;\n  padding: 8px;\n  border-left: 0px solid transparent;\n  border-radius: 12px;\n  color: var(--heo-secondtext);\n  cursor: default;\n&#125;\n\n#aside-content #card-toc .toc-content .toc-link:not(.active) span &#123;\n  opacity: 0.6;\n  cursor: pointer;\n  filter: blur(1px);\n  transition: all 0.3s ease 0s;\n&#125;\n\n#aside-content #card-toc:hover .toc-content .toc-link:not(.active) span &#123;\n  filter: blur(0px);\n  opacity: 1;\n&#125;\n\n#aside-content #card-toc .toc-content .toc-link:not(.active) span:hover &#123;\n  color: var(--heo-lighttext);\n&#125;\n\n#card-toc &#123;\n  padding: 0.5rem !important;\n&#125;\n\n#aside-content #card-toc .toc-content::before &#123;\n  display: none;\n&#125;","slug":"洪哥侧栏toc效果实现","date":"2023-01-03T00:42:00.000Z","categories_index":"魔改","tags_index":"hexo,butterfly","author_index":"丐帮GB"},{"id":"6bfec21623ca912ab651f6f4aed62725","title":"hexo添加音乐页面","content":"前言没有音乐页面怎么行，花里胡哨的都安排上，本来想摆烂直接上aplayer，但考虑到网站速度以及aplayer的稳定性（和卜算子日常歇菜），还是弄个音乐播放器放自己本地的音乐好，又快又稳定。在网上找了个能用的h5播放器源码(找不到原作者)，适配下pjax和hexo，再改改样式就完成啦：查看音乐页面\n实现新建music单页，cv以下内容覆盖原内容：\n\n\n\n\n\n\n\n\n\n在轻笑Chuckle的基础上修改，不用下载图片资源\n---\ntitle: 🎵音乐🎵\ndate: 2023-01-02 15:13:35\ncomments: false\naside: false\n---\n&lt;script type&#x3D;&quot;text&#x2F;javascript&quot;&gt;alert(&quot;本页面音频由cloudflRE加速&quot;);&lt;&#x2F;script&gt;\n&#123;% raw %&#125;\n&lt;!-- 播放器 --&gt;\n&lt;div class&#x3D;&quot;music-player&quot;&gt;\n\t&lt;!-- audio标签 --&gt;\n\t&lt;audio class&#x3D;&quot;music-player__audio&quot; &gt;&lt;&#x2F;audio&gt;\n\t&lt;!-- 播放器主体 --&gt;\n\t&lt;div class&#x3D;&quot;music-player__main&quot;&gt;\n\t\t&lt;!-- 模糊背景 --&gt;\n\t\t&lt;div class&#x3D;&quot;music-player__blur&quot;&gt;&lt;&#x2F;div&gt;\n\t\t&lt;!-- 唱片 --&gt;\n\t\t&lt;div class&#x3D;&quot;music-player__disc&quot;&gt;\n\t\t\t&lt;!-- 唱片图片 --&gt;\n\t\t\t&lt;div class&#x3D;&quot;music-player__image&quot;&gt;\n\t\t\t\t&lt;img width&#x3D;&quot;100%&quot; src&#x3D;&quot;&quot; alt&#x3D;&quot;&quot;&gt;\n\t\t\t&lt;&#x2F;div&gt;\n\t\t\t&lt;!-- 指针 --&gt;\n\t\t\t&lt;div class&#x3D;&quot;music-player__pointer&quot;&gt;&lt;img width&#x3D;&quot;100%&quot; src&#x3D;&quot;https:&#x2F;&#x2F;bj.bcebos.com&#x2F;baidu-rmb-video-cover-1&#x2F;3777562b2cc6d71a8a3bbc3394c1d42b.png&quot; alt&#x3D;&quot;&quot;&gt;&lt;&#x2F;div&gt;\n\t\t&lt;&#x2F;div&gt;\n\t\t&lt;!-- 控件主体 --&gt;\n\t\t&lt;div class&#x3D;&quot;music-player__controls&quot;&gt;\n\t\t\t&lt;!-- 歌曲信息 --&gt;\n\t\t\t&lt;div class&#x3D;&quot;music__info&quot;&gt;\n\t\t\t\t&lt;h3 class&#x3D;&quot;music__info--title&quot;&gt;...&lt;&#x2F;h3&gt;\n\t\t\t&lt;&#x2F;div&gt;\n\t\t\t&lt;!-- 控件... --&gt;\n\t\t\t&lt;div class&#x3D;&quot;player-control&quot;&gt;\n\t\t\t\t&lt;div class&#x3D;&quot;player-control__content&quot;&gt;\n\t\t\t\t\t&lt;div class&#x3D;&quot;player-control__btns&quot;&gt;\n\t\t\t\t\t\t&lt;div class&#x3D;&quot;player-control__btn player-control__btn--prev&quot;&gt;&lt;i class&#x3D;&quot;iconfont icon-prev&quot;&gt;&lt;&#x2F;i&gt;&lt;&#x2F;div&gt;\n\t\t\t\t\t\t&lt;div class&#x3D;&quot;player-control__btn player-control__btn--play&quot;&gt;&lt;i class&#x3D;&quot;iconfont icon-play&quot;&gt;&lt;&#x2F;i&gt;&lt;&#x2F;div&gt;\n\t\t\t\t\t\t&lt;div class&#x3D;&quot;player-control__btn player-control__btn--next&quot;&gt;&lt;i class&#x3D;&quot;iconfont icon-next&quot;&gt;&lt;&#x2F;i&gt;&lt;&#x2F;div&gt;\n\t\t\t\t\t\t&lt;div class&#x3D;&quot;player-control__btn player-control__btn--mode&quot;&gt;&lt;i class&#x3D;&quot;iconfont icon-random&quot;&gt;&lt;&#x2F;i&gt;&lt;&#x2F;div&gt;\n\t\t\t\t\t&lt;&#x2F;div&gt;\n\t\t\t\t\t&lt;div class&#x3D;&quot;player-control__volume&quot;&gt;\n\t\t\t\t\t\t&lt;div class&#x3D;&quot;control__volume--icon player-control__btn&quot;&gt;&lt;i class&#x3D;&quot;iconfont icon-volume&quot;&gt;&lt;&#x2F;i&gt;&lt;&#x2F;div&gt;\n\t\t\t\t\t\t&lt;div class&#x3D;&quot;control__volume--progress progress&quot;&gt;&lt;&#x2F;div&gt;\n\t\t\t\t\t&lt;&#x2F;div&gt;\n\t\t\t\t&lt;&#x2F;div&gt;\n\t\t\t\t&lt;div class&#x3D;&quot;player-control__content&quot;&gt;\n\t\t\t\t\t&lt;div class&#x3D;&quot;player__song--progress progress&quot;&gt;&lt;&#x2F;div&gt;\n\t\t\t\t\t&lt;div class&#x3D;&quot;player__song--timeProgess nowTime&quot;&gt;00:00&lt;&#x2F;div&gt;\n\t\t\t\t\t&lt;div class&#x3D;&quot;player__song--timeProgess totalTime&quot;&gt;00:00&lt;&#x2F;div&gt;\n\t\t\t\t&lt;&#x2F;div&gt;\n\t\t\t&lt;&#x2F;div&gt;\n\t\t&lt;&#x2F;div&gt;\n\t&lt;&#x2F;div&gt;\n\t&lt;!-- 歌曲列表 --&gt;\n\t&lt;div class&#x3D;&quot;music-player__list&quot;&gt;\n\t\t&lt;ul class&#x3D;&quot;music__list_content&quot;&gt;\n\t\t&lt;&#x2F;ul&gt;\n\t&lt;&#x2F;div&gt;\n&lt;&#x2F;div&gt;\n&lt;script src&#x3D;&quot;&#x2F;js&#x2F;utill.js&quot;&gt;&lt;&#x2F;script&gt;\n&lt;script src&#x3D;&quot;https:&#x2F;&#x2F;cdn.bootcdn.net&#x2F;ajax&#x2F;libs&#x2F;jquery&#x2F;3.6.0&#x2F;jquery.slim.min.js&quot;&gt;&lt;&#x2F;script&gt;\n&lt;script src&#x3D;&quot;&#x2F;js&#x2F;player.js?10&quot;&gt;&lt;&#x2F;script&gt;\n&lt;div style&#x3D;&quot;text-align:center;margin:-100px 0; font:normal 14px&#x2F;24px &#39;MicroSoft YaHei&#39;;color:#ffffff&quot;&gt;&lt;&#x2F;div&gt;\n\n&#123;% endraw %&#125;\n\n在blog\\source\\music下新建songs和images文件夹，songs内直接放入歌曲。再在images文件夹内新建songs文件夹，里面放歌曲封面。在blog\\source\\img内放入这两张图片cd.png，cd_tou.png。已经改为图片链接，但不保证一直有效 在\\blog\\themes\\butterfly\\source\\js新建player.js。\n&#x2F;&#x2F;创建一个音乐播放器的类 单例模式\nclass Player &#123;\n    constructor() &#123; &#x2F;&#x2F;类的构造函数\n        &#x2F;&#x2F;如果没有实例化，就去构造一个实例\n        return this.getInstance(...arguments);\n    &#125;\n\n    &#x2F;&#x2F;构建实例\n    getInstance() &#123;\n        let instance &#x3D; new PlayerCreator(...arguments);\n        &#x2F;&#x2F;让实例可以使用到Player的原型的属性方法\n        &#x2F;&#x2F; instance.__proto__&#x3D;Player.prototype;\n        &#x2F;&#x2F; instance.constructor&#x3D;Player;\n        &#x2F;&#x2F;把构建好的实例挂在Player类上\n        Player.instance &#x3D; instance;\n        return instance;\n    &#125;\n&#125;\n\n&#x2F;&#x2F;歌曲信息\nclass Musics &#123;\n    &#x2F;&#x2F;歌曲\n    constructor() &#123;\n        this.songs &#x3D; [&#123;\n                id: 1,\n                title: &#39;golden hour - JVKE&#39;,\n                singer: &#39;golden hour - JVKE&#39;,\n                songUrl: &#39;#&#39;,\n                imageUrl: &#39;#&#39;\n            &#125;,\n            &#123;\n                id: 2,\n                title: &#39;面壁者 - G.E.M.邓紫棋&#39;,\n                singer: &#39;面壁者 - G.E.M.邓紫棋&#39;,\n                songUrl: &#39;#&#39;,\n                imageUrl: &#39;#&#39;\n            &#125;,\n\t\t\t&#123;\n                id: 3,\n                title: &#39;Bones - Imagine Dragons&#39;,\n                singer: &#39;Bones - Imagine Dragons&#39;,\n                songUrl: &#39;#&#39;,\n                imageUrl: &#39;#&#39;\n            &#125;,\n            &#123;\n                id: 4,\n                title: &#39;Cash Me Outside Rap - ROY PURDY&#39;,\n                singer: &#39;Cash Me Outside Rap - ROY PURDY&#39;,\n                songUrl: &#39;#&#39;,\n                imageUrl: &#39;#&#39;\n            &#125;,\n\t\t\t&#123;\n                id: 5,\n                title: &#39;In The Shadow Of The Sun - Professor Green&#39;,\n                singer: &#39;In The Shadow Of The Sun - Professor Green&#39;,\n                songUrl: &#39;#&#39;,\n                imageUrl: &#39;#&#39;\n            &#125;,\n            &#123;\n                id: 6,\n                title: &#39;NUMB - XXXTENTACION&#39;,\n                singer: &#39;NUMB - XXXTENTACION&#39;,\n                songUrl: &#39;#&#39;,\n                imageUrl: &#39;https:&#x2F;&#x2F;bj.bcebos.com&#x2F;baidu-rmb-video-cover-1&#x2F;917bac8662fd8995f985f9160e1a48ad.jpeg&#39;\n            &#125;,\n            &#123;\n                id: 7,\n                title: &#39;Slow Down - Madnap、Pauline Herr&#39;,\n                singer: &#39;Slow Down - Madnap、Pauline Herr&#39;,\n                songUrl: &#39;#&#39;,\n                imageUrl: &#39;https:&#x2F;&#x2F;bj.bcebos.com&#x2F;baidu-rmb-video-cover-1&#x2F;c343acd552ec89fa3a96a4f5d1d063be.jpeg&#39;\n            &#125;,\n        ]\n    &#125;\n    &#x2F;&#x2F;根据索引获取歌曲的方法\n    getSongByNum(index) &#123;\n        return this.songs[index];\n    &#125;\n&#125;\n\n&#x2F;&#x2F;真正的构建播放器的类\nclass PlayerCreator &#123;\n    constructor() &#123;\n        this.audio &#x3D; document.querySelector(&#39;.music-player__audio&#39;) &#x2F;&#x2F; Audio dom元素, 因为很多api都是需要原生audio调用的，所以不用jq获取\n        &#x2F;&#x2F; this.audio.muted &#x3D; true; &#x2F;&#x2F; 控制静音\n        this.audio.volume &#x3D; 0.2;\n\n        &#x2F;&#x2F;工具\n        this.util &#x3D; new Util();\n        this.musics &#x3D; new Musics(); &#x2F;&#x2F;歌曲信息\n        this.song_index &#x3D; 0; &#x2F;&#x2F; 当前播放的歌曲索引\n        this.loop_mode &#x3D; 1; &#x2F;&#x2F; 1 2\n        &#x2F;&#x2F; 下方歌曲列表容器\n        this.song_list &#x3D; $(&#39;.music__list_content&#39;);\n\n        this.render_doms &#x3D; &#123; &#x2F;&#x2F;切换歌曲时需要渲染的dom组\n            title: $(&#39;.music__info--title&#39;),\n            singer: $(&#39;.music__info--singer&#39;),\n            image: $(&#39;.music-player__image img&#39;),\n            blur: $(&#39;.music-player__blur&#39;)\n        &#125;\n        this.ban_dom &#x3D; &#123; &#x2F;&#x2F;禁音时需要渲染的dom组\n            control__btn: $(&#39;.control__volume--icon&#39;)\n        &#125;\n\n        &#x2F;&#x2F; 时间显示容器\n        this.render_time &#x3D; &#123;\n            now: $(&#39;.nowTime&#39;),\n            total: $(&#39;.totalTime&#39;)\n        &#125;\n\n        &#x2F;&#x2F; 唱片\n        this.disc &#x3D; &#123;\n            image: $(&#39;.music-player__image&#39;),\n            pointer: $(&#39;.music-player__pointer&#39;)\n        &#125;;\n        &#x2F;&#x2F;播放器初始化\n        this.init();\n    &#125;\n    &#x2F;&#x2F;初始化函数\n    init() &#123;\n        this.renderSongList();\n        this.renderSongStyle();\n        this.bindEventListener();\n    &#125;\n    &#x2F;&#x2F;生成播放列表\n    renderSongList() &#123;\n        let _str &#x3D; &#39;&#39;;\n        this.musics.songs.forEach((song, i) &#x3D;&gt; &#123;\n            _str +&#x3D; &#96;&lt;li class&#x3D;&quot;music__list__item&quot;&gt;$&#123;song.title&#125;&lt;&#x2F;li&gt;&#96;\n        &#125;);\n        this.song_list.html(_str);\n    &#125;\n\n    &#x2F;&#x2F;根据歌曲去渲染视图\n    renderSongStyle() &#123;\n        let &#123;\n            title,\n            singer,\n            songUrl,\n            imageUrl\n        &#125; &#x3D; this.musics.getSongByNum(this.song_index);\n        this.audio.src &#x3D; songUrl;\n        this.render_doms.title.html(title);\n        this.render_doms.singer.html(singer);\n        this.render_doms.image.prop(&#39;src&#39;, imageUrl);\n        this.render_doms.blur.css(&#39;background-image&#39;, &#39;url(&quot;&#39; + imageUrl + &#39;&quot;)&#39;);\n\n        &#x2F;&#x2F;切换列表中的item的类名 play\n        this.song_list.find(&#39;.music__list__item&#39;).eq(this.song_index).addClass(&#39;play&#39;).siblings().removeClass(&#39;play&#39;);\n    &#125;\n    &#x2F;&#x2F;绑定各种事件\n    bindEventListener() &#123;\n        &#x2F;&#x2F;播放按钮\n        this.$play &#x3D; new Btns(&#39;.player-control__btn--play&#39;, &#123;\n            click: this.handlePlayAndPause.bind(this)\n        &#125;);\n        &#x2F;&#x2F;上一首\n        this.$prev &#x3D; new Btns(&#39;.player-control__btn--prev&#39;, &#123;\n            click: this.changeSong.bind(this, &#39;prev&#39;)\n        &#125;);\n        &#x2F;&#x2F;下一首\n        this.$next &#x3D; new Btns(&#39;.player-control__btn--next&#39;, &#123;\n            click: this.changeSong.bind(this, &#39;next&#39;)\n        &#125;);\n        &#x2F;&#x2F;循环模式\n        this.$mode &#x3D; new Btns(&#39;.player-control__btn--mode&#39;, &#123;\n            click: this.changePlayMode.bind(this)\n        &#125;);\n        &#x2F;&#x2F;禁音\n        this.$ban &#x3D; new Btns(&#39;.control__volume--icon&#39;, &#123;\n            click: this.banNotes.bind(this)\n        &#125;)\n        &#x2F;&#x2F;列表点击\n        this.song_list.on(&#39;click&#39;, &#39;li&#39;, (e) &#x3D;&gt; &#123;\n            let index &#x3D; $(e.target).index();\n            this.changeSong(index);\n        &#125;)\n\n        &#x2F;&#x2F;音量控制 audio标签音量 vlouem 属性控制0-1\n\n        new Progress(&#39;.control__volume--progress&#39;, &#123;\n            min: 0,\n            max: 1,\n            value: this.audio.volume,\n            handler: (value) &#x3D;&gt; &#123; &#x2F;&#x2F;更改进度时\n                this.audio.volume &#x3D; value;\n            &#125;\n        &#125;)\n        &#x2F;&#x2F;歌曲进度 this.audio.duration\n        &#x2F;&#x2F;可以播放的时候触发（歌曲的基本信息都已经获取到了）\n        this.audio.oncanplay &#x3D; () &#x3D;&gt; &#123;\n            &#x2F;&#x2F;避免重复实例化\n            if (this.progress) &#123;\n                this.progress.max &#x3D; this.audio.duration; &#x2F;&#x2F;切换歌曲后更新时长\n                this.render_time.total.html(this.util.formatTime(this.audio.duration));\n                return false;\n            &#125;;\n            this.progress &#x3D; new Progress(&#39;.player__song--progress&#39;, &#123;\n                min: 0,\n                max: this.audio.duration,\n                value: 0,\n                handler: (value) &#x3D;&gt; &#123;\n                    this.audio.currentTime &#x3D; value;\n                &#125;\n            &#125;)\n            &#x2F;&#x2F;调整总时长\n            this.render_time.total.html(this.util.formatTime(this.audio.duration));\n        &#125;\n\n        &#x2F;&#x2F;会在播放的时候持续触发\n        this.audio.ontimeupdate &#x3D; () &#x3D;&gt; &#123;\n            this.progress.setValue(this.audio.currentTime);\n            &#x2F;&#x2F;调整当前时长\n            this.render_time.now.html(this.util.formatTime(this.audio.currentTime));\n        &#125;\n\n        &#x2F;&#x2F;当歌曲播放完成的时候\n        this.audio.onended &#x3D; () &#x3D;&gt; &#123;\n            this.changeSong(&#39;next&#39;);\n            &#x2F;&#x2F;播放完，换歌后，重新播放\n            this.audio.play();\n        &#125;\n\n    &#125;\n\n    &#x2F;&#x2F;播放暂停控制\n    handlePlayAndPause() &#123;\n        let _o_i &#x3D; this.$play.$el.find(&#39;i&#39;);\n        &#x2F;&#x2F;this.audio.pauseed值为true 说明目前是不播放\n        if (this.audio.paused) &#123; &#x2F;&#x2F;现在是暂停的 要播放\n            this.audio.play();\n            _o_i.removeClass(&#39;icon-play&#39;).addClass(&#39;icon-pause&#39;);\n            this.disc.image.addClass(&#39;play&#39;);\n            this.disc.pointer.addClass(&#39;play&#39;)\n        &#125; else &#123;\n            this.audio.pause();\n            _o_i.addClass(&#39;icon-play&#39;).removeClass(&#39;icon-pause&#39;);\n            this.disc.image.removeClass(&#39;play&#39;);\n            this.disc.pointer.removeClass(&#39;play&#39;);\n        &#125;\n    &#125;\n\n    &#x2F;&#x2F;更改循环模式\n    changePlayMode() &#123;\n        this.loop_mode++;\n        if (this.loop_mode &gt; 2) this.loop_mode &#x3D; 0;\n        this.renderPlayMode();\n    &#125;\n    &#x2F;&#x2F;更改按钮样式\n    renderPlayMode() &#123;\n        let _classess &#x3D; [&#39;loop&#39;, &#39;random&#39;, &#39;single&#39;];\n        let _o_i &#x3D; this.$mode.$el.find(&#39;i&#39;);\n        &#x2F;&#x2F;prop 改一些标签的自有属性 attr改一些标签的自定义属性\n        _o_i.prop(&#39;class&#39;, &#39;iconfont icon-&#39; + _classess[this.loop_mode])\n    &#125;\n    &#x2F;&#x2F;更改歌曲索引\n    changeSongIndex(type) &#123;\n        if (typeof type &#x3D;&#x3D;&#x3D; &#39;number&#39;) &#123;\n            this.song_index &#x3D; type;\n        &#125; else &#123;\n            if (this.loop_mode &#x3D;&#x3D;&#x3D; 0) &#123;\n                &#x2F;&#x2F;列表循环\n                this.song_index +&#x3D; type &#x3D;&#x3D;&#x3D; &#39;next&#39; ? 1 : -1;\n                if (this.song_index &gt; this.musics.songs.length - 1) this.song_index &#x3D; 0;\n                if (this.song_index &lt; 0) this.song_index &#x3D; this.musics.songs.length - 1;\n            &#125; else if (this.loop_mode &#x3D;&#x3D;&#x3D; 1) &#123;\n                &#x2F;&#x2F;随机播放\n                let _length &#x3D; this.musics.songs.length;\n                let _random &#x3D; Math.floor(Math.random() * _length);\n                for (let i &#x3D; 0; i &lt; 10000; i++) &#123; &#x2F;&#x2F;随机的数为本身则继续随机\n                    if (this.song_index &#x3D;&#x3D; _random) &#123;\n                        _random &#x3D; Math.floor(Math.random() * _length);\n                    &#125; else &#123;\n                        this.song_index &#x3D; _random;\n                        break;\n                    &#125;\n                &#125;\n            &#125; else if (this.loop_mode &#x3D;&#x3D;&#x3D; 2) &#123;\n                this.song_index &#x3D; this.song_index;\n            &#125;\n        &#125;\n    &#125;\n    &#x2F;&#x2F;歌曲时长\n    songTime() &#123;\n        let totalMinute &#x3D; parseInt(this.audio.duration &#x2F; 60) &lt; 10 ? &quot;0&quot; + parseInt(this.audio.duration &#x2F; 60) : parseInt(this.audio.duration &#x2F; 60);\n        let totalSecond &#x3D; parseInt(this.audio.duration % 60) &lt; 10 ? &quot;0&quot; + parseInt(this.audio.duration % 60) : parseInt(this.audio.duration % 60);\n        $(&#39;.totalTime&#39;).text(totalMinute + &#39;:&#39; + totalSecond);\n    &#125;\n    &#x2F;&#x2F;切换歌曲\n    changeSong(type) &#123;\n        &#x2F;&#x2F;更改索引\n        this.changeSongIndex(type);\n        &#x2F;&#x2F;记录切歌前的状态\n        let _is_pause &#x3D; this.audio.paused;\n        &#x2F;&#x2F;切歌后更改视图显示\n        this.renderSongStyle();\n        &#x2F;&#x2F;如果切歌前是在播放，就继续播放\n        if (!_is_pause) this.audio.play();\n    &#125;\n    &#x2F;&#x2F;禁音\n    banNotes() &#123;\n        let _o_i &#x3D; this.$ban.$el.find(&quot;i&quot;);\n        if (this.audio.muted &#x3D;&#x3D; true) &#123; &#x2F;&#x2F;如果禁音则开启\n            this.audio.muted &#x3D; false;\n            _o_i.removeClass(&#39;icon-muted&#39;).addClass(&#39;icon-volume&#39;);\n        &#125; else &#123;\n            this.audio.muted &#x3D; true;\n            _o_i.removeClass(&#39;icon-volume&#39;).addClass(&#39;icon-muted&#39;);\n        &#125;\n    &#125;\n&#125;\n\n&#x2F;&#x2F;进度条\nclass Progress &#123;\n    constructor(selector, options) &#123;\n        $.extend(this, options);\n        &#x2F;&#x2F;&#x2F;给this挂载传入的参数\n        this.$el &#x3D; $(selector);\n        this.width &#x3D; this.$el.width();\n        this.init();\n    &#125;\n\n    &#x2F;&#x2F;进度条初始化\n    init() &#123;\n        this.renderBackAndPointer();\n        this.bindEvents();\n        this.drag();\n        this.value;\n        this.changeDOMStyle(this.width * this.value);\n    &#125;\n    &#x2F;&#x2F;为进度条渲染back和pointer\n    renderBackAndPointer() &#123;\n        this.$back &#x3D; $(&#39;&lt;div class&#x3D;&quot;back&quot;&gt;&#39;);\n        this.$pointer &#x3D; $(&#39;&lt;div class&#x3D;&quot;pointer&quot;&gt;&#39;);\n\n        this.$el.append(this.$back);\n        this.$el.append(this.$pointer);\n    &#125;\n\n    setValue(value) &#123; &#x2F;&#x2F;主动调用，传入value值，设置进度条样式\n        let _distance &#x3D; this.width * value &#x2F; (this.max - this.min);\n        this.changeDOMStyle(_distance);\n    &#125;\n\n    drag() &#123;\n        let ele &#x3D; this.$pointer;\n        let father &#x3D; this.$el;\n        let flag &#x3D; false; &#x2F;&#x2F;鼠标是否点击\n        ele.mousedown((e) &#x3D;&gt; &#123;\n            flag &#x3D; true;\n            let mousePos &#x3D; &#123;\n                x: e.offsetX\n            &#125;\n            $(document).mousemove((e) &#x3D;&gt; &#123;\n                if (flag &#x3D;&#x3D;&#x3D; true) &#123;\n                    let _left &#x3D; e.clientX - father.offset().left - mousePos.x;\n                    let _distance &#x3D; Math.max(0, Math.min(_left, father.outerWidth(false) - ele.outerWidth(false)))\n                    let _ratio &#x3D; _distance &#x2F; father.outerWidth(false);\n                    let _value &#x3D; _ratio * (this.max - this.min); &#x2F;&#x2F;当前的音量值\n                    this.changeDOMStyle(_distance);\n                    this.handler(_value); &#x2F;&#x2F;更改进度之后，执行回调\n                &#125;\n            &#125;)\n        &#125;)\n        $(document).mouseup(() &#x3D;&gt; &#123;\n            flag &#x3D; false;\n        &#125;)\n\n    &#125;\n\n    bindEvents() &#123; &#x2F;&#x2F;鼠标点击时更改\n        this.$el.click((e) &#x3D;&gt; &#123;\n            let _x &#x3D; e.offsetX; &#x2F;&#x2F;鼠标距离元素左边的距离\n            let _ratio &#x3D; _x &#x2F; this.width;\n            let _value &#x3D; _ratio * (this.max - this.min); &#x2F;&#x2F;当前的音量值\n            this.changeDOMStyle(_x);\n            this.handler(_value); &#x2F;&#x2F;更改进度之后，执行回调\n        &#125;)\n    &#125;\n    &#x2F;&#x2F;更改pointer和back\n    changeDOMStyle(distance) &#123;\n        this.$back.width(distance + 7 &#x3D;&#x3D; 7 ? 0 : distance + 7);&#x2F;&#x2F;进度为0时将进度条背景改为0否则加上进度按钮的长度\n        this.$pointer.css(&#39;left&#39;, distance + &#39;px&#39;);\n    &#125;\n&#125;\n\n\n&#x2F;&#x2F;按钮类 \nclass Btns &#123;\n    constructor(selector, handlers) &#123;\n        this.$el &#x3D; $(selector); &#x2F;&#x2F;元素\n        this.bindEvents(handlers);\n    &#125;\n    bindEvents(handlers) &#123; &#x2F;&#x2F;绑定事件\n        for (const event in handlers) &#123;\n            &#x2F;&#x2F;使用值的时候保证键值对在对象中是存在的\n            if (handlers.hasOwnProperty(event)) &#123;\n                this.$el.on(event, handlers[event]);\n            &#125;\n        &#125;\n    &#125;\n&#125;\nnew Player();\ndocument.addEventListener(&#39;pjax:complete&#39;, (e) &#x3D;&gt; &#123;\n    new Player();\n&#125;)\n\n在\\blog\\themes\\butterfly\\source\\js新建utill.js。\nclass Util &#123;\n    constructor() &#123;\n        if (Util.instance) return Util.instance;\n        return this.getInstance(...arguments);\n    &#125;\n\n    getInstance() &#123;\n        var instance &#x3D; &#123;\n            &#x2F;*\n             *   formatTime 格式化时间（s）为 hour:minutes:seconds\n             *   @params  time  required number (s)\n             *   \n             *   return hour:minutes:seconds string\n             *&#x2F;\n\n            formatTime(time) &#123;\n                &#x2F;&#x2F;没有传time的时候\n                if (time &#x3D;&#x3D;&#x3D; undefined) &#123;\n                    this.handlerError(123, &#123;\n                        method: &#39;formate&#39;,\n                        param: &#39;time&#39;\n                    &#125;);\n                    return false;\n                &#125;\n                let _time &#x3D; Math.floor(time);\n                let _minutes &#x3D; Math.floor(_time &#x2F; 60);\n                let _hours &#x3D; Math.floor(_minutes &#x2F; 60);\n                let _seconds &#x3D; _time - (_minutes * 60);\n\n                return (_hours ? this.fillZero(_hours) + &#39;:&#39; : &#39;&#39;) + this.fillZero(_minutes - (_hours * 60)) + &#39;:&#39; + this.fillZero(_seconds);\n            &#125;,\n            &#x2F;*\n             *   fillZero 为小于10的数字补0\n             *   @params  num  required number\n             *   return &#39;01&#39;.. string\n             *&#x2F;\n            fillZero(num) &#123;\n                &#x2F;&#x2F;当没有传time的时候\n                if (num &#x3D;&#x3D;&#x3D; undefined) &#123;\n                    this.handlerError(123, &#123;\n                        method: &#39;fillZero&#39;,\n                        param: &#39;num&#39;\n                    &#125;);\n                    return false;\n                &#125;\n                &#x2F;&#x2F;这个函数只是让我们在渲染&#x2F;显示的时候有一个不同的效果，不要操作原数据\n                return num &gt; 9 ? num : &#39;0&#39; + num;\n            &#125;,\n            errors: &#123;\n                123: (&#123;\n                    method,\n                    param\n                &#125;) &#x3D;&gt; &#123;\n                    return method + &#39;function need a param &#39; + param;\n                &#125;\n            &#125;,\n            handlerError(code, options) &#123; &#x2F;&#x2F;处理报错\n                console.error(&#39;[until error] message&#39; + this.errors[code](options));\n            &#125;\n        &#125;\n        Util.instance &#x3D; instance;\n        return instance;\n    &#125;\n&#125;\n\n&#x2F;&#x2F;为了这个工具以后在模块化环境中依然可以使用，需要判断一下，如果是在模块化环境，就将其暴露出去\n&#x2F;&#x2F;commonJs\nif (typeof module &#x3D;&#x3D;&#x3D; &#39;object&#39; &amp;&amp; typeof module.exports &#x3D;&#x3D;&#x3D; &#39;object&#39;) &#123;\n    module.exports &#x3D; Util;\n&#125;\n\n&#x2F;&#x2F;AMD\nif (typeof define &#x3D;&#x3D;&#x3D; &#39;function&#39; &amp;&amp; define.amd) &#123;\n    define(&#39;util&#39;, [], function () &#123;\n        return Util;\n    &#125;);\n&#125;\n\n引入css（一些高度和细节按需自行调整）：\n&#x2F;* 播放器大小 *&#x2F;\n.music-player &#123;\n  width: 570px;\n  height: 500px;\n&#125;\n.music-player h3&#123;\n  margin: 0px 0 1px!important;\n&#125;\n@font-face &#123;font-family: &quot;iconfont&quot;;\n  src: url(&#39;iconfont.eot?t&#x3D;1537976418058&#39;); &#x2F;* IE9*&#x2F;\n  src: url(&#39;iconfont.eot?t&#x3D;1537976418058#iefix&#39;) format(&#39;embedded-opentype&#39;), &#x2F;* IE6-IE8 *&#x2F;\n  url(&#39;data:application&#x2F;x-font-woff;charset&#x3D;utf-8;base64,d09GRgABAAAAAAmcAAsAAAAADgwAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAABHU1VCAAABCAAAADMAAABCsP6z7U9TLzIAAAE8AAAARAAAAFY8lGHxY21hcAAAAYAAAACUAAACBGvSDaxnbHlmAAACFAAABUMAAAbwatoOAWhlYWQAAAdYAAAALwAAADYSwtboaGhlYQAAB4gAAAAcAAAAJAfeA4tobXR4AAAHpAAAAA8AAAAoKAAAAGxvY2EAAAe0AAAAFgAAABYIpgZ4bWF4cAAAB8wAAAAdAAAAIAEYAGNuYW1lAAAH7AAAAUUAAAJtPlT+fXBvc3QAAAk0AAAAZQAAAJSspZ5ZeJxjYGRgYOBikGPQYWB0cfMJYeBgYGGAAJAMY05meiJQDMoDyrGAaQ4gZoOIAgCKIwNPAHicY2BkYWCcwMDKwMHUyXSGgYGhH0IzvmYwYuRgYGBiYGVmwAoC0lxTGByeyf3&#x2F;z9zwv4EhhrmBoQEozAiSAwD0fA0ZeJztkcENwjAQBMdxCAQhQgU88qYeesBKGoh48aLSS7oIa1+QKIKzxtKedWdpF9gBUdxEDeFNINdL3VD6kWPp19ylzxyoaOxqvSUb57RM6wqbHr76p4Jm&#x2F;Fx0oNGfUVtabdzrueFfp3I&#x2F;N9VmPx25hfVOzsqSkzOzwZGX2Ojk2Tk5Oc9lcuR0x6OQE+lIBag+4Pgp1HicbVVrjBNVFJ5z796Zvu482plOH0tLZ9rp7hba0m5bZLuUhwZNQEB2F7airBDlERd5&#x2F;IX4b+MPE3&#x2F;wUhMTEkLEQAwkhpAIgcCaGI3xpyQqwb&#x2F;orgsmGs129Ex3UWJoJufec+43PfN955wZgQjC37&#x2F;SL6giGEKvIESgHjWNHBpNhnzOQAPOILCaH2psI9xP9BNQ4gNACqb7kBRi7lKVbnEvuU2YhhG4ADuUUOn0bUUpdl4e0JU7J9HAuFYEZ3bWveNOz8wI+PtfTj+ITr7G0GirwWQ1NBDVIWf4wcjRz9ylsQJxH5oFAgNxUEh&#x2F;Au6r85cx3bTbdC&#x2F;BdvdjRR84eQcNOV9UlNunSyHFvRAuut&#x2F;PzEAThmdnMWcP5nxA99F9giZkhKIwJAhmEbyMjYoJKdBFCUQqg6mJUbPegLqDxCOWU29BPQWiAqL0pHO3UAGoFJZaRE2l0+nOo2w6IQPICS1K5CxYnTmj45Noj48FRMKknq8854Ou835PFJoVcrbSBN29rJXqpbB7RacbSJ&#x2F;cmVD6CIRgs1HWYWuw82UwSBmlgQBl5DjuJyj1oyWLGn5Na7QhKEJaEMCWwdD0qFlFQqh3Dn1JS8Fjn&#x2F;zeStp2spWwAWy3vDrprcmFhTZw2wl3jxJkduHoSd+rGcV8f9Cb1C&#x2F;khPXCGGbEBHjZljNYb3hZ8Krm0amksXooER60wHQsUU+DjVI7MkTNFAyBJOrRCio5mIcqPmHUrKDYCMBH1qPkkfPuuolPnx+KxGKRofJHG9sfDq9s8oQtT4VCU7KV5E0i2wneXNn70nLZjgNf&#x2F;3oJAUnLA8x&#x2F;PmTvHOBqJA5y662a9yekxI6v3fUejediwN7ZOP42XcUzidAUz&#x2F;KpUCLLV&#x2F;&#x2F;EE1l5GNYUOCSzvPXsKm4lOB6HYC9dlw9Bb5YPbQCI5eKLOqDZT34RkqjEWk95SxIlz3j6D0Eam6mKa72hOdQpga1VReynRn3QsRRUoavHogRmtIIqEE44v+HfG+FKIrK&#x2F;NhGLAeckLkmWOvrasWNkxyFg45KsSuNtSeViuy1yVWqPS6oskZ&#x2F;95wIhVXUfRBKlrRHD39NLTvd2dskvjEAv2bzbnW6LGpfGxyWueTf+u+&#x2F;Ow4&#x2F;0IrVxHvqFljCKTLCeBSzrEvB4VKJpwKoUACuDI4mBegPfC0hSzDfEIvLDghc9CM5rCgxdNBejtf+iJs5E5x5HDcLxeLiq2fzenz7DX82VcXrsqt&#x2F;wAZUjEfmKTwtSKdsH0JeTIKhJy1as0LuxTaMwuqkbGnkV4BVy91owBHHtejjGg9feZz4oZ6&#x2F;bFZ&#x2F;4XdAfnp8L+4M&#x2F;MKJobMnW4rIXU6ImEzG7q&#x2F;7M7m9wtjWxeXH3zvMtjAJ77uobb95YnKNb9BZdIzjCJkHIZbAfZawpVq4ILWRR7XJTIIN0a9jd0SUoEWTyDopS9URKgYIR7HA8bUEGZwLxljOM95KrLi8rQAzFp7LJAAlNMtWn6D7WD3NjB4mW0ugp14K5sroI8ZPggccQV912eAEysDwQUTQfmwj0BvYwBroicZanh0bGFE1TxiZPkE+eimBHxtpyOCxvP3qmO783uzzzwubu&#x2F;Fqix0TKeBUbdPKW91rr0qlipZH+AmGHVeoelUYGu8PQvWHF0e2qY1uihL28wDjKNFsyGxo9q2jk4Jir9jOf3uUUhECXtoFfjjL8duQU1eavIOjwNph7DDoQJP5FkFp2VQ8D35a3qMNwDgmOHKJ5xiVFB8b2IMMJ5tOUSGA5PTGJCmwJy+2xI+ypCHLm6HY5fBTWrOrvd&#x2F;&#x2F;Ccv8D5gQugwB4nGNgZGBgAOJ0oeli8fw2Xxm4WRhA4PrFk0kI+v9+FgbmDCCXg4EJJAoAItUKtAB4nGNgZGBgbvjfwBDDwgACQJKRARVwAQBHEAJzeJxjYWBgYCECAwADmAApAAAAAAAAOgB0ANwBFAGYAfwCgAL0A3gAAHicY2BkYGDgYghnYGEAASYwjwtI&#x2F;gfzGQASMwF8AAAAeJxlj01OwzAQhV&#x2F;6B6QSqqhgh+QFYgEo&#x2F;RGrblhUavdddN+mTpsqiSPHrdQDcB6OwAk4AtyAO&#x2F;BIJ5s2lsffvHljTwDc4Acejt8t95E9XDI7cg0XuBeuU38QbpBfhJto41W4Rf1N2MczpsJtdGF5g9e4YvaEd2EPHXwI13CNT+E69S&#x2F;hBvlbuIk7&#x2F;Aq30PHqwj7mXle4jUcv9sdWL5xeqeVBxaHJIpM5v4KZXu+Sha3S6pxrW8QmU4OgX0lTnWlb3VPs10PnIhVZk6oJqzpJjMqt2erQBRvn8lGvF4kehCblWGP+tsYCjnEFhSUOjDFCGGSIyujoO1Vm9K+xQ8Jee1Y9zed0WxTU&#x2F;3OFAQL0z1xTurLSeTpPgT1fG1J1dCtuy56UNJFezUkSskJe1rZUQuoBNmVXjhF6XNGJPyhnSP8ACVpuyAAAAHicbcrBCoNADATQjLau3dWPjBTdaInINqD9+gb06MBc3gxVdCbSfSIq1HjgiQYBLV6ISJRKZp0OKXm1sBjLLNoM6+gYfqxf0SkVc73MZ39r6&#x2F;2IQ7+bZmM95+7NutlFRH+UdSMxAAAA&#39;) format(&#39;woff&#39;),\n  url(&#39;iconfont.ttf?t&#x3D;1537976418058&#39;) format(&#39;truetype&#39;), &#x2F;* chrome, firefox, opera, Safari, Android, iOS 4.2+*&#x2F;\n  url(&#39;iconfont.svg?t&#x3D;1537976418058#iconfont&#39;) format(&#39;svg&#39;); &#x2F;* iOS 4.1- *&#x2F;\n&#125;\n\n.icon-prev:before &#123; content: &quot;\\f0069&quot;; &#125;\n\n.icon-next:before &#123; content: &quot;\\f006a&quot;; &#125;\n\n.icon-play:before &#123; content: &quot;\\e66a&quot;; &#125;\n\n.icon-pause:before &#123; content: &quot;\\e76a&quot;; &#125;\n\n.icon-random:before &#123; content: &quot;\\e622&quot;; &#125;\n\n.icon-muted:before &#123; content: &quot;\\e61e&quot;; &#125;\n\n.icon-volume:before &#123; content: &quot;\\e87a&quot;; &#125;\n\n.icon-loop:before &#123; content: &quot;\\e66c&quot;; &#125;\n\n.icon-single:before &#123; content: &quot;\\e66d&quot;; &#125;\n\n\n&#x2F;* 播放器位置 *&#x2F;\n.music-player &#123;\n  position: relative;\n  margin: 0px auto;\n&#125;\n\n&#x2F;* 歌曲列表 *&#x2F;\n\n.music-player__list &#123;\n  width: 100%;\n  padding: 10px;\n  margin-top: 30px;\n  background: rgba(0, 0, 0, 0.5);\n  border-radius: 5px;\n  -webkit-box-shadow: 0 2px 6px rgba(0, 0, 0, 0.5);\n  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.5);\n&#125;\n\n.music__list__item &#123;\n  padding-left: 25px;\n  color: #ccc;\n  position: relative;\n  margin-bottom: 10px;\n  font-size: 14px;\n  cursor: pointer;\n&#125;\n\n.music__list__item:last-of-type &#123;\n  margin: 0;\n&#125;\n\n.music__list__item.play &#123;\n  color: #fff;\n&#125;\n\n.music__list__item.play:before &#123;\n  font-family: &#39;iconfont&#39;;\n  content: &quot;\\e87a&quot;;\n  position: absolute;\n  left: 0px;\n  top: 4px;\n&#125;\n&#x2F;* 播放器主体 *&#x2F;\n.music-player__main &#123;\n  height: 180px;\n  padding: 25px;\n  box-shadow: 0 0 10px rgb(0 0 0 &#x2F; 20%);\n  border-radius: 10px;\n  position: relative;\n  overflow: hidden;\n&#125;\n\n&#x2F;* 播放器主体模糊背景 *&#x2F;\n.music-player__blur &#123;\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  background-size: 100%;\n  left: 0;\n  top: 0;\n  z-index: -1;\n  -webkit-filter: blur(20px);\n  filter: blur(20px);\n&#125;\n&#x2F;* 播放器唱片效果 *&#x2F;\n.music-player__disc &#123;\n  float: left;\n  width: 130px;\n  height: 130px;\n  background: url(&#x2F;img&#x2F;cd.png) no-repeat center;\n  background-size: 100%;\n  position: relative;\n&#125;\n\n&#x2F;* 唱片指针 *&#x2F;\n.music-player__pointer &#123;\n  width: 25px;\n  position: absolute;\n  right: -10px;\n  top: 0;\n  -webkit-transform-origin: right top;\n  -ms-transform-origin: right top;\n  transform-origin: right top;\n  -webkit-transform: rotate(-15deg);\n  -ms-transform: rotate(-15deg);\n  transform: rotate(-15deg);\n  -webkit-transition: all 0.3s;\n  -o-transition: all 0.3s;\n  transition: all 0.3s;\n&#125;\n\n&#x2F;* 唱片指针播放状态 加play类名 *&#x2F;\n.music-player__pointer.play &#123;\n  -webkit-transform: rotate(0deg);\n  -ms-transform: rotate(0deg);\n  transform: rotate(0deg);\n&#125;\n\n&#x2F;* 唱片歌曲图片 *&#x2F;\n.music-player__image &#123;\n  width: 80px;\n  height: 80px;\n  border-radius: 50%;\n  position: absolute;\n  overflow: hidden;\n  left: 0;\n  right: 0;\n  top: 0;\n  bottom: 0;\n  margin: auto;\n&#125;\n&#x2F;* 播放器控件 *&#x2F;\n.music-player__controls &#123;\n  width: 330px;\n  height: 130px;\n  float: right;\n&#125;\n\n&#x2F;* 歌曲信息 *&#x2F;\n.music__info &#123;\n  width: 100%;\n  height: 50px;\n  margin-bottom: 15px;\n&#125;\n\n.music__info .music__info--title &#123;\n  color: #fff;\n&#125;\n\n.music__info .music__info--title &#123;\n  font-size: 16px;\n&#125;\n&#x2F;* 控件 *&#x2F;\n\n.player-control &#123;\n  width: 100%;\n&#125;\n\n.player-control__content &#123;\n  overflow: hidden;\n&#125;\n\n&#x2F;* 播放暂停按钮 *&#x2F;\n.player-control__btns &#123;\n  float: left;\n  overflow: hidden;\n&#125;\n\n.player-control__btn &#123;\n  float: left;\n  margin: 0 5px;\n  font-weight: bolder;\n  color: #fff;\n  cursor: pointer;\n&#125;\n\n.player-control__volume &#123;\n  float: right;\n  overflow: hidden;\n&#125;\n\n.control__volume--progress &#123;\n  float: left;\n  width: 100px;\n  position: relative;\n  top: 8px;\n&#125;\n\n.player__song--timeProgess&#123;\n  font-size: 12px;\n  color: #fff;\n  padding: 0px 3px;\n  background: rgba(0, 0, 0, 0.3);\n  border-radius: 5px;\n&#125;\n\n.player-control__content .nowTime&#123;\n  float: left;\n&#125;\n.player-control__content .totalTime&#123;\n  float: right;\n&#125;\n\n.music-player .progress &#123;\n  background: rgba(0, 0, 0, 0.3);\n  height: 5px;\n  -webkit-box-shadow: 0 1px 2px rgba(0, 0, 0, 0.5) inset;\n  box-shadow: 0 1px 2px rgba(0, 0, 0, 0.5) inset;\n  overflow: hidden;\n  margin: 0.5rem 0!important;\n  border-radius: 2px;\n  position: relative;\n  cursor: pointer;\n&#125;\n\n.music-player .progress .back &#123;\n  width: 0px;\n  height: 100%;\n  border-radius: 2px;\n  background: rgb(12, 182, 212);\n&#125;\n\n.music-player .progress .pointer &#123;\n  width: 7px;\n  height: 7px;\n  background: #fff;\n  border-radius: 50%;\n  opacity: 0;\n  -webkit-transition: opacity 0.3s;\n  -o-transition: opacity 0.3s;\n  transition: opacity 0.3s;\n  position: absolute;\n  top: -1px;\n  left: 0;\n&#125;\n\n.music-player .progress:hover .pointer &#123;\n  opacity: 1;\n&#125;\n\n\n&#x2F;* 播放 画片 动画 *&#x2F;\n\n@-webkit-keyframes disc &#123;\n  from &#123;\n      -webkit-transform: rotate(0deg);\n      transform: rotate(0deg);\n  &#125;\n\n  to &#123;\n      -webkit-transform: rotate(360deg);\n      transform: rotate(360deg);\n  &#125;\n&#125;\n\n@keyframes disc &#123;\n  from &#123;\n      -webkit-transform: rotate(0deg);\n      transform: rotate(0deg);\n  &#125;\n  to &#123;\n      -webkit-transform: rotate(360deg);\n      transform: rotate(360deg);\n  &#125;\n&#125;\n.music-player__image.play &#123;\n  -webkit-animation: disc 5s linear 0s infinite;\n  animation: disc 5s linear 0s infinite;\n&#125;\n&#x2F;*  播放进度  *&#x2F;\n.player__song--progress &#123;\n  width: 100%;\n  margin-top: 15px;\n&#125;\n.music-player h1, .music-player h2, .music-player h3,.music-player h4, .music-player h5, .music-player h6, .music-player p &#123;\n  margin: 0; padding: 0;\n&#125;\n.music-player li &#123; list-style: none; &#125;\n\n修改player.js里this.songs的歌曲信息，把音乐换成自己的，接着三连即可。\n\n\n\n\n\n\n\n\n\n本地浏览可能音乐的进度条无法拖动或者一拖动音乐就回到最开头，问题不大，推送上去就正常了。\n音频方案音频存储在本地推送上去会很吃力，所以可以上传到github，用cloudflare加速一下，挺快的！\n","slug":"hexo添加音乐页面","date":"2023-01-02T11:04:19.000Z","categories_index":"魔改","tags_index":"hexo,butterfly","author_index":"丐帮GB"},{"id":"3101ca8efe760b12a7b6d90fb803a84c","title":"html + css 实现无需 js 的打字效果","content":"以前要达到类似在电脑上打字的效果，需要 js+html。今天我将介绍一种新方法。本文主要介绍纯 html+css 实现打字效果，有一定的参考价值，大家可以学习一下。提供所有代码，可以直接使用。\n\n一、原理分析可以将动画看做三个不同的层次：\n1.最底层的文字2.中间挡住文字的背景3.最上层的光标\n文字是静止的，而中间的背景和最上层的光标是动态的。\n初始时，背景挡住所有的文字，光标在最左边。\n动画进行时，背景和光标以相同的步伐从左往右移动。\n动画结束时，背景不再遮挡文字，光标则在最右边闪烁。\n这种实现唯一的好处是不需要 js，但缺点是只能用于一行文本，多行文本理论上可以实现，但是比较麻烦。\n&lt;!DOCTYPE html&gt;\n&lt;html lang&#x3D;&quot;en&quot;&gt;\n&lt;head&gt;\n  &lt;meta charset&#x3D;&quot;UTF-8&quot;&gt;\n  &lt;meta http-equiv&#x3D;&quot;X-UA-Compatible&quot; content&#x3D;&quot;IE&#x3D;edge&quot;&gt;\n  &lt;meta name&#x3D;&quot;viewport&quot; content&#x3D;&quot;width&#x3D;device-width, initial-scale&#x3D;1.0&quot;&gt;\n  &lt;title&gt;Typing effect without js&lt;&#x2F;title&gt;\n  &lt;style&gt;\n    :root &#123;\n      &#x2F;* number of characters *&#x2F;\n      --steps: 345;\n      &#x2F;* animation time *&#x2F;\n      --duration: 2.5s;\n      --fontSize: 50px;\n      --cursorSize: 20px;\n    &#125;\n    .text &#123;\n      color: #333;;\n      position: relative;\n      display: inline-block;\n      font-family: &#39;Courier New&#39;, Courier, monospace;\n      font-size: var(--fontSize);\n      line-height: 1;\n    &#125;\n    .text::after &#123;\n      content: &#39;&#39;;\n      width: var(--cursorSize);\n      height: var(--fontSize);\n      background-color: black;\n      z-index: 2;\n      position: absolute;\n      animation: blink 1s var(--duration) step-end infinite,\n      moveCursor var(--duration) steps(var(--steps)) forwards;\n    &#125;\n    .text::before &#123;\n      content: &#39;&#39;;\n      width: 100%;\n      height: var(--fontSize);\n      z-index: 1;\n      position: absolute;\n      background: linear-gradient(#fff, #fff) no-repeat top right;\n      animation: showText var(--duration) steps(var(--steps)) forwards;\n    &#125;\n    &#x2F;* Cursor blink animation *&#x2F;\n    @keyframes blink &#123;\n      0% &#123;\n        background-color: black;\n      &#125;\n      50% &#123;\n        background-color: transparent;\n      &#125;\n      100% &#123;\n        background-color: black;\n      &#125;\n    &#125;\n    &#x2F;* Cursor movement animation *&#x2F;\n    @keyframes moveCursor &#123;\n      0% &#123;\n        left: 0%;\n      &#125;\n      100% &#123;\n        left: 100%;\n      &#125;\n    &#125;\n    &#x2F;* background moving animation *&#x2F;\n    @keyframes showText &#123;\n      0% &#123;\n        background-size: 100% 100%;\n      &#125;\n      100% &#123;\n        background-size: 0% 100%;\n      &#125;\n    &#125;\n  &lt;&#x2F;style&gt;\n&lt;&#x2F;head&gt;\n&lt;body&gt;\n&lt;div class&#x3D;&quot;text&quot;&gt;hello,world!&lt;&#x2F;div&gt;\n&lt;&#x2F;body&gt;\n&lt;&#x2F;html&gt;\n","slug":"yzrZu49rG","date":"2023-01-01T13:56:49.000Z","categories_index":"网络技巧","tags_index":"小知识,教程,HTML,CSS","author_index":"丐帮GB"},{"id":"fbf5ea78706f6fd6dde29ca61cc7071f","title":"在网站上更改鼠标样式","content":"笔者研究了一下，发现仅通过CSS（不知道还有没有别的方法）没办法达到笔者真正想改变鼠标指针样式的目的\n和自己在电脑上安装鼠标指针样式不同，网站上鼠标指针没法根据鼠标指针自身状态而更改样式，而只能通过CSS选择器，根据网页元素的状态来更改鼠标指针样式\n\n\n\n\n\n\n\n\n\nCSS选择器参考手册https://www.w3school.com.cn/cssref/css_selectors.ASP\n但CSS选择器标识的元素状态是没法表示所有指针状态的。可以说更改网站上鼠标指针样式比起更改电脑上的鼠标指针样式会略显逊色，前者只能达到后者的部分效果\n笔者使用了Breeze Contrast鼠标指针样式，效果如下目前已经更换\n\n\n\n\n\n\n\n\n\n\nBreeze Contrast鼠标指针样式下载https://zhutix.com/ico/breeze-contrast-cursors/\n将下载下来的文件放置到你自己服务器上相应目录下\n在相应的CSS文件中添加下列代码：\nbody &#123;\n\tcursor: url(Arrow.cur), default;\n&#125;\nselect&#123;\n\tcursor: url(Hand.cur), pointer;\n&#125;\nbutton,a:hover&#123;\n\tcursor: url(Hand2.cur), pointer;\n&#125;\ninput&#123;\n\tcursor:url(Help.cur), text;\t\n&#125;\ntextarea,input:focus&#123;\n\tcursor:url(IBeam.cur), text;\t\n&#125;\ncode&#123;\n\tcursor: url(Handwriting.cur), default;\t\n&#125;\npre&gt;code&#123;\n\tcursor: url(Copy.cur), default;\t\n&#125;\ncursor中url参数指相应鼠标指针样式的图片的地址，第二个参数指当图片不生效时使用的鼠标指针类型\n\n\n\n\n\n\n\n\n\n鼠标指针类型可查看https://www.w3school.com.cn/cssref/pr_class_cursor.asp\n","slug":"在网站上更改鼠标样式","date":"2022-12-19T11:02:41.000Z","categories_index":"魔改","tags_index":"更改鼠标样式,css","author_index":"丐帮GB"},{"id":"b9663f58f18133b35bfe243f3e916a80","title":"Hello World","content":"Welcome to Hexo! This is your very first post. Check documentation for more info. If you get any problems when using Hexo, you can find the answer in troubleshooting or you can ask me on GitHub.\nQuick StartCreate a new post$ hexo new &quot;My New Post&quot;\n\nMore info: Writing\nRun server$ hexo server\n\nMore info: Server\nGenerate static files$ hexo generate\n\nMore info: Generating\nDeploy to remote sites$ hexo deploy\n\nMore info: Deployment\n","slug":"hello-world","date":"2022-12-19T03:40:17.000Z","categories_index":"随笔","tags_index":"hexo,butterfly","author_index":"丐帮GB"}]